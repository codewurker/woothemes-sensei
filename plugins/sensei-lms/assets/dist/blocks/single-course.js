/******/(()=>{// webpackBootstrap
/******/var e={
/***/20436:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n,l=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const r=function(e){
return l.createElement("svg",o({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M9 18.6 3.5 13l1-1L9 16.4l9.5-9.9 1 1z",fill:"currentColor"})))};
/***/},
/***/29375:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n,l=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const r=function(e){
return l.createElement("svg",o({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 4.5H5a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5ZM5 3a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h4.511l-1.03 2.75H7a.75.75 0 0 0 0 1.5h10a.75.75 0 0 0 0-1.5h-1.48L14.489 16H19a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm5 3.5 5 3-5 3v-6Zm3.918 12.25h-3.836l.938-2.5h1.96l.938 2.5Z",fill:"#1E1E1E"})))};
/***/},
/***/73362:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n,l=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const r=function(e){
return l.createElement("svg",o({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M4 4v12h4.777L6 20h2.223L11 16h2l2.777 4H18l-2.777-4H20V4zm1.5 1.5h13v9h-13zM9 8v1.5h6V8zm0 3v1.5h6V11z",clipRule:"evenodd",fillRule:"evenodd"})))};
/***/},
/***/33731:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n,l,o=s(99196);
/* harmony import */function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(this,arguments)}
/* harmony default export */const i=function(e){
return o.createElement("svg",r({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=o.createElement("circle",{cx:12,cy:12,r:12,fill:"#43AF99"})),l||(l=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.835 15.38c.3-.23.179-.474.6-.563-.02.194.146.391.251.563-.109-.367-.002-.536.08-.72.347-.785-.662-1.293-1.35-1.418.235-.164.399-.327.694-.355a2.377 2.377 0 0 0-1.058.23c-1.112.531-1.993-.523-1.41-1.48.31-.51.664-.519.982-.865.077.178.103.372.075.564a.919.919 0 0 0 .049-.664c-.104-.336-.4-.338-.456-.821-.012-.101-.105.056-.263-.077-.038-.032-.113-.09-.163-.064-.085.044-.18.008-.232.034-.083.041-.109-.045-.2.016-.16.107-.178-.013-.332.005-.193.023-.32.261-.43.144-.102-.108-.206.075-.28.075-.05 0-.311.317-.426.028-.086-.216-.28.206-.382.063-.033-.046-.123.108-.18-.044-.014-.035 0-.078-.108-.027-.215.099-.138-.06-.207-.144-.083-.103-.113-.103-.068-.27.036-.133-.019-.33.2-.364.055-.008.107-.005.184-.148.096-.18.231-.093.207-.175-.036-.119.143-.28.226-.355.11-.103.254-.252.306-.396a.63.63 0 0 1 .102-.141c.081-.084.105-.003.227-.045.088-.03.02.053.106-.07.028-.038.105-.001.19-.039.259-.112.283-.11.347-.371.012-.05.025-.088.08-.083.109.01.134-.052.2-.05.061.001.083-.03.115-.068.18-.216.277-.055.357-.072.06-.012.022-.142.184-.102.23.057.155-.05.303-.015.174.041.186.19.306.225.143.042.211.198.307.196.337-.005.235.23.448.323-.16-.161.012-.421-.352-.455-.08-.007-.11-.127-.23-.183-.146-.067-.13-.21-.394-.27.068-.04.089.005.13-.073.058-.11.09-.046.113-.113.02-.063.006-.099.165-.155.165-.06.325-.195.472-.188.13.006.185-.08.177-.19-.008-.112-.033-.267.222-.22.153.029.15.003.15-.1-.002-.102.04-.165.174-.16.098.002.194-.003.231-.117.03-.091.207-.114.302-.148.317-.114.361.05.447-.095.07-.117.196-.317.337-.175.028.029.054.05.15-.056.08-.088.27-.2.337-.048.027.06.086.121.138.044a.08.08 0 0 1 .053-.039c.05-.01.079-.024.104-.036.218-.101.314-.095.213.125-.142.316.792-.192.532.151-.095.126.538.197.63.254.05.032.048.059.144.077.271.05.267.026.284.243.007.098.107.043.107.168 0 .535.472.266.549.399.012.022.032.042.079.042.149 0 .157-.03.224.089.027.047.05.072.127.096.12.037.112.05.068.138-.054.104.03.102.138.112.1.01.148.062.216.138.11.122.284.156.43.227.084.04.002.14.143.243.104.077.156.066.016.165-.59.418.22.305.446.694.051.087.118.195.216.295.225.23.1.293.221.437.07.083.015.063.13.137.272.175-.105.292-.319.212-.097-.035-.166-.085-.147-.025.016.049-.01.083-.052.12-.125.112.123.068.181.06.181-.025.664-.076.66.093-.005.22.136.27.25.284.185.024.238.057.34.226.092.152.145.07.288.205.097.093.217.258.02.282-.047.005-.099 0-.12.017a.411.411 0 0 1-.14.066c-.295.09.14.136.246.113.093-.02.209-.05.3-.027.057.015.062.08.244.107.06.01.036.099.006.16-.104.214.191.1.16.263-.017.093.11.245-.067.248-.057.001-.117-.015-.115.034.004.105-.165-.03-.317.115-.056.054-.19.092-.272-.009-.032-.038-.07-.069-.218-.023-.144.046-.242.204-.306-.04-.017-.064-.05-.065-.142-.097-.125-.043-.114-.258-.297-.12a.24.24 0 0 1-.214.039c-.144-.037-.303.012-.317-.096-.021-.179-.191-.305-.377-.296-.147.008-.278.034-.355-.137.057.195.207.208.382.208.144 0 .23.075.255.225.045.265.204.099.406.223.1.06.17.159.21.273.042.118.37-.024.282.258-.037.122-.107.168-.242.266-.4.294-.5.004-.618.239-.062.121-.063.031-.196.09-.22.098-.36-.128-.522-.045-.182.094-.168-.08-.352.037-.152.097-.308-.074-.38.192-.063.227-.322.232-.44.11-.189-.194-.132.229-.362.054-.123-.091-.213.043-.392.045-.33.005-.489-.282-.65-.107-.192.206-.331-.032-.334-.242-.003-.216-.777-.144-1.185-.256-.225-.062-.932.013-.702-.35-.372.39.456.366.682.455.136.053.245.095.377.114.13.296.214.617.227 1.007.043-.214.053-.433.028-.649-.043-.383.242.19.276.272.184.45-.022 1.278-.488 1.526a2.957 2.957 0 0 0-.562-.99c.256.392.616 1.192.327 1.65a1.023 1.023 0 0 1-.55-.483c.077.333.413.702.818.58.707-.213.704.233 1.641.307.682.111 1.654 0 2.118.037.254.02 1.32.197 1.315.465-.02 1.105-.438 1.164-1.539 1.268-.64.06-1.134.085-1.823.11-1.54.058-3.391.06-4.868 0-.724-.03-1.072-.036-1.841-.137-.769-.1-1.19-.363-1.178-1.187.005-.304.905-.594 1.2-.628.347-.039.901.005 1.405-.116.527-.127.747-.21 1.135-.508Zm5.347-6.052c-.167-.042-.051-.138-.339-.014-.17.073-.194-.13-.365-.094-.172.036-.242-.125-.499-.166-.318-.05-.088-.133-.592-.032-.097.02-.179-.09-.481-.052-.355.046-.23.084-.445-.115-.272-.251-.488-.082-.767-.184.216.166.368.019.622.221-.242.138-.523.802-.962.844.478.107.709.354 1.148.413.504.068.882.118 1.151.531.301.463.44.196.874.168.275-.017.282-.185.328-.362.063-.245.126-.256.31-.289.213-.037.163-.092.107-.156-.15-.172.019-.207.146-.244.222-.064.042-.075.042-.166-.278-.09-.063-.217.092-.273.169.105.242.087.317.073.109-.021.181.03.273-.028-.135.014-.163-.037-.278-.02-.051.007-.112.01-.219-.054-.18-.107-.27.048-.463 0Zm-2.28 1.64-1.09-.545c-1.316-.657-1.915.313-2.337 1.376l-.766.73c.549-.338.996-.714 1.574-.71.092 0 1.516.484 1.286-.092-.04-.104.09-.052.125-.201.04-.17.055-.141.195-.033.089.069.211.113.174-.048-.017-.072-.04-.137.28-.004.15.062.095-.064.303-.09.29-.034.228-.31.364-.349.076-.022.152.058.295-.077.05-.046.11-.089.232-.057-.143-.073-.22-.014-.292.03-.146.089-.204-.037-.343.07Zm-2.23-1.923c.16-.02.32-.036.482-.046a.13.13 0 0 0 .074-.06.111.111 0 0 0 .007-.09.268.268 0 0 1 .147-.206l-.002-.003c-.258.001-.466.1-.73.211-.052.022-.024.111-.118.213a.26.26 0 0 1-.201.235.136.136 0 0 0-.09.046.113.113 0 0 0-.026.092.252.252 0 0 1-.277.061c-.2-.077-.35-.065-.448.036a.39.39 0 0 1 .398.014c.134.066.3.031.39-.082a.132.132 0 0 1 .126-.098.421.421 0 0 0 .268-.323Z",fill:"#fff"})))};
/***/},
/***/90180:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n,l,o=s(99196);
/* harmony import */function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},r.apply(this,arguments)}
/* harmony default export */const i=function(e){
return o.createElement("svg",r({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5v9h-13v-9h13zM20 16H4V4h16v12z"})),l||(l=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12h6V8H9v4zm-3 8h2.222L11 16H8.778L6 20zm12 0h-2.222L13 16h2.222L18 20z"})))};
/***/},
/***/36414:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>l
/* harmony export */});
/* harmony import */var n=s(69307);
/* harmony import */
/* harmony default export */const l=(0,n.forwardRef)((
/**
 * WordPress dependencies
 */
/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */
/**
 * Return an SVG icon.
 *
 * @param {IconProps}                                 props icon is the SVG component to render
 *                                                          size is a number specifiying the icon size in pixels
 *                                                          Other props will be passed to wrapped SVG component
 * @param {import('react').ForwardedRef<HTMLElement>} ref   The forwarded ref to the SVG element.
 *
 * @return {JSX.Element}  Icon component
 */
function({icon:e,size:t=24,...s},l){return(0,n.cloneElement)(e,{width:t,height:t,...s,ref:l})}));
//# sourceMappingURL=index.js.map
/***/},
/***/80454:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));
/* harmony default export */}
//# sourceMappingURL=check.js.map
/***/,
/***/23455:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));
/* harmony default export */}
//# sourceMappingURL=chevron-right.js.map
/***/,
/***/12585:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));
/* harmony default export */}
//# sourceMappingURL=chevron-up.js.map
/***/,
/***/70528:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"}));
/* harmony default export */}
//# sourceMappingURL=plus.js.map
/***/,
/***/99854:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}));
/* harmony default export */}
//# sourceMappingURL=search.js.map
/***/,
/***/58772:
/***/(e,t,s)=>{"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(90331);function l(){}function o(){}o.resetWarningCache=l,e.exports=function(){function e(e,t,s,l,o,r){if(r!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;
// Important!
// Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:l};return s.PropTypes=s,s}}
/***/,
/***/23615:
/***/(e,t,s)=>{
// By explicitly using `prop-types` you are opting into new production behavior.
// http://fb.me/prop-types-in-prod
e.exports=s(58772)()}
/***/,
/***/90331:
/***/e=>{"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}
/***/,
/***/98286:
/***/(e,t,s)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),r=c(s(99196)),i=c(s(23615)),a=c(s(90005));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},m=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function p(e){for(var t=arguments.length,s=Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];if(!s.length)return e;for(var l={},o=Object.keys(e),r=0;r<o.length;r++){var i=o[r];-1===s.indexOf(i)&&(l[i]=e[i])}return l}
// Start animation helper using nested requestAnimationFrames
function h(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function g(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _(e){
// Percentage height
return"string"==typeof e&&e.search("%")===e.length-1&&g(e.substr(0,e.length-1))}function E(e,t){e&&"function"==typeof e&&e(t)}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.animationFrameIDs=[];var n="auto",o="visible";g(e.height)?(
// If value is string "0" make sure we convert it to number 0
n=e.height<0||"0"===e.height?0:e.height,o="hidden"):_(e.height)&&(
// If value is string "0%" make sure we convert it to number 0
n="0%"===e.height?0:e.height,o="hidden"),s.animationStateClasses=l({},d,e.animationStateClasses);var r=s.getStaticStateClasses(n);return s.state={animationStateClasses:r,height:n,overflow:o,shouldUseTransitions:!1},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.state.height;
// Hide content if height is 0 (to prevent tabbing into it)
// Check for contentElement is added cause this would fail in tests (react-test-renderer)
// Read more here: https://github.com/Stanko/react-animate-height/issues/17
this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var s,n,l=this,o=this.props,r=o.delay,i=o.duration,c=o.height,d=o.onAnimationEnd,m=o.onAnimationStart;
// Check if 'height' prop has changed
if(this.contentElement&&c!==e.height){var p;
// Remove display: none from the content div
// if it was hidden to prevent tabbing into it
this.showContent(t.height),
// Cache content height
this.contentElement.style.overflow="hidden";var v=this.contentElement.offsetHeight;this.contentElement.style.overflow="";
// set total animation time
var f=i+r,y=null,b={height:null,// it will be always set to either 'auto' or specific number
overflow:"hidden"},S="auto"===t.height;g(c)?(
// If value is string "0" make sure we convert it to number 0
y=c<0||"0"===c?0:c,b.height=y):_(c)?(
// If value is string "0%" make sure we convert it to number 0
y="0%"===c?0:c,b.height=y):(
// If not, animate to content height
// and then reset to auto
y=v,// TODO solve contentHeight = 0
b.height="auto",b.overflow=null),S&&(
// This is the height to be animated to
b.height=y,
// If previous height was 'auto'
// set starting height explicitly to be able to use transition
y=v);
// Animation classes
var w=(0,a.default)((u(p={},this.animationStateClasses.animating,!0),u(p,this.animationStateClasses.animatingUp,"auto"===e.height||c<e.height),u(p,this.animationStateClasses.animatingDown,"auto"===c||c>e.height),u(p,this.animationStateClasses.animatingToHeightZero,0===b.height),u(p,this.animationStateClasses.animatingToHeightAuto,"auto"===b.height),u(p,this.animationStateClasses.animatingToHeightSpecific,b.height>0),p)),k=this.getStaticStateClasses(b.height);
// Animation classes to be put after animation is complete
// Set starting height and animating classes
// We are safe to call set state as it will not trigger infinite loop
// because of the "height !== prevProps.height" check
this.setState({// eslint-disable-line react/no-did-update-set-state
animationStateClasses:w,height:y,overflow:"hidden",
// When animating from 'auto' we first need to set fixed height
// that change should be animated
shouldUseTransitions:!S}),
// Clear timeouts
clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),S?(
// When animating from 'auto' we use a short timeout to start animation
// after setting fixed height above
b.shouldUseTransitions=!0,h(this.animationFrameIDs),this.animationFrameIDs=(s=function(){l.setState(b),
// ANIMATION STARTS, run a callback if it exists
E(m,{newHeight:b.height})},(n=[])[0]=requestAnimationFrame((function(){n[1]=requestAnimationFrame((function(){s()}))})),n),
// Set static classes and remove transitions when animation ends
this.animationClassesTimeoutID=setTimeout((function(){l.setState({animationStateClasses:k,shouldUseTransitions:!1}),
// ANIMATION ENDS
// Hide content if height is 0 (to prevent tabbing into it)
l.hideContent(b.height),
// Run a callback if it exists
E(d,{newHeight:b.height})}),f)):(
// ANIMATION STARTS, run a callback if it exists
E(m,{newHeight:y}),
// Set end height, classes and remove transitions when animation is complete
this.timeoutID=setTimeout((function(){b.animationStateClasses=k,b.shouldUseTransitions=!1,l.setState(b),
// ANIMATION ENDS
// If height is auto, don't hide the content
// (case when element is empty, therefore height is 0)
"auto"!==c&&
// Hide content if height is 0 (to prevent tabbing into it)
l.hideContent(y),
// Run a callback if it exists
E(d,{newHeight:y})}),f))}}},{key:"componentWillUnmount",value:function(){h(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,a.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,s=this.props,n=s.animateOpacity,o=s.applyInlineTransitions,i=s.children,c=s.className,d=s.contentClassName,h=s.delay,g=s.duration,_=s.easing,E=s.id,v=s.style,f=this.state,y=f.height,b=f.overflow,S=f.animationStateClasses,w=f.shouldUseTransitions,k=l({},v,{height:y,overflow:b||v.overflow});w&&o&&(k.transition="height "+g+"ms "+_+" "+h+"ms",
// Include transition passed through styles
v.transition&&(k.transition=v.transition+", "+k.transition),
// Add webkit vendor prefix still used by opera, blackberry...
k.WebkitTransition=k.transition);var C={};n&&(C.transition="opacity "+g+"ms "+_+" "+h+"ms",
// Add webkit vendor prefix still used by opera, blackberry...
C.WebkitTransition=C.transition,0===y&&(C.opacity=0));var T=(0,a.default)((u(e={},S,!0),u(e,c,c),e)),x=void 0!==this.props["aria-hidden"]?this.props["aria-hidden"]:0===y;
// Check if user passed aria-hidden prop
return r.default.createElement("div",l({},p.apply(void 0,[this.props].concat(m)),{"aria-hidden":x,className:T,id:E,style:k}),r.default.createElement("div",{className:d,style:C,ref:function(e){return t.contentElement=e}},i))}}]),t}(r.default.Component);v.propTypes={"aria-hidden":i.default.bool,animateOpacity:i.default.bool,animationStateClasses:i.default.object,applyInlineTransitions:i.default.bool,children:i.default.any.isRequired,className:i.default.string,contentClassName:i.default.string,delay:i.default.number,duration:i.default.number,easing:i.default.string,height:function(e,t,s){var l=e[t];return"number"==typeof l&&l>=0||_(l)||"auto"===l?null:new TypeError('value "'+l+'" of type "'+(void 0===l?"undefined":n(l))+'" is invalid type for '+t+" in "+s+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:i.default.string,onAnimationEnd:i.default.func,onAnimationStart:i.default.func,style:i.default.object},v.defaultProps={animateOpacity:!1,animationStateClasses:d,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.Z=v}
/***/,
/***/67260:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */h:()=>/* binding */i
/* harmony export */,z:()=>/* binding */a
/* harmony export */});
/* harmony import */var n=s(92819),l=s(9818),o=s(29512),r=s.n(o);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Checks if a block has a registered style which matches with the supplied class.
 *
 * @param {Array}  blockStyles The block's registered styles.
 * @param {string} className   The class to check.
 *
 * @return {boolean} True if there is a match.
 */
const i=(e,t)=>{if(t){const e=t.match(/is-style-\w+/);if(e)return e[0]}const s=(0,n.find)(e,"isDefault");return s?"is-style-"+s.name:null},a=(e,t)=>{const{attributes:{className:s},name:n}=(0,l.select)("core/block-editor").getBlock(e),o=(0,l.select)("core/blocks").getBlockStyles(n);if(((e,t)=>e&&e.some((e=>"is-style-"+e.name===t)))(o,t)){const n=new(r())(s),a=i(o,s);a&&n.remove(a),n.add(t),(0,l.dispatch)("core/block-editor").updateBlockAttributes(e,{className:n.value})}};
/**
 * Returns the active style class from the given className.
 *
 * @param {Array}  styles    Block style variations.
 * @param {string} className Class name.
 *
 * @return {string} The active style class.
 */}
/***/,
/***/1849:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */v:()=>/* binding */a
/* harmony export */});
/* harmony import */var n=s(9818),l=s(65736),o=s(23728),r=s(69973);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const i=()=>(0,r/* .getFirstBlockByName */.H4)("sensei-lms/course-outline",(0,n.select)("core/block-editor").getBlocks()),a="sensei/course-structure";(0,o/* .registerStructureStore */.x)({storeName:a,*getEndpoint(){return`course-structure/${yield(0,n.select)("core/editor").getCurrentPostId()}?context=edit`},*updateBlock(e){const{clientId:t=null}=i();if(!t||!e||0===e.length)return;const s=yield(0,n.select)("core/block-editor").getBlocks(t);yield(0,n.dispatch)("core/block-editor").replaceInnerBlocks(t,(0,r/* .syncStructureToBlocks */.pu)(e,s),!1)},blockExists:()=>!!i(),readBlock:()=>{const e=i();return e?{structure:(0,r/* .extractStructure */.Vw)(e.innerBlocks)}:null},*saveError(e){const t=(0,l.sprintf)(/* translators: Error message. */
(0,l.__)("Course modules and lessons could not be updated. %s","sensei-lms"),e.message);yield(0,n.dispatch)("core/notices").createErrorNotice(t,{id:"course-outline-save-error"})},clearError(){
// Clear error notices.
(0,n.dispatch)("core/notices").removeNotice("course-outline-save-error")},
/**
   * Prepend structure in server's response.
   *
   * @param {Object} structure The structure response.
   *
   * @return {Object} The modified response.
   */
setServerStructure:e=>e?{structure:e}:{}})}
/***/,
/***/69973:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */pu:()=>/* binding */a
/* harmony export */,Vw:()=>/* binding */d
/* harmony export */,H4:()=>/* binding */m
/* harmony export */,tf:()=>/* binding */p
/* harmony export */});
/* unused harmony exports blockNames, blockTypes */
/* harmony import */var n=s(4981),l=s(9818),o=s(92819);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Course structure data.
 *
 * @global
 * @typedef {Array.<(CourseLessonData|CourseModuleData)>} CourseStructure
 */
/**
 * @typedef CourseModuleData
 * @param {string}             type        Block type ('module')
 * @param {string?}            title       Module title
 * @param {number?}            id          Module ID
 * @param {string?}            description Module description
 * @param {CourseLessonData[]} lessons     Module lessons
 */
/**
 * @typedef CourseLessonData
 * @param {string}  type           Block type ('lesson')
 * @param {string?} title          Lesson title
 * @param {number?} id             Lesson ID
 * @param {string?} initialContent Initial lesson content.
 */
const r={module:"sensei-lms/course-outline-module",lesson:"sensei-lms/course-outline-lesson"},i=(0,o.invert)(r),a=(e,t)=>(e||[]).map((e=>{let{type:s,lessons:l,...o}=e,i=u(t,e);return e.id&&(o={...o}),i?i.attributes={...i.attributes,...o}:i=(0,n.createBlock)(r[s],o),"module"===s&&(i.innerBlocks=a(l,i.innerBlocks)),i})),c=(0,o.curry)(((e,t)=>{const{name:s,attributes:n}=t,l=Object.keys(i).includes(s),o="module"===e.type;return!!l&&(o?[e.title,e.lastTitle].includes(n.title):n.id?e.id===n.id:void 0)})),u=(e,t)=>{const s=e.find(c(t));return s||"lesson"!==t.type?s:((e,t)=>e.reduce(((e,s)=>e||s.innerBlocks.find(t)),!1))
/**
 * Find the block for a given lesson/module item.
 *
 * @param {Object[]}                                    blocks     Block.
 * @param {Array.<(CourseLessonData|CourseModuleData)>} courseData Course item.
 * @return {Object} The block, if found.
 */(e,c(t))},d=e=>{const t={module:e=>({description:e.attributes.description,lessons:d(e.innerBlocks),teacher:e.attributes.teacher,teacherId:e.attributes.teacherId,lastTitle:e.attributes.lastTitle,slug:e.attributes.slug}),lesson:e=>({draft:e.attributes.draft,preview:e.attributes.preview,initialContent:e.attributes.initialContent})};return e.map((e=>{const s=i[e.name];return{type:s,id:e.attributes.id,title:e.attributes.title,...t[s](e)}})).filter((e=>"module"===e.type||!!e.title))},m=(e,t)=>{for(let s=0;s<t.length;s++){const n=t[s];if(e===n.name)return n;if(n.innerBlocks&&n.innerBlocks.length>0){const t=m(e,n.innerBlocks);if(t)return t}}return!1},p=(e,t)=>{let s=(0,l.select)("core/block-editor").getBlocks(e);return s=s.reduce(((e,t)=>[...e,...t.innerBlocks]),s),s.filter((e=>{let{name:s}=e;return t===s}))}}
/***/,
/***/75913:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */He:()=>/* reexport safe */n.Z
/* harmony export */,iT:()=>/* reexport safe */l.Z
/* harmony export */,G$:()=>/* reexport safe */o.Z
/* harmony export */});
/* harmony import */var n=s(46173),l=s(90086),o=s(31458);
/* harmony import */s(1849),s(62993)}
/**
 * Internal dependencies
 */
/***/,
/***/31458:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(65736),l=s(73362),o=s(28880),r=s(37231);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/* harmony default export */const i={...r,metadata:r,icon:l/* ["default"] */.Z,example:{attributes:{title:(0,n.__)("Start learning","sensei-lms")}},edit:o/* ["default"] */.Z};
/***/},
/***/63028:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>/* binding */m
/* harmony export */,C:()=>p
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),o=s(55609),r=s(9818),i=s(72067),a=s(12238),c=s(65736),u=s(1849);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const d=e=>`post.php?post=${e}&action=edit`
/**
 * Link to edit the Lesson in a new tab.
 *
 * @param {Object} props          Component props.
 * @param {number} props.lessonId The lesson ID.
 * @param {Object} forwardedRef   The forwarded ref.
 */,m=(0,l.forwardRef)(((e,t)=>{let{lessonId:s,...o}=e;return(0,l.createElement)("a",(0,n/* ["default"] */.Z)({ref:t,href:d(s),className:"wp-block-sensei-lms-course-outline-lesson__edit"},o),(0,c.__)("Edit lesson","sensei-lms"))})),p=e=>{let{lessonId:t,lessonTitle:s}=e;
// Determine whether we are currently saving.
const{isSavingPost:n,isSavingMetaBoxes:d,isSavingStructure:p}=(0,r.useSelect)((e=>({isSavingPost:e(a.store).isSavingPost(),isSavingMetaBoxes:e(i.store).isSavingMetaBoxes(),isSavingStructure:e(u/* .COURSE_STORE */.v).getIsSavingStructure()}))),{savePost:h}=(0,r.useDispatch)(a.store);
// Function to trigger saving the post.
// If we don't have an ID or a title yet, don't render anything.
if(!t&&!s)return null;
// Component for the "Save and edit lesson" button.
const g=(0,l.createElement)(o.ToolbarItem,{as:o.Button,onClick:h,className:"wp-block-sensei-lms-course-outline-lesson__save"},(0,c.__)("Save to edit lesson","sensei-lms")),_=(0,l.createElement)(o.ToolbarItem,{as:o.Spinner});
// Spinner.
let E=g;return t?E=(0,l.createElement)(o.ToolbarItem,{as:m,lessonId:t}):(n||p||d)&&(E=_),(0,l.createElement)(o.ToolbarGroup,{className:"components-button"},E)}}
/***/,
/***/28880:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>E
/* harmony export */});
/* unused harmony export LessonEdit */
/* harmony import */var n=s(25773),l=s(69307),o=s(90005),r=s.n(o),i=s(36414),a=s(80454),c=s(23455),u=s(65736),d=s(53112),m=s(26622),p=s(3295),h=s(72469),g=s(95598),_=s(76515);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Edit lesson block component.
 *
 * @param {Object}   props                     Component props.
 * @param {string}   props.className           Custom class name.
 * @param {Object}   props.attributes          Block attributes.
 * @param {string}   props.attributes.title    Lesson title.
 * @param {number}   props.attributes.id       Lesson Post ID
 * @param {number}   props.attributes.fontSize Lesson title font size.
 * @param {boolean}  props.attributes.draft    Draft status of lesson.
 * @param {boolean}  props.attributes.preview  Whether lesson has preview enabled.
 * @param {Object}   props.backgroundColor     Background color object.
 * @param {Object}   props.textColor           Text color object.
 * @param {Function} props.setAttributes       Block set attributes function.
 */
const E=(0,d/* .withColorSettings */.ku)({backgroundColor:{style:"background-color",label:(0,u.__)("Background color","sensei-lms")},textColor:{style:"color",label:(0,u.__)("Text color","sensei-lms")}})((e=>{const{className:t,attributes:{title:s,id:o,fontSize:d,draft:E,preview:v,placeholder:f},backgroundColor:y,textColor:b,setAttributes:S}=e,{onKeyDown:w}=(0,m/* .useKeydownInserter */.V)(e),k=(0,_/* .useLessonPreviewStatus */.z)(e);
/**
   * Update lesson title.
   *
   * @param {string} value Lesson title.
   */let C="";!o&&s.length?C=(0,u.__)("Unsaved","sensei-lms"):o&&E&&(C=(0,u.__)("Draft","sensei-lms"));const T={className:r()(t,null==y?void 0:y.class,null==b?void 0:b.class,{completed:k.previewStatus===h/* .Status.COMPLETED */.q.COMPLETED,"is-auto-draft":!o&&!s}),style:{backgroundColor:null==y?void 0:y.color,color:null==b?void 0:b.color}};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(g/* ["default"] */.Z,(0,n/* ["default"] */.Z)({},e,k)),(0,l.createElement)("div",(0,n/* ["default"] */.Z)({},T,{"data-lesson-id":o}),(0,l.createElement)(i/* ["default"] */.Z,{icon:a/* ["default"] */.Z,className:"wp-block-sensei-lms-course-outline-lesson__status"}),(0,l.createElement)(p/* ["default"] */.Z,{className:"wp-block-sensei-lms-course-outline-lesson__input",placeholder:f||(0,u.__)("Add Lesson","sensei-lms"),value:s,onChange:e=>{S({title:e})},onKeyDown:w,style:{fontSize:d}}),v&&(0,l.createElement)("span",{className:"wp-block-sensei-lms-course-outline-lesson__badge"},(0,u.__)("Preview","sensei-lms")),C&&(0,l.createElement)("div",{className:"wp-block-sensei-lms-course-outline-lesson__post-status"},C),(0,l.createElement)(i/* ["default"] */.Z,{icon:c/* ["default"] */.Z,className:"wp-block-sensei-lms-course-outline-lesson__chevron"})))}));
/* harmony default export */}
/***/,
/***/95598:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),o=s(55609),r=s(9818),i=s(65736),a=s(72469),c=s(63500),u=s(63028);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Inspector controls for lesson block.
 *
 * @param {Object}   props                     Component props.
 * @param {string}   props.previewStatus       Status to preview.
 * @param {Function} props.setPreviewStatus    Set status to preview.
 * @param {Function} props.setAttributes       Callback method to set the lesson title font size.
 * @param {Function} props.attributes          The block attributes.
 * @param {number}   props.attributes.id       The lesson id.
 * @param {string}   props.attributes.fontSize The lesson block font size.
 * @param {string}   props.attributes.title    The lesson title.
 */
const d=e=>{let{previewStatus:t,setPreviewStatus:s,setAttributes:d,attributes:{id:m,fontSize:p,title:h}}=e;const{fontSizes:g}=(0,r.useSelect)((e=>e("core/block-editor").getSettings()));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.InspectorControls,null,m&&(0,n.createElement)(o.PanelBody,{title:(0,i.__)("Lesson","sensei-lms")},(0,n.createElement)("h2",null,(0,n.createElement)(u/* .EditLessonLink */.Z,{lessonId:m})),(0,n.createElement)("p",null,(0,i.__)("Edit details such as lesson content, prerequisite, quiz settings and more.","sensei-lms"))),(0,n.createElement)(o.PanelBody,{title:(0,i.__)("Typography","sensei-lms")},(0,n.createElement)(o.FontSizePicker,{__nextHasNoMarginBottom:!0,fontSizes:g,value:p,onChange:e=>{d({fontSize:e})}})),(0,n.createElement)(o.PanelBody,{title:(0,i.__)("Status","sensei-lms"),initialOpen:!1},(0,n.createElement)(c/* .StatusControl */.I,{status:t,setStatus:s,options:[a/* .Status.NOT_STARTED */.q.NOT_STARTED,a/* .Status.COMPLETED */.q.COMPLETED],disabled:!h}))),(0,n.createElement)(l.BlockControls,null,(0,n.createElement)(u/* ["default"] */.C,{lessonId:m,lessonTitle:h})))};
/* harmony default export */}
/***/,
/***/76515:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */z:()=>/* binding */r
/* harmony export */});
/* harmony import */var n=s(9818),l=s(69307),o=s(62993);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Get or set the lesson's preview status.
 *
 * @param {Object}  props
 * @param {Object}  props.attributes           Block attributes
 * @param {boolean} props.attributes.isExample Ignore for example blocks
 * @param {string}  props.attributes.title     Block title
 * @param {string}  props.clientId             Block ID
 * @return {{setPreviewStatus: Function, previewStatus: string}} Preview status and control function.
 */
const r=e=>{let{attributes:{isExample:t,title:s},clientId:r}=e;const{setLessonStatus:i,trackLesson:a,ignoreLesson:c}=(0,n.useDispatch)(o/* .COURSE_STATUS_STORE */.o);
// If the lesson has a title and it isn't an example, add it to the tracked lessons in the status store.
(0,l.useEffect)((()=>{t||(s.length>0?a(r):c(r))}),[r,a,c,s,t]);return{setPreviewStatus:e=>i(r,e),previewStatus:(0,n.useSelect)((e=>e(o/* .COURSE_STATUS_STORE */.o).getLessonStatus(r)),[r])}};
/***/},
/***/90086:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),o=s(65736),r=s(90180),i=s(16811),a=s(5077),c=s(86057);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/* harmony default export */const u={...c,metadata:c,icon:r/* ["default"] */.Z,example:{attributes:{title:(0,o.__)("Module","sensei-lms"),description:(0,o.__)("About Module","sensei-lms")},innerBlocks:[{name:"sensei-lms/course-outline-lesson",attributes:{title:(0,o.__)("Lesson","sensei-lms"),id:1,draft:!1,isExample:!0}}]},styles:[{name:"default",label:(0,o.__)("Filled","sensei-lms"),isDefault:!0},{name:"minimal",label:(0,o.__)("Minimal","sensei-lms")}],transforms:a/* ["default"] */.Z,edit:i/* ["default"] */.Z,save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)};
/***/},
/***/16811:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>b
/* harmony export */});
/* unused harmony export ModuleEdit */
/* harmony import */var n=s(69307),l=s(90005),o=s.n(l),r=s(98286),i=s(52175),a=s(36414),c=s(12585),u=s(94333),d=s(9818),m=s(65736),p=s(22629),h=s(53112),g=s(75245),_=s(51836),E=s(3295),v=s(76774),f=s(36081);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const y=["sensei-lms/course-outline-lesson"],b=(0,u.compose)((0,h/* .withColorSettings */.ku)({mainColor:{style:"background-color",label:(0,m.__)("Main color","sensei-lms")},textColor:{style:"color",label:(0,m.__)("Text color","sensei-lms")},borderColor:{style:"border-color",label:(0,m.__)("Border color","sensei-lms"),onChange:e=>{let{clientId:t,colorValue:s}=e;return(0,d.dispatch)("core/block-editor").updateBlockAttributes(t,{borderColorValue:s})}}}),(0,h/* .withDefaultColor */.vD)({defaultMainColor:{style:"background-color",probeKey:"primaryColor"},defaultTextColor:{style:"color",probeKey:"primaryContrastColor"},defaultBorderColor:{style:"border-color",probeKey:"primaryColor"}}))((e=>{var t,s;const{clientId:l,className:u,attributes:{title:d,description:h,borderedSelected:b,borderColorValue:S,teacher:w,slug:k},mainColor:C,defaultMainColor:T,textColor:x,defaultTextColor:N,defaultBorderColor:O,setAttributes:B}=e,{outlineAttributes:{collapsibleModules:L,moduleBorder:I},outlineClassName:P}=(0,n.useContext)(_/* .OutlineAttributesContext */.G)||{outlineAttributes:{},outlineClassName:""};(0,g/* .useAutoInserter */.l)({name:"sensei-lms/course-outline-lesson",isEmptyBlock:e=>!e.title},e);
/**
   * Handle update name.
   *
   * @param {string} value Name value.
   */
const[Z,R]=(0,n.useState)(!0),A=/is-style-(\w+)/,M=(null===(t=u.match(A))||void 0===t?void 0:t[1])||(null===(s=P.match(A))||void 0===s?void 0:s[1]),D={default:{background:(null==C?void 0:C.color)||(null==T?void 0:T.color),color:(null==x?void 0:x.color)||(null==N?void 0:N.color)},minimal:{color:null==x?void 0:x.color}}[M];
/**
   * Handle update name.
   *
   * @param {string} value Name value.
   */
// Minimal border element.
let U;"minimal"===M&&(U=(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline-module__name__minimal-border",style:{background:(null==C?void 0:C.color)||(null==T?void 0:T.color)}})),(0,n.useEffect)((()=>{const e=document.querySelector('select[name="sensei-course-teacher-author"]');e&&e.addEventListener("change",(e=>{B({teacherId:e.target.value})}))}),
// eslint-disable-next-line react-hooks/exhaustive-deps
[]);const V=void 0!==b?b:I;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f/* ["default"] */.Z,{bordered:V,setBordered:e=>B({borderedSelected:e}),customSlug:k,setCustomSlug:e=>{B({slug:e})}}),(0,n.createElement)("section",{className:o()(u,{"wp-block-sensei-lms-course-outline-module-bordered":V}),style:{borderColor:S||(null==O?void 0:O.color)}},(0,n.createElement)("header",{className:"wp-block-sensei-lms-course-outline-module__header",style:D},(0,n.createElement)("h2",{className:"wp-block-sensei-lms-course-outline-module__title"},(0,n.createElement)(E/* ["default"] */.Z,{className:"wp-block-sensei-lms-course-outline-module__title-input",placeholder:(0,m.__)("Module name","sensei-lms"),value:(0,p.decodeEntities)(d),onChange:e=>{B({title:e})}}),k&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("br",null),(0,n.createElement)("span",{className:"custom-slug"},"(",k,")"))),w&&(0,n.createElement)("span",{className:"teacher-name"},"(",w,")"),(0,n.createElement)(v/* .ModuleStatus */.n,{clientId:l}),L&&(0,n.createElement)("button",{type:"button",className:o()("wp-block-sensei-lms-course-outline__arrow",{"sensei-collapsed":!Z}),onClick:()=>R(!Z)},(0,n.createElement)(a/* ["default"] */.Z,{icon:c/* ["default"] */.Z}),(0,n.createElement)("span",{className:"screen-reader-text"},(0,m.__)("Toggle module content","sensei-lms")))),U,(0,n.createElement)(r/* ["default"] */.Z,{className:"wp-block-sensei-lms-collapsible",duration:500,animateOpacity:!0,height:!L||Z?"auto":0},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline-module__description"},(0,n.createElement)(i.RichText,{className:"wp-block-sensei-lms-course-outline-module__description-input",placeholder:(0,m.__)("Module description","sensei-lms"),value:h,onChange:e=>{B({description:e})}})),(0,n.createElement)("h3",{className:"wp-block-sensei-lms-course-outline-module__lessons-title"},(0,m.__)("Lessons","sensei-lms")),(0,n.createElement)(i.InnerBlocks,{allowedBlocks:y,templateInsertUpdatesSelection:!1,renderAppender:()=>null}))))}));
/**
 * Edit module block component.
 *
 * @param {Object}   props                             Component props.
 * @param {string}   props.clientId                    The module block id.
 * @param {string}   props.className                   Custom class name.
 * @param {Object}   props.attributes                  Block attributes.
 * @param {string}   props.attributes.title            Module title.
 * @param {string}   props.attributes.description      Module description.
 * @param {boolean}  props.attributes.borderedSelected The border setting selected by the user.
 * @param {string}   props.attributes.borderColorValue The border color.
 * @param {Object}   props.mainColor                   Header main color.
 * @param {Object}   props.defaultMainColor            Default main color.
 * @param {Object}   props.textColor                   Header text color.
 * @param {Object}   props.defaultTextColor            Default text color.
 * @param {Object}   props.defaultBorderColor          Default border color.
 * @param {Function} props.setAttributes               Block set attributes function.
 * @param {string}   props.name                        Name of the block.
 */}
/***/,
/***/36081:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),o=s(55609),r=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Inspector controls for module block.
 *
 * @param {Object}   props
 * @param {boolean}  props.bordered      Whether the border is enabled
 * @param {Function} props.setBordered   Callback to enable the border.
 * @param {string}   props.customSlug    Custom slug for the module.
 * @param {Function} props.setCustomSlug Callback to set the custom slug.
 */
const i=e=>{let{bordered:t,setBordered:s,customSlug:i,setCustomSlug:a}=e;return(0,n.createElement)(l.InspectorControls,null,(0,n.createElement)(o.PanelBody,{title:(0,r.__)("Border settings","sensei-lms"),initialOpen:!1},(0,n.createElement)(o.ToggleControl,{checked:t,onChange:s,label:(0,r.__)("Border","sensei-lms"),help:(0,r.__)("Toggle to enable the border.","sensei-lms")})),(0,n.createElement)(o.PanelBody,{title:(0,r.__)("Custom slug","sensei-lms"),initialOpen:i||!1},(0,n.createElement)(o.TextControl,{className:"wp-block-sensei-lms-course-outline-module__slug-input",placeholder:(0,r.__)("Optional, keep empty for default","sensei-lms"),value:i,onChange:a})))};
/* harmony default export */}
/***/,
/***/76774:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */n:()=>/* binding */p
/* harmony export */});
/* harmony import */var n=s(69307),l=s(90005),o=s.n(l),r=s(9818),i=s(52175),a=s(55609),c=s(65736),u=s(72469),d=s(63500),m=s(62993);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Module status preview with setting control.
 *
 * @param {Object} props          Component props
 * @param {string} props.clientId The module block id.
 */
const p=e=>{let{clientId:t}=e;const{setModuleStatus:s}=(0,r.useDispatch)(m/* .COURSE_STATUS_STORE */.o),l=(0,r.useSelect)((e=>e(m/* .COURSE_STATUS_STORE */.o).getModuleLessonCounts(t)),[t]);let p=u/* .Status.IN_PROGRESS */.q.IN_PROGRESS;0===l.completedLessonsCount?p=u/* .Status.NOT_STARTED */.q.NOT_STARTED:l.totalLessonsCount===l.completedLessonsCount&&l.totalLessonsCount>0&&(p=u/* .Status.COMPLETED */.q.COMPLETED);const h=l.totalLessonsCount>1?[u/* .Status.NOT_STARTED */.q.NOT_STARTED,u/* .Status.IN_PROGRESS */.q.IN_PROGRESS,u/* .Status.COMPLETED */.q.COMPLETED]:[u/* .Status.NOT_STARTED */.q.NOT_STARTED,u/* .Status.COMPLETED */.q.COMPLETED],g=u/* .Status.NOT_STARTED */.q.NOT_STARTED!==p,_=(0,n.createElement)("div",{className:o()("wp-block-sensei-lms-course-outline-module__progress-indicator",p)},(0,n.createElement)("span",{className:"wp-block-sensei-lms-course-outline-module__progress-indicator__text"},d/* .StatusLabels */.C[p]));return(0,n.createElement)(n.Fragment,null,g&&_,(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(a.PanelBody,{title:(0,c.__)("Status","sensei-lms"),initialOpen:!1},(0,n.createElement)(d/* .StatusControl */.I,{options:h,status:p,disabled:0===l.totalLessonsCount,setStatus:e=>{s(t,e)}}))))};
/***/},
/***/5077:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>l
/* harmony export */});
/* harmony import */var n=s(4981);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Module block transform.
 */
/* harmony default export */const l={from:[{type:"block",blocks:["sensei-lms/course-outline-lesson"],isMultiBlock:!0,
/**
     * Group selected lesson blocks into a module.
     *
     * @param {Object[]} blocks Attributes of the selected blocks.
     */
transform(e){const t=e.map((e=>(0,n.createBlock)("sensei-lms/course-outline-lesson",e)));return(0,n.createBlock)("sensei-lms/course-outline-module",{},t)}}]};
/***/},
/***/91444:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>l
/* harmony export */});
/* harmony import */var n=s(69307);
/* harmony import */const l=()=>(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__ai-image"},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__ai-image__item"},(0,n.createElement)("div",{style:{width:"78%"},className:"wp-block-sensei-lms-course-outline__ai-image__content"})),(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__ai-image__item"},(0,n.createElement)("div",{style:{width:"47%"},className:"wp-block-sensei-lms-course-outline__ai-image__content"})),(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__ai-image__item"},(0,n.createElement)("div",{style:{width:"25%"},className:"wp-block-sensei-lms-course-outline__ai-image__content"})))
/* harmony default export */}
/***/,
/***/323:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */u:()=>/* binding */a
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),o=s(55609),r=s(65736),i=s(46173);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const a=e=>{let{addBlock:t}=e;return(0,n.createElement)(o.Placeholder,{className:"wp-block-sensei-lms-course-outline__placeholder",label:(0,r.__)("Course Outline","sensei-lms"),icon:(0,n.createElement)(l.BlockIcon,{icon:i/* ["default"].icon */.Z.icon,showColors:!0}),instructions:(0,r.__)("Build and display a course outline. A course is made up of modules (optional) and lessons. You can use modules to group related lessons together.","sensei-lms")},(0,n.createElement)(o.Button,{isDefault:!0,onClick:()=>t("module"),className:"is-large"},(0,r.__)("Create a module","sensei-lms")),(0,n.createElement)(o.Button,{isDefault:!0,onClick:()=>t("lesson"),className:"is-large"},(0,r.__)("Create a lesson","sensei-lms")))};
/***/},
/***/15875:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),o=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Lessons actions.
 *
 * @param {Object}   props
 * @param {Object[]} props.selectedLessons        Selected lessons.
 * @param {Function} props.setSelectedLessons     Selected lessons state setter.
 * @param {Function} props.onAdd                  Callback to add existing lessons.
 * @param {Function} props.closeModal             Close the modal.
 * @param {Function} props.setErrorAddingSelected Set when there has been an error adding selection.
 */
const r=e=>{let{selectedLessons:t,setSelectedLessons:s,onAdd:r,closeModal:i,setErrorAddingSelected:a}=e;const[c,u]=(0,n.useState)(!1),d=0===t.length?(0,o.__)("Add Selected","sensei-lms"):(0,o.sprintf)(/* translators: Number of selected lessons. */
(0,o.__)("Add Selected (%s)","sensei-lms"),t.length),m=c||0===t.length;return(0,n.createElement)("ul",{className:"sensei-lms-existing-lessons-modal__actions"},t.length>0&&(0,n.createElement)("li",null,(0,n.createElement)(l.Button,{isTertiary:!0,onClick:()=>{s([])}},(0,o.__)("Clear Selected","sensei-lms"))),(0,n.createElement)("li",null,(0,n.createElement)(l.Button,{disabled:m,onClick:()=>{u(!0),r(t).then(i).catch((()=>{a(!0),u(!1)}))},isPrimary:!0},d)))};
/* harmony default export */}
/***/,
/***/34995:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(69307),l=s(99854),o=s(65736),r=s(91442),i=s(92819);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * External dependencies
 */
/**
 * Lessons filter.
 *
 * @param {Object}   props
 * @param {Function} props.setFilters Filters state setter.
 */
const a=e=>{let{setFilters:t}=e;return(0,n.createElement)("ul",{className:"sensei-lms-existing-lessons-modal__filters"},(0,n.createElement)("li",null,(0,n.createElement)(r/* ["default"] */.Z,{className:"sensei-lms-existing-lessons-modal__search-input",placeholder:(0,o.__)("Search lessons","sensei-lms"),iconRight:l/* ["default"] */.Z,onChange:(s="search",a=400,(0,i.debounce)((e=>{t((t=>({...t,[s]:e})))}),a))})));var s,a};
/* harmony default export */}
/***/,
/***/76708:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),o=s(65736),r=s(34995),i=s(8472),a=s(15875),c=s(17927);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Lessons modal content.
 *
 * @param {Object}   props
 * @param {string}   props.clientId Outline block ID.
 * @param {Function} props.onClose  Close callback.
 */
const u=e=>{let{clientId:t,onClose:s}=e;const u=(0,c/* .useAddExistingLessons */.X)(t),[d,m]=(0,n.useState)({search:""}),[p,h]=(0,n.useState)(!1),[g,_]=(0,n.useState)([]);return(0,n.createElement)(l.Modal,{className:"sensei-lms-existing-lessons-modal",title:(0,o.__)("Available Lessons","sensei-lms"),onRequestClose:s},p&&(0,n.createElement)(l.Notice,{status:"error",isDismissible:!1,className:"sensei-lms-existing-lessons-modal__notice"},(0,o.__)("Unable to add the selected lesson(s). Please make sure you are still logged in and try again.","sensei-lms")),(0,n.createElement)(r/* ["default"] */.Z,{setFilters:m}),(0,n.createElement)(i/* ["default"] */.Z,{clientId:t,filters:d,selectedLessons:g,setSelectedLessons:_}),(0,n.createElement)(a/* ["default"] */.Z,{selectedLessons:g,setSelectedLessons:_,onAdd:u,closeModal:s,setErrorAddingSelected:h}))};
/* harmony default export */}
/***/,
/***/8472:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(69307),l=s(92819),o=s(9818),r=s(55609),i=s(65736);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Select lessons by filters.
 *
 * @param {Function} select  Data select function.
 * @param {Object}   filters Filters object.
 * @return {Object[]} Lessons.
 */
const a=e=>{let{clientId:t,filters:s,selectedLessons:a,setSelectedLessons:c}=e;
// Ids of the already added lessons.
const u=(0,o.useSelect)((e=>e("core/block-editor").getBlocks(t))).map((e=>{var t;return null===(t=e.attributes)||void 0===t?void 0:t.id}));
// Lessons by current filter.
let d=(0,o.useSelect)((e=>((e,t)=>e("core").getEntityRecords("postType","lesson",{requestSource:"add_existing_lesson_modal",status:["publish","draft"],metaKey:"_lesson_course",metaValue:0,per_page:100,...(0,l.omitBy)(t,(e=>""===e))}))(e,s)),[s]);if(!d)return(0,n.createElement)("div",{className:"sensei-lms-existing-lessons-modal__lessons sensei-lms-existing-lessons-modal__lessons--loading"},(0,n.createElement)(r.Spinner,null));
// Filter out already added lessons.
d=d.filter((e=>!u.includes(e.id)));const m=d.length>0&&d.every((e=>a.includes(e))),p=e=>t=>{c(t?t=>[...t,e]:t=>t.filter((t=>t.id!==e.id)))};return(0,n.createElement)("div",{className:"sensei-lms-existing-lessons-modal__lessons"},(0,n.createElement)("table",{className:"sensei-lms-existing-lessons-modal__lessons-table"},(0,n.createElement)("thead",null,(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"sensei-lms-existing-lessons-modal__lesson-checkbox"},(0,n.createElement)(r.CheckboxControl,{title:(0,i.__)("Toggle all visible lessons selection.","sensei-lms"),checked:m,onChange:e=>{c((t=>e?(0,l.uniq)([...t,...d]):t.filter((e=>!d.includes(e)))))}})),(0,n.createElement)("th",null,(0,i.__)("Lesson","sensei-lms")))),(0,n.createElement)("tbody",null,0===d.length?(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"2"},(0,n.createElement)("p",null,(0,i.__)("No lessons found.","sensei-lms")))):d.map((e=>{const t=e.id,s=e.title.raw;return(0,n.createElement)("tr",{key:t},(0,n.createElement)("td",null,(0,n.createElement)(r.CheckboxControl,{id:`existing-lesson-${t}`,title:s,checked:a.includes(e),onChange:p(e)})),(0,n.createElement)("td",{className:"sensei-lms-existing-lessons-modal__lesson-title"},(0,n.createElement)("label",{htmlFor:`existing-lesson-${t}`,title:s},s)))})))))};
/**
 * Lessons for selection.
 *
 * @param {Object}   props
 * @param {string}   props.clientId           Outline block ID.
 * @param {Object}   props.filters            Filters object.
 * @param {Object[]} props.selectedLessons    Seleted lessons.
 * @param {Function} props.setSelectedLessons Seleted lessons state setter.
 */}
/***/,
/***/17927:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */X:()=>/* binding */o
/* harmony export */});
/* unused harmony export findLessonBlock */
/* harmony import */var n=s(4981),l=s(9818);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Lesson type definition.
 *
 * @typedef {Object} Lesson
 * @property {number} id    Lesson ID.
 * @property {string} title Lesson title
 */
/**
 * Find a lesson block based on lesson ID, or title if ID is missing.
 *
 * @param {Array}  blocks
 * @param {Lesson} item
 */
const o=e=>{const t=(0,l.useSelect)((()=>(0,l.select)("core/block-editor").getBlocks(e)),[]),{insertBlock:s}=(0,l.useDispatch)("core/block-editor"),o=(0,l.useSelect)((()=>(0,l.select)("core/block-editor").getBlockCount(e)),[]);return l=>{if(0===l.filter((e=>0===t.length||!((e,t)=>{let{id:s,title:n}=t;return e.find((e=>{let{attributes:t}=e;return s===t.id||!t.id&&t.title&&t.title===n}))})(t,{id:e.id}))).length)return Promise.resolve({});
// Put this before the auto-block.
let r=o;return l.forEach((t=>{s((0,n.createBlock)("sensei-lms/course-outline-lesson",{id:t.id,type:"lesson",title:t.title.raw,draft:"draft"===t.post_status}),r,e,!1),r++})),Promise.resolve({})}};
/**
 * Add existing lessons to the course outline block.
 *
 * @param {string} clientId The quiz block client id.
 * @return {Function} Function that takes an array of lesson IDs and returns a Promise.
 */}
/***/,
/***/46173:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(65736),l=s(29375),o=s(9200),r=s(51836),i=s(30553);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/* harmony default export */const a={...o,metadata:o,styles:[{name:"default",label:(0,n.__)("Filled","sensei-lms"),isDefault:!0},{name:"minimal",label:(0,n.__)("Minimal","sensei-lms")}],example:{attributes:{isPreview:!0},innerBlocks:[{name:"sensei-lms/course-outline-lesson",attributes:{title:(0,n.__)("Lesson 1","sensei-lms"),id:1,draft:!1,isExample:!0}},{name:"sensei-lms/course-outline-lesson",attributes:{title:(0,n.__)("Lesson 2","sensei-lms"),id:2,draft:!1,isExample:!0}},{name:"sensei-lms/course-outline-lesson",attributes:{title:(0,n.__)("Lesson 3","sensei-lms"),id:3,draft:!1,isExample:!0}}]},icon:l/* ["default"] */.Z,edit:r/* ["default"] */.Z,save:i/* ["default"] */.Z};
/***/},
/***/91333:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(4981),o=s(9818),r=s(65736),i=s(73362),a=s(90180),c=s(92239);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Outline block appender for adding a lesson or a module.
 *
 * @param {Object}   props
 * @param {string}   props.clientId  Outline block ID.
 * @param {Function} props.openModal Open modal callback.
 */
const u=e=>{let{clientId:t,openModal:s}=e;const{insertBlock:u}=(0,o.useDispatch)("core/block-editor"),d=(0,o.useSelect)((e=>e("core/block-editor").getBlockCount(t)),[]),m=[{title:(0,r.__)("Lesson","sensei-lms"),icon:i/* ["default"] */.Z,onClick:()=>u((0,l.createBlock)("sensei-lms/course-outline-lesson",{placeholder:(0,r.__)("Lesson name","sensei-lms")}),d,t,!0)},{title:(0,r.__)("Existing Lesson(s)","sensei-lms"),icon:i/* ["default"] */.Z,onClick:s},{title:(0,r.__)("Module","sensei-lms"),icon:a/* ["default"] */.Z,onClick:()=>u((0,l.createBlock)("sensei-lms/course-outline-module"),d,t,!0)}],p=(0,r.__)("Add Module or Lesson","sensei-lms");return(0,n.createElement)(c/* ["default"] */.Z,{controls:m,text:p,label:p})};
/* harmony default export */}
/***/,
/***/51836:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */G:()=>/* binding */v
/* harmony export */,Z:()=>f
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),o=s(94333),r=s(9818),i=s(69384),a=s(53112),c=s(31884),u=s(1849),d=s(31529),m=s(91333),p=s(76708),h=s(49650),g=s(9025),_=s(92694);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const E=["sensei-lms/course-outline-module","sensei-lms/course-outline-lesson"],v=(0,n.createContext)(),f=(0,o.compose)((0,a/* .withDefaultBlockStyle */.WJ)())((e=>{const{clientId:t,className:s,attributes:o,setAttributes:a}=e,{loadStructure:f}=(0,r.useDispatch)(u/* .COURSE_STORE */.v),{isActivated:y}=(0,g/* ["default"] */.Z)(),b=(0,_.applyFilters)("senseiCourseOutlineGeneratorUpsellRemove",y);(0,n.useEffect)((()=>{o.isPreview||f()}),[o.isPreview,f]);const{setBlocks:S}=(0,d/* .useBlocksCreator */.g)(t),{isEmpty:w}=(0,r.useSelect)((e=>({isEmpty:!e(l.store).getBlocks(t).length})),[t]);(0,c/* .useCourseLessonsStatusSync */.X)(t,o.isPreview);const[k,C]=(0,n.useState)(!1),T=(0,n.useCallback)((()=>(0,n.createElement)(m/* ["default"] */.Z,{clientId:t,openModal:()=>C(!0)})),[t]),x=(0,n.useCallback)((()=>{b?window.location.hash="generate-course-outline-using-ai":window.location.href="https://senseilms.com/sensei-pro/"}),[b]);return(0,n.createElement)("div",null,w?(0,n.createElement)(h/* ["default"] */.Z,{addBlock:e=>S([{type:e}],!0),addBlocks:S,openTailoredModal:x}):(0,n.createElement)(v.Provider,{value:{outlineAttributes:o,outlineSetAttributes:a,outlineClassName:s}},(0,n.createElement)(i/* ["default"] */.Z,e),(0,n.createElement)("section",{className:s},(0,n.createElement)(l.InnerBlocks,{allowedBlocks:E,renderAppender:T}))),k&&(0,n.createElement)(p/* ["default"] */.Z,{clientId:t,onClose:()=>C(!1)}))}))}
/***/,
/***/49650:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>g
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),o=s(55609),r=s(65736),i=s(46173),a=s(69490),c=s(91444),u=s(20436),d=s(97921),m=s(92819),p=s(323);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * External dependencies
 */
/**
 * Placeholder for empty Course Outline block.
 *
 * @param {Function} addBlock Add block
 */
const h=e=>{let{addBlocks:t,openTailoredModal:s=m.noop}=e;return(0,n.createElement)(o.Placeholder,{className:"wp-block-sensei-lms-course-outline__placeholder",label:(0,r.__)("Course Outline","sensei-lms"),icon:(0,n.createElement)(l.BlockIcon,{icon:i/* ["default"].icon */.Z.icon,showColors:!0}),instructions:(0,r.__)("Build and display a course outline.","sensei-lms")},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__placeholder__options"},(0,n.createElement)("button",{className:"wp-block-sensei-lms-course-outline__placeholder__option wp-block-sensei-lms-course-outline__placeholder__option-blank",onClick:()=>{t([{type:"lesson",title:(0,r.__)("Lesson 1","sensei-lms")},{type:"lesson",title:(0,r.__)("Lesson 2","sensei-lms")},{type:"lesson",title:(0,r.__)("Lesson 3","sensei-lms")}])},"aria-labelledby":"generate-blank"},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content"},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content__intro"},(0,n.createElement)("p",null,(0,r.__)("Start with a blank canvas and create your own course outline.","sensei-lms"))),(0,n.createElement)("ul",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content__details"},(0,n.createElement)("li",null,(0,r.__)("Add Lessons and Modules","sensei-lms")),(0,n.createElement)("li",null,(0,r.__)("Reorder and edit anytime","sensei-lms"))),(0,n.createElement)("ul",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content__lessons"},(0,n.createElement)("li",null,(0,r.__)("Lesson 1","sensei-lms")),(0,n.createElement)("li",null,(0,r.__)("Lesson 2","sensei-lms")))),(0,n.createElement)("figcaption",{className:"wp-block-sensei-lms-course-outline__placeholder__option__caption",id:"generate-blank"},(0,r.__)("Start with blank","sensei-lms"))),(0,n.createElement)("button",{className:"wp-block-sensei-lms-course-outline__placeholder__option is-ai","aria-labelledby":"generate-with-ai",onClick:()=>{s()}},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content"},(0,n.createElement)("div",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content__intro"},(0,n.createElement)("p",null,(0,r.__)("Get AI's help to start with a tailored course outline.","sensei-lms")),(0,n.createElement)(a/* ["default"] */.Z,{className:"wp-block-sensei-lms-course-outline__placeholder__option__content__intro__icon"})),(0,n.createElement)("ul",{className:"wp-block-sensei-lms-course-outline__placeholder__option__content__details"},(0,n.createElement)("li",null,(0,n.createElement)(u/* ["default"] */.Z,{width:24,height:24}),(0,r.__)("AI tailored outline based on your content","sensei-lms")),(0,n.createElement)("li",null,(0,n.createElement)(u/* ["default"] */.Z,{width:24,height:24}),(0,r.__)("Access to all Sensei Pro features","sensei-lms"))),(0,n.createElement)(c/* ["default"] */.Z,null)),(0,n.createElement)("figcaption",{className:"wp-block-sensei-lms-course-outline__placeholder__option__caption",id:"generate-with-ai"},(0,r.__)("Generate with AI","sensei-lms"),(0,n.createElement)(d/* ["default"] */.Z,null)))))},g=e=>{let{addBlock:t,addBlocks:s,openTailoredModal:l}=e;return window.sensei.featureFlags.course_outline_ai?(0,n.createElement)(h,{addBlocks:s,openTailoredModal:l}):(0,n.createElement)(p/* .DeprecatedPlaceholder */.u,{addBlock:t})}}
/***/,
/***/30553:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=()=>(0,n.createElement)(l.InnerBlocks.Content,null)
/* harmony default export */}
/***/,
/***/69384:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(69307),l=s(65736),o=s(52175),r=s(55609),i=s(90799);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Inspector controls for outline block.
 *
 * @param {Object} props Block props.
 */
const a=e=>{const{attributes:t,setAttributes:s}=e,{moduleBorder:a,setModuleBorder:c}=(0,i/* .useSharedModuleStyles */.j)(e);return(0,n.createElement)(o.InspectorControls,null,(0,n.createElement)(r.PanelBody,{title:(0,l.__)("Modules","sensei-lms"),initialOpen:!1},(0,n.createElement)(r.ToggleControl,{checked:t.collapsibleModules,onChange:e=>s({collapsibleModules:e}),label:(0,l.__)("Collapsible modules","sensei-lms"),help:(0,l.__)("Modules can be collapsed or expanded.","sensei-lms")}),(0,n.createElement)(r.ToggleControl,{checked:a,onChange:c,label:(0,l.__)("Border","sensei-lms"),help:(0,l.__)("Toggle the border for all modules.","sensei-lms")})))};
/* harmony default export */}
/***/,
/***/9025:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(9818),l=s(45647),o=s(99196);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * External dependencies
 */
const r=()=>{const e=(0,n.select)(l/* .EXTENSIONS_STORE */.h).getSenseiProExtension();return(0,o.useMemo)((()=>({isActivated:Boolean(null==e?void 0:e.is_activated)})),[null==e?void 0:e.is_activated])};
/* harmony default export */}
/***/,
/***/90799:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */j:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(9818),l=s(69307),o=s(67260),r=s(69973);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Use shared module style and module border settings.
 *
 * @param {Object}   props
 * @param {string}   props.clientId                Outline block Id.
 * @param {string}   props.className               Outline block classes.
 * @param {boolean}  props.isPreview               Skip if it's a block preview.
 * @param {Object}   props.attributes              Outline block attributes.
 * @param {boolean}  props.attributes.moduleBorder Shared module border setting.
 * @param {Function} props.setAttributes           Update outline block attributes.
 * @return {{moduleBorder, setModuleBorder}} Module border setting and setter.
 */
const i=e=>{let{clientId:t,className:s,isPreview:i,attributes:{moduleBorder:a},setAttributes:c}=e;const u=(0,l.useRef)(null),d=(0,n.useSelect)((e=>e("core/blocks").getBlockStyles("sensei-lms/course-outline")),[]),{updateBlockAttributes:m}=(0,n.useDispatch)("core/block-editor"),p=(0,o/* .getActiveStyleClass */.h)(d,s);(0,l.useEffect)((()=>{if(!i&&p&&u.current!==p){if(!u.current)return void(u.current=p);u.current=p,(0,r/* .getCourseInnerBlocks */.tf)(t,"sensei-lms/course-outline-module").forEach((e=>(0,o/* .applyStyleClass */.z)(e.clientId,p)))}}),[t,i,p,u]);return{moduleBorder:a,setModuleBorder:e=>{(0,r/* .getCourseInnerBlocks */.tf)(t,"sensei-lms/course-outline-module").forEach((t=>{m(t.clientId,{borderedSelected:e})})),c({moduleBorder:e})}}};
/***/},
/***/72469:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */q:()=>/* binding */n
/* harmony export */});
/**
 * An enum of Status constants.
 */
const n={NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed"};
/***/},
/***/63500:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */C:()=>/* binding */a
/* harmony export */,I:()=>/* binding */c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),o=s(55609),r=s(65736),i=s(72469);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Labels for each of the statuses.
 */
const a={[i/* .Status.NOT_STARTED */.q.NOT_STARTED]:(0,r.__)("Not Started","sensei-lms"),[i/* .Status.IN_PROGRESS */.q.IN_PROGRESS]:(0,r.__)("In Progress","sensei-lms"),[i/* .Status.COMPLETED */.q.COMPLETED]:(0,r.__)("Completed","sensei-lms")},c=e=>{let{options:t=[i/* .Status.IN_PROGRESS */.q.IN_PROGRESS,i/* .Status.COMPLETED */.q.COMPLETED],status:s,setStatus:c,disabled:u,...d}=e;const m=t.map((e=>({label:a[e],value:e})));let p=(0,l.createElement)(o.RadioControl,(0,n/* ["default"] */.Z)({className:"wp-block-sensei-lms-course-outline-status-control",help:(0,r.__)("Preview a status. The actual status that the student sees is determined by their progress in the course.","sensei-lms")},d,{options:m,selected:s,onChange:e=>c(e)}));return u&&(p=(0,l.createElement)(o.Disabled,null,p)),p};
/**
 * A component which controls the status preview for a block. It contains a group of buttons and a description.
 *
 * @param {Object}   props           Component props. Extras will be handed through to the `SelectControl` component.
 * @param {Array}    props.options   The ordered Status constants to include.
 * @param {string}   props.status    The index of the current status.
 * @param {Function} props.setStatus A callback which is called with the index when a status is selected.
 * @param {boolean}  props.disabled  Flag which disables the controls.
 */}
/***/,
/***/62993:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */o:()=>/* binding */u
/* harmony export */});
/* harmony import */var n=s(9818),l=s(72469),o=s(23418),r=s(20832);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const i={
/**
   * Sets thecreateReducerFromActionMap status of a lesson.
   *
   * @param {string} lessonId The lesson id.
   * @param {string} status   The lesson status.
   *
   * @return {Object} The setLessonStatus action.
   */
setLessonStatus:(e,t)=>({type:"SET_LESSON_STATUS",lessonId:e,status:t}),
/**
   * Sets the status of a module by updating the status of its lessons.
   *
   * @param {string} moduleId The module block id.
   * @param {string} status   The module status.
   *
   * @return {Object} Yields the lesson update actions.
   */
*setModuleStatus(e,t){const s=yield(0,o.select)(u,"getTrackedLessons"),n=(yield(0,o.select)("core/block-editor","getClientIdsOfDescendants",[e])).filter((e=>s.includes(e)));if(0!==n.length)return l/* .Status.COMPLETED */.q.COMPLETED!==t&&l/* .Status.NOT_STARTED */.q.NOT_STARTED!==t?(yield*n.slice(1).map((e=>i.setLessonStatus(e,l/* .Status.NOT_STARTED */.q.NOT_STARTED))),i.setLessonStatus(n[0],l/* .Status.COMPLETED */.q.COMPLETED)):void(yield*n.map((e=>i.setLessonStatus(e,t))))},
/**
   * Creates the action to update state after a possible removal of a lesson.
   *
   * @param {string[]} descendantIds The ids of all outline block descendants.
   *
   * @return {Object} The action.
   */
stopTrackingRemovedLessons:e=>({type:"REMOVE_LESSONS",descendantIds:e}),
/**
   * Creates the action which marks a lesson as tracked by the store.
   *
   * @param {string} lessonId The lesson id.
   *
   * @return {Object} The action.
   */
trackLesson:e=>({type:"TRACK_LESSON",lessonId:e}),
/**
   * Creates the action which marks a lesson as not tracked by the store.
   *
   * @param {string} lessonId The lesson id.
   *
   * @return {Object} The action.
   */
ignoreLesson:e=>({type:"IGNORE_LESSON",lessonId:e})},a={
/**
   * Get all the lessons that are tracked by the store.
   *
   * @param {Object} state                The state.
   * @param {Array}  state.trackedLessons The tracked lessons.
   *
   * @return {Object} An object with the total and completed lesson counts.
   */
getTrackedLessons:e=>{let{trackedLessons:t}=e;return t},
/**
   * Get the lesson counts.
   *
   * @param {Object} state                  The state.
   * @param {Array}  state.trackedLessons   The ids of all the lessons.
   * @param {Array}  state.completedLessons The ids of the completed lessons.
   *
   * @return {Object} An object with the total and completed lesson counts.
   */
getLessonCounts:e=>{let{trackedLessons:t,completedLessons:s}=e;return{totalLessonsCount:t.length,completedLessonsCount:s.length}},
/**
   * Gets the lesson status.
   *
   * @param {Object} state                  The state.
   * @param {Array}  state.completedLessons The ids of the completed lessons.
   * @param {string} lessonId               The lesson id.
   *
   * @return {string} The lesson status.
   */
getLessonStatus:(e,t)=>{let{completedLessons:s}=e;return s.includes(t)?l/* .Status.COMPLETED */.q.COMPLETED:l/* .Status.NOT_STARTED */.q.NOT_STARTED},
/**
   * Returns the number of total and completed lessons of a module.
   *
   * @param {Object} state                  The state.
   * @param {Array}  state.completedLessons The ids of the completed lessons.
   * @param {Array}  state.trackedLessons   The ids of  all the lessons.
   * @param {string} moduleId               The module id.
   *
   * @return {Object} The module lesson counts.
   */
getModuleLessonCounts(e,t){let{completedLessons:s,trackedLessons:l}=e;const o=(0,n.select)("core/block-editor").getClientIdsOfDescendants([t]).filter((e=>l.includes(e)));return{completedLessonsCount:o.filter((e=>s.includes(e))).length,totalLessonsCount:o.length}}},c={
/**
   * Updates the lesson status.
   *
   * @param {Object} action          The action.
   * @param {string} action.status   The lesson status.
   * @param {string} action.lessonId The lesson id.
   * @param {Object} state           The state.
   *
   * @return {Object} The new state.
   */
SET_LESSON_STATUS:(e,t)=>{let{lessonId:s,status:n}=e,o=[...t.completedLessons];return l/* .Status.COMPLETED */.q.COMPLETED===n?o.includes(s)||o.push(s):o=o.filter((e=>e!==s)),{...t,completedLessons:o}},
/**
   * Removes any lessons that don't exist in list of descendantIds.
   *
   * @param {Object} action               The action.
   * @param {Array}  action.descendantIds The ids of all descendants of the outline block.
   * @param {Object} state                The state.
   *
   * @return {Object} The new state.
   */
REMOVE_LESSONS:(e,t)=>{let{descendantIds:s}=e;const n=t.completedLessons.filter((e=>s.includes(e))),l=t.trackedLessons.filter((e=>s.includes(e)));
// Do not update the state if no lessons were removed.
return l.length===t.trackedLessons.length&&n.length===t.completedLessons.length?t:{...t,completedLessons:n,trackedLessons:l}},
/**
   * Removes a lesson from the arrays of tracked lessons.
   *
   * @param {Object} action          The action.
   * @param {Array}  action.lessonId The ids of the lesson to ignore.
   * @param {Object} state           The state.
   *
   * @return {Object} The new state.
   */
IGNORE_LESSON:(e,t)=>{let{lessonId:s}=e;const n=t.completedLessons.filter((e=>e!==s)),l=t.trackedLessons.filter((e=>e!==s));return{...t,completedLessons:n,trackedLessons:l}},
/**
   * Adds a lesson from the arrays of tracked lessons.
   *
   * @param {Object} action          The action.
   * @param {Array}  action.lessonId The ids of the lesson to track.
   * @param {Object} state           The state.
   *
   * @return {Object} The new state.
   */
TRACK_LESSON:(e,t)=>{let{lessonId:s}=e;const n=[...t.trackedLessons];return n.includes(s)?t:(n.push(s),{...t,trackedLessons:n})},DEFAULT:(e,t)=>t},u=(0,r/* .createStore */.MT)("sensei/course-status",{reducer:(0,r/* .createReducerFromActionMap */.lA)(c,{completedLessons:[],trackedLessons:[]}),actions:i,selectors:a,controls:o.controls});
/**
 * Status store actions.
 */}
/***/,
/***/31884:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */X:()=>/* binding */r
/* harmony export */});
/* harmony import */var n=s(9818),l=s(69307),o=s(62993);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * A hook to update the status store when a lesson is removed.
 *
 * @param {string}  clientId  The outline block id.
 * @param {boolean} isPreview Whether the block is currently in preview mode.
 */
const r=function(e,t){const s=(0,n.useSelect)((t=>t("core/block-editor").getClientIdsOfDescendants([e])),[e]),{stopTrackingRemovedLessons:r}=(0,n.useDispatch)(o/* .COURSE_STATUS_STORE */.o);(0,l.useEffect)((()=>{t||r(s)}),[e,s,t,r])};
/***/},
/***/31529:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */g:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(92819),l=s(9818),o=s(69307),r=s(69973);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Blocks creator hook.
 * It adds blocks dynamically to the InnerBlock.
 *
 * @param {string} clientId Block client ID.
 */
const i=e=>{const{replaceInnerBlocks:t}=(0,l.useDispatch)("core/block-editor"),{getBlocks:s}=(0,l.useSelect)((e=>e("core/block-editor")),[]);return{setBlocks:(0,o.useCallback)((function(l){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=s(e),a=(0,r/* .extractStructure */.Vw)(i);(0,n.isEqual)(a,l)||t(e,(0,r/* .syncStructureToBlocks */.pu)(l,i),o)}),[e,t,s])}};
/***/},
/***/91442:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),o=s(90005),r=s.n(o),i=s(55609);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Input control component.
 *
 * It can use or be replaced by the
 * WordPress [InputControl]{@link https://github.com/WordPress/gutenberg/tree/trunk/packages/components/src/input-control} when it's stable.
 *
 * @param {Object}   props             Component props.
 * @param {string}   [props.className] Additional classnames for the input.
 * @param {string}   [props.id]        Component id used to connect label and input - required if label is set.
 * @param {string}   [props.label]     Input label.
 * @param {number}   [props.value]     Input value.
 * @param {string}   [props.help]      Help text.
 * @param {string}   [props.iconRight] Icon right.
 * @param {Function} [props.onChange]  Change function.
 */
const a=e=>{let{className:t,id:s,label:o,value:a,help:c,iconRight:u,onChange:d,...m}=e;return(0,l.createElement)(i.BaseControl,{id:s,label:o,help:c},(0,l.createElement)("div",{className:"sensei-input-control"},(0,l.createElement)("input",(0,n/* ["default"] */.Z)({className:r()("sensei-input-control__input",{"sensei-input-control__input--with-icon-right":u},t),type:"text",id:s,value:null===a?"":a,onChange:e=>d(e.target.value)},m)),u&&(0,l.createElement)("span",{className:"sensei-input-control__icon"},(0,l.createElement)(i.Icon,{icon:u}))))};
/* harmony default export */}
/***/,
/***/53227:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(92819),o=s(4981),r=s(33731);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Register Sensei blocks.
 *
 * @todo  Refactor how the metadata and settings are passed to `registerBlockType`.
 * @param {Array} blocks Blocks to be registered.
 */
const i=e=>{(0,o.updateCategory)("sensei-lms",{icon:(0,n.createElement)(r/* ["default"] */.Z,{width:"20",height:"20"})}),e.forEach((e=>{let{metadata:t,name:s,...n}=e;t&&(
// Remove the overlapping metadata keys from the settings object to make localization work.
// This is needed because only the metadata object is localized, but the overlapping keys will be overwritten by the settings object and the localization is lost.
n=(0,l.omit)(n,Object.keys(t))),
// The metadata object should be used for the `block.json` strings to be localized.
// See https://github.com/Automattic/sensei/pull/5782 for more details.
(0,o.registerBlockType)(t||s,n)}))};
/* harmony default export */}
/***/,
/***/45647:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */h:()=>/* binding */h
/* harmony export */});
/* unused harmony export isLoadingStatus */
/* harmony import */var n=s(92819),l=s(9818),o=s(23418),r=s(65736),i=s(20832),a=s(67959);
/* harmony import */s(16400);
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Extension statuses.
 */
const c={IN_PROGRESS:"in-progress",IN_QUEUE:"in-queue"},u={
/**
   * Sets the extensions list.
   *
   * @param {Array} extensionSlugs The extensions slugs array.
   */
setExtensions:e=>({type:"SET_EXTENSIONS",extensionSlugs:e}),
/**
   * Sets entities.
   *
   * @param {Object} entities Entities to set.
   */
setEntities:e=>({type:"SET_ENTITIES",entities:e}),
/**
   * Install extensions.
   *
   * @param {string} slug The extension slug to install.
   */
*installExtension(e){(0,a/* .logEvent */.K)("extensions_install",{slug:e}),yield u.runProcess({slugs:[e],actionType:"install"})},
/**
   * Updates the provided extensions.
   *
   * @param {string[]} slugs The extension slugs to update.
   */
*updateExtensions(e){e.map((e=>(0,a/* .logEvent */.K)("extensions_update",{slug:e}))),yield u.runProcess({slugs:e,actionType:"update"})},
/**
   * Run extension process (install or update).
   *
   * @param {Object}   process            The process.
   * @param {string[]} process.slugs      Extension slugs.
   * @param {string}   process.actionType Action type (`install` or `update`).
   */
*runProcess(e){const{slugs:t,actionType:s}=e;
// Add to process to queue and skip if a process is already running.
if((yield(0,l.select)(h).getExtensionsByStatus(c.IN_PROGRESS)).length>0)return void(yield u.addToQueue(e));let i,a,d;yield u.setExtensionsStatus(t,c.IN_PROGRESS),"update"===s?(i={plugins:t},a=(0,r.__)("Update completed successfully!","sensei-lms"),
// translators: Placeholder is the underlying error message.
d=(0,r.__)("There was an error while updating the plugin: %1$s","sensei-lms")):(i={plugin:t[0]},a=(0,r.__)("Installation completed successfully!","sensei-lms"),
// translators: Placeholder is the underlying error message.
d=(0,r.__)("There was an error while installing the plugin: %1$s","sensei-lms"));try{const e=yield(0,o.apiFetch)({path:`/sensei-internal/v1/sensei-extensions/${s}`,method:"POST",data:i});yield u.setError(null),yield u.setEntities({extensions:(0,n.keyBy)(e.completed,"product_slug")}),yield(0,l.dispatch)("core/notices").createNotice("success",a,{type:"snackbar"})}catch(e){yield u.setError((0,r.sprintf)(d,e.message))}finally{yield u.setExtensionsStatus(t,""),yield u.removeFromQueue(e);const s=yield(0,l.select)(h).getNextProcess();s&&(yield u.runProcess(s))}},
/**
   * Set extensions in progress.
   *
   * @param {string} slugs  Extensions in progress.
   * @param {string} status Status.
   */
setExtensionsStatus:(e,t)=>({type:"SET_EXTENSIONS_STATUS",slugs:e,status:t}),
/**
   * Set the extensions layout.
   *
   * @param {Array} layout Extensions layout.
   */
setLayout(){return{type:"SET_LAYOUT",layout:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},
/**
   * Add process (update/install) to queue.
   *
   * @param {Object}   process            The process.
   * @param {string}   process.actionType Action type.
   * @param {string[]} process.slugs      Extension slugs.
   */
*addToQueue(e){return yield u.setExtensionsStatus(e.slugs,c.IN_QUEUE),{type:"ADD_TO_QUEUE",process:e}},
/**
   * Add process (update/install) to queue.
   *
   * @param {Object}   process       The process.
   * @param {string}   process.type  Process type.
   * @param {string[]} process.slugs Extension slugs.
   */
removeFromQueue:e=>({type:"REMOVE_FROM_QUEUE",process:e}),
/**
   * Set the error message.
   *
   * @param {string} error The error.
   */
setError:e=>({type:"SET_ERROR",error:e})},d={getExtensions:e=>{let{extensionSlugs:t,entities:s}=e;return t.map((e=>s.extensions[e]))},getExtensionsByStatus:(e,t)=>d.getExtensions(e).filter((e=>t===e.status)),getSenseiProExtension:(0,l.createRegistrySelector)((e=>()=>e(h).getExtensions().find((e=>"sensei-pro"===e.product_slug)))),getEntities:(e,t)=>{let{entities:s}=e;return s[t]},getConnectionStatus:e=>{let{connected:t}=e;return t},getNextProcess:e=>{let{queue:t}=e;return t[0]||null},getError:e=>{let{error:t}=e;return t}},m={
/**
   * Loads the extensions during initialization.
   */
*getExtensions(){const e=yield(0,o.apiFetch)({path:"/sensei-internal/v1/sensei-extensions?type=plugin"});yield u.setEntities({extensions:(0,n.keyBy)(e.extensions,"product_slug")}),yield u.setExtensions(e.extensions.map((e=>e.product_slug)))}},p={SET_EXTENSIONS:(e,t)=>{let{extensionSlugs:s}=e;return{...t,extensionSlugs:s}},SET_EXTENSIONS_STATUS:(e,t)=>{let{slugs:s,status:n}=e;return{...t,entities:{...t.entities,extensions:Object.keys(t.entities.extensions).reduce(((e,l)=>({...e,[l]:{...t.entities.extensions[l],status:s.includes(l)?n:t.entities.extensions[l].status}})),{})}}},SET_CONNECTION_STATUS:(e,t)=>{let{connected:s}=e;return{...t,connected:s}},SET_LAYOUT:(e,t)=>{let{layout:s}=e;return{...t,layout:s}},SET_ENTITIES:(e,t)=>{let{entities:s}=e;return{...t,entities:(0,n.merge)({},t.entities,s)}},ADD_TO_QUEUE:(e,t)=>{let{process:s}=e;return{...t,queue:[...t.queue,s]}},REMOVE_FROM_QUEUE:(e,t)=>{let{process:s}=e;return{...t,queue:t.queue.filter((e=>!(0,n.isEqual)(e,s)))}},SET_ERROR:(e,t)=>{let{error:s}=e;return{...t,error:s}},DEFAULT:(e,t)=>t},h=(0,i/* .createStore */.MT)("sensei/extensions",{reducer:(0,i/* .createReducerFromActionMap */.lA)(p,{
/**
   * Extensions list. It is mapped with the entities and served through the selectors.
   */
extensionSlugs:[],
/**
   * Store entities to be used based on the entities key (it can be accessed directly,
   * or mapped based in a key list).
   */
entities:{extensions:{}},connected:!1,layout:[],queue:[],error:null}),actions:u,selectors:d,resolvers:m,controls:o.controls});
/**
 * Default store state.
 */}
/***/,
/***/39359:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */o:()=>/* binding */a
/* harmony export */});
/* unused harmony export getProbeStyles */
/* harmony import */var n=s(92819),l=s(69307),o=s(9818),r=s(67227);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const{getComputedStyle:i}=window,a=()=>{const e=(0,o.useSelect)((e=>e("core/editor").getEditorSettings().colors),[]),[t,s]=(0,l.useState)({});return(0,l.useEffect)((()=>{const t=c(),l={},o=(0,n.mapValues)((0,n.keyBy)(e,(e=>(0,r/* .hexToRGB */.$)(e.color))),"slug");Object.entries(t).forEach((e=>{let[t,s]=e;const n=o[(0,r/* .hexToRGB */.$)(s)];n&&(l[t]={slug:n,color:s})})),s(l)}),[e]),t},c=(0,n.memoize)((()=>{
// Create temporary probe elements.
const e=document.createElement("div");e.className="editor-styles-wrapper sensei-probe-element";const t=document.createElement("div");t.className="wp-block-button";const s=document.createElement("div");s.className="wp-block-button__link",s.textContent="Probe",
// Set probe position outside the screen to be hidden.
e.style.position="fixed",e.style.top="-100vh",
// Add probe to the screen.
t.appendChild(s),e.appendChild(t),document.body.appendChild(e);
// Save styles.
const n={primaryColor:i(s).backgroundColor,primaryContrastColor:i(s).color};
// Remove probe.
return document.body.removeChild(e),n}));
/**
 * Get color object by probe.
 *
 * @return {Object} Object containing the color objects, where the key is the probe key.
 */}
/***/,
/***/53112:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */ku:()=>/* binding */c
/* harmony export */,WJ:()=>/* binding */d
/* harmony export */,vD:()=>/* binding */m
/* harmony export */});
/* unused harmony export ColorSettings */
/* harmony import */var n=s(25773),l=s(69307),o=s(92819),r=s(52175),i=s(65736),a=s(39359);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Add color customization support and block settings controls for colors.
 *
 * @param {Object} colorSettings
 */
const c=e=>t=>{const s=(0,o.mapValues)(e,(e=>e.style));return(0,r.withColors)(s)((s=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(t,s),(0,l.createElement)(u,{colorSettings:e,props:s}))))},u=e=>{var t,s,n,a;let{colorSettings:c,props:u}=e;const d=Object.keys(c).map((e=>({value:u[e].color,label:c[e].label,onChange:t=>{u[`set${(0,o.upperFirst)(e)}`](t),c[e].onChange&&c[e].onChange({...u,colorValue:t})}}))),m=(null===(t=u.backgroundColor)||void 0===t||null===(s=t.color)||void 0===s?void 0:s.includes("var"))||(null===(n=u.textColor)||void 0===n||null===(a=n.color)||void 0===a?void 0:a.includes("var")),p=u.backgroundColor&&u.textColor&&!m;return(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(r.PanelColorSettings,{title:(0,i.__)("Color settings","sensei-lms"),initialOpen:!1,colorSettings:d},p&&(0,l.createElement)(r.ContrastChecker,{textColor:u.textColor.color,backgroundColor:u.backgroundColor.color,isLargeText:!1})))},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return t=>s=>{let{className:o}=s;const r={};o&&o.includes("is-style-")||(o=r.className=[o,`is-style-${e}`].join(" "));const i=o.match(/is-style-(\w+)/);return i&&(r.blockStyle=i[1]),(0,l.createElement)(t,(0,n/* ["default"] */.Z)({},s,r))}},m=e=>t=>s=>{const{setAttributes:o,attributes:i}=s,c=(0,a/* .useColorsByProbe */.o)(),[u,d]=(0,l.useState)({}),m=Object.keys(e).map((e=>i[e]));return(0,l.useEffect)((()=>{const t={};Object.entries(e).forEach((e=>{let[s,{style:n,probeKey:l}]=e;const a=c[l]||{},{slug:u}=a;if(u&&(t[s]={...a,className:(0,r.getColorClassName)(n,u)}),i[s]!==u){const e={};e[s]=u,
// Border color is not compatible with all themes as className, so the color value is needed.
"border-color"===n&&(e[`${s}Value`]=a.color),o(e)}})),d(t)}
// eslint-disable-next-line react-hooks/exhaustive-deps -- The deps are added dynamically because we get it dynamically from the attributes and we don't want add all attributes as dep.
),[c,o,...m]),(0,l.createElement)(t,(0,n/* ["default"] */.Z)({},s,u))}
/***/;
/**
 * Color setting inspector controls.
 *
 * @param {Object} params
 * @param {Object} params.colorSettings Color definitions.
 * @param {Object} params.props         Component props
 * @class
 */},
/***/3295:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>n
/* harmony export */});
/**
 * Internal dependencies
 */
/* harmony default export */const n=s(65436).Z;
/***/},
/***/65436:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),o=s(90005),r=s.n(o),i=s(52175),a=s(39630);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Single line input component, used for the editor only.
 *
 * @param {Object}   props           Component props.
 * @param {Function} props.onChange  Change callback.
 * @param {Function} props.onKeyDown Keydown callback.
 * @param {Function} props.onEnter   Called on Enter.
 * @param {Function} props.onRemove  Called on Backspace when value is empty.
 * @param {string}   props.value     Input value.
 * @param {Object}   ref             Input element ref.
 */
const c=(0,l.forwardRef)(((e,t)=>{let{onChange:s,onKeyDown:o,value:c,onEnter:u,onRemove:d,...m}=e;
/**
   * Handle change.
   *
   * @param {string} nextValue Change value.
   */return(0,l.createElement)(i.PlainText,(0,n/* ["default"] */.Z)({ref:t,value:c,onChange:e=>{s(e.replace(/\n/g,""))},onKeyDown:e=>{switch(o&&o(e),e.keyCode){case a.ENTER:e.preventDefault(),u&&u(e);break;case a.BACKSPACE:!d||null!=c&&c.length||(e.preventDefault(),d())}}},m,{className:r()("sensei-lms-single-line-input",m.className)}))}));
/* harmony default export */}
/***/,
/***/75245:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */l:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(4981),l=s(9818),o=s(69307),r=s(92819);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Insert an empty inner block to the end of the block when it's selected.
 *
 * @param {Object}   opts
 * @param {string}   opts.name             Block to be inserted.
 * @param {boolean}  opts.selectFirstBlock Select inserted block if it's the first one.
 * @param {Object}   opts.attributes       Attributes of a new block.
 * @param {Function} opts.isEmptyBlock     Callback to check if block is empty.
 * @param {Object}   parentProps           Block properties.
 */
const i=(e,t)=>{let{name:s,attributes:i={},selectFirstBlock:a=!1,isEmptyBlock:c}=e;const{clientId:u}=t,{__unstableMarkNextChangeAsNotPersistent:d=r.noop,insertBlock:m}=(0,l.useDispatch)("core/block-editor"),p=(0,l.useSelect)((e=>e("core/block-editor").getBlocks(u))),h=0===p.length,g=(0,o.useCallback)((()=>{const e=(0,n.createBlock)(s,i),t=h&&a;d(),m(e,void 0,u,t)}),[d,m,u,s,i,h,a]),_=p.length&&p[p.length-1],E=_&&c(_.attributes);
// console.log( 'dentro', useDispatch );
(0,o.useEffect)((()=>{E||g()}),[E,g])};
/***/},
/***/26622:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */V:()=>/* binding */r
/* harmony export */});
/* harmony import */var n=s(4981),l=s(9818),o=s(39630);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Insert or navigate to next sibling block on Enter. Remove current block on Backspace if empty.
 *
 * @param {Object}   props
 * @param {Function} props.insertBlocksAfter Callback to insert sibling block.
 * @param {string}   props.name              Current block name
 * @param {string}   props.clientId          Current block ID
 * @param {Object}   props.attributes        Current block attributes
 * @param {string}   props.attributes.title  Current block title
 * @return {{onKeyDown}} Keydown event handler
 */
const r=e=>{let{insertBlocksAfter:t,name:s,clientId:r,attributes:{title:i}}=e;const{selectNextBlock:a,removeBlock:c}=(0,l.useDispatch)("core/block-editor");
/**
   * Insert a new block on enter, unless there is already an empty new block after this one.
   */return{onKeyDown:e=>{switch(e.keyCode){case o.ENTER:(()=>{const e=(0,l.select)("core/block-editor"),o=e.getBlock(e.getNextBlockClientId());!o||o.attributes.title?t([(0,n.createBlock)(s)]):a(r)})();break;case o.BACKSPACE:(e=>{0===i.length&&(e.preventDefault(),c(r))})(e)}}}};
/***/},
/***/69490:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307);
/* harmony import */const o=e=>{let{size:t=24,...s}=e;return(0,l.createElement)("svg",(0,n/* ["default"] */.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:t,width:t,fill:"none"},s),(0,l.createElement)("path",{fill:"#1E1E1E",d:"M17.566 18.434L17 17l-.566 1.434L15 19l1.434.566L17 21l.566-1.434L19 19l-1.434-.566zM7.566 5.434L7 4l-.566 1.434L5 6l1.434.566L7 8l.566-1.434L9 6l-1.434-.566zM17.849 5.151L17 3l-.849 2.151L14 6l2.151.849L17 9l.849-2.151L20 6l-2.151-.849z"}),(0,l.createElement)("path",{fill:"#1E1E1E",fillRule:"evenodd",d:"M12.223 8.065a.75.75 0 00-.61 0l-5.168 2.297a.75.75 0 000 1.37l1.852.823v3.36c0 .254.128.49.34.628l.41-.628-.41.628v.001l.003.001.005.003.017.012a8.218 8.218 0 00.28.17c.185.108.444.252.744.397.57.276 1.4.613 2.165.623.793.01 1.658-.328 2.251-.608a10.93 10.93 0 001.067-.58l.018-.01.006-.004.002-.001v-.001l-.405-.63.406.63a.75.75 0 00.344-.63v-3.36l1.851-.824a.75.75 0 000-1.37l-5.168-2.297zm1.816 5.157l-1.816.807a.75.75 0 01-.61 0l-1.816-.807v2.27c.148.083.334.184.542.285.543.262 1.12.468 1.532.473.427.006 1.026-.198 1.592-.465.222-.104.42-.21.577-.297v-2.266zm-2.12-.699l-3.322-1.476 3.321-1.476 3.322 1.476-3.322 1.476z",clipRule:"evenodd"}))};
/* harmony default export */}
/***/,
/***/97921:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
const o=()=>(0,n.createElement)("span",{className:"sensei-pro-badge"},(0,l.__)("Pro","sensei-lms"))
/* harmony default export */}
/***/,
/***/92239:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),o=s(70528);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * A custom appender. It is a plus button with some text and pops a dropdown when clicked.
 *
 * @param {Object} props          Component properties.
 * @param {Array}  props.controls DropdownMenu controls.
 * @param {string} props.text     Text to display.
 * @param {string} props.label    Button label.
 */
const r=e=>{let{controls:t,text:s,label:r}=e;return(0,n.createElement)("div",{className:"sensei-lms-text-appender block-editor-default-block-appender"},(0,n.createElement)(l.DropdownMenu,{icon:o/* ["default"] */.Z,toggleProps:{className:"block-editor-inserter__toggle",onMouseDown:e=>e.preventDefault()},label:r,controls:t,popoverProps:{position:"bottom center"},menuProps:{className:"sensei-lms-text-appender__menu"}}),(0,n.createElement)("p",{className:"sensei-lms-text-appender__placeholder","data-placeholder":s}))};
/* harmony default export */}
/***/,
/***/16400:
/***/(e,t,s)=>{"use strict";
/* unused harmony export preloadedDataUsedOnceMiddleware */
/* harmony import */var n=s(96483),l=s(86989);
/* harmony import */s.n(l)().use(
/**
 * WordPress dependencies
 */
/**
 * Use data preloaded with createPreloadingMiddleware only once.
 */
function(){const e={};return(t,s)=>("string"!=typeof t.path||"GET"!==t.method&&t.method||(e[t.path]?t.path=(0,n.addQueryArgs)(t.path,{__skip_preload:1}):e[t.path]=!0),s(t))}())}
/***/,
/***/20832:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */lA:()=>/* binding */o
/* harmony export */,MT:()=>/* binding */r
/* harmony export */});
/* unused harmony export composeFetchAction */
/* harmony import */var n=s(9818);
/* harmony import */
/**
 * WordPress dependencies
 */
// We register the store in the global scope to avoid registering it multiple times.
// The reason to be in the global scope is that some times we have different built files using the same source.
window.senseiStores=window.senseiStores||[];const{senseiStores:l}=window,o=(e,t)=>function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return(e[n.type]||e.DEFAULT)(n,s)},r=(e,t)=>{if(l[e])return l[e];const s=(0,n.createReduxStore)(e,t);return(0,n.register)(s),l[e]=s,s};
/**
 * Compose an action creator with the given start, success and error actions.
 *
 * @param {string}   startAction   Start action type.
 * @param {Function} fetchFn       The action creator to be wrapped. Should return the resolved data.
 * @param {string}   successAction Success action type.
 * @param {string}   errorAction   Error action type.
 * @return {Function} The wrapped action creator.
 */}
/***/,
/***/67227:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */$:()=>/* binding */n
/* harmony export */});
/**
 * Converts css color hex to rgb.
 *
 * @param {string} h The hex color string.
 *
 * @return {string} The rgb value.
 */
const n=e=>{
// Returns if it's not an hexadecimal.
if(!e||null===e.match("#"))return e;let t=0,s=0,n=0;const l=4===e.length?`#${e[1]+e[1]+e[2]+e[2]+e[3]+e[3]}`:e;return 7===l.length&&(t=parseInt(l.substr(1,2),16)||0,s=parseInt(l.substr(3,2),16)||0,n=parseInt(l.substr(5,2),16)||0),`rgb(${t}, ${s}, ${n})`};
/***/},
/***/67959:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */K:()=>/* binding */n
/* harmony export */});
/* unused harmony export logLink */
/**
 * Send log event.
 *
 * @param {string} eventName  Event name.
 * @param {Array}  properties Event properties.
 */
const n=(e,t)=>{window.sensei_log_event(e,t)};
/**
 * Enable or disable event logging.
 *
 * @param {boolean} enabled Enabled state.
 */n.enable=e=>{window.sensei_event_logging.enabled=e}}
/***/,
/***/23728:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */x:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(92819),l=s(23418),o=s(9818),r=s(20832);
/* harmony import */s(16400);
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Register structure store and subscribe to block editor save.
 *
 * @param {Object}   opts
 * @param {string}   opts.storeName          Name of store.
 * @param {Function} opts.getEndpoint        REST API endpoint.
 * @param {Function} opts.saveError          Handler for displaying save errors.
 * @param {Function} opts.fetchError         Handler for displaying fetch errors.
 * @param {Function} opts.clearError         Handler for clearing errors.
 * @param {Function} opts.updateBlock        Update block with given structure.
 * @param {Function} opts.blockExists        Check if block exists.
 * @param {Function} opts.readBlock          Extract structure from block.
 * @param {Function} opts.setServerStructure Set the server structure which is used to track differences.
 */
function i(e){let{storeName:t,getEndpoint:s,saveError:i,fetchError:a,clearError:c,updateBlock:u,blockExists:d,readBlock:m,setServerStructure:p,...h}=e;const g={
/**
     * Fetch structure data from REST API.
     */
*loadStructure(){try{const e=yield*s(),t=yield(0,l.apiFetch)({path:`/sensei-internal/v1/${e}`,method:"GET"});yield g.setResult(t)}catch(e){yield null==a?void 0:a(e)}},
/**
     * Persist editor's structure to the REST API.
     */
*saveStructure(){const e=yield(0,o.select)(t).getEditorStructure();try{const t=yield*s(),n=yield(0,l.apiFetch)({path:`/sensei-internal/v1/${t}`,method:"POST",data:e});yield g.setResult(n)}catch(e){yield null==i?void 0:i(e)}},
/**
     * Set fetched structure.
     *
     * @param {Array} serverStructure
     */
*setResult(e){yield g.setServerStructure(e),yield u(e)},
/**
     * Keep last fetched server state for comparison.
     *
     * @param {Array} serverStructure
     */
setServerStructure:e=>({type:"SET_SERVER_STRUCTURE",serverStructure:e}),
/**
     * Keep last editor state.
     *
     * @param {Array} editorStructure
     */
setEditorStructure:e=>({type:"SET_EDITOR_STRUCTURE",editorStructure:e}),
/**
     * Initiate saving the post.
     */
*savePost(){yield{type:"SAVE_POST"},yield(0,o.dispatch)("core/editor").savePost()},
/**
     * Post is saving. Save the structure too if it has changed.
     */
*startPostSave(){yield{type:"START_SAVE"};const e=m();yield g.setEditorStructure(e),yield null==c?void 0:c(),e&&((0,o.select)(t).hasUnsavedEditorChanges()&&(yield*g.saveStructure()),yield{type:"FINISH_SAVE"})},
/**
     * Finished saving post and structure.
     * Check if either needs to be saved again due to new changes.
     */
*finishPostSave(){yield{type:"FINISH_POST_SAVE"};const{hasUnsavedServerUpdates:e}=(0,o.select)(t);e()&&(yield*g.savePost())},
/**
     * Set linked block.
     *
     * @param {string} clientId Block ID.
     */
*setBlock(e){yield{type:"SET_BLOCK",clientId:e}}},_={SET_SERVER_STRUCTURE:(e,t)=>{let{serverStructure:s}=e;const l=!t.editorStructure,o=p?p(s):s,r=!l&&!(0,n.isEqual)(o,t.editorStructure);return{...t,serverStructure:o,hasUnsavedServerUpdates:r,hasUnsavedEditorChanges:!1}},SET_EDITOR_STRUCTURE:(e,t)=>{let{editorStructure:s}=e;const l=!(0,n.isEqual)(t.serverStructure,s);return{...t,editorStructure:s,hasUnsavedEditorChanges:l&&!!s}},START_SAVE:(e,t)=>({...t,isSavingStructure:!0}),FINISH_SAVE:(e,t)=>({...t,isSavingStructure:!1}),SAVE_POST:(e,t)=>({...t,hasUnsavedServerUpdates:!1}),SET_BLOCK:(e,t)=>{let{clientId:s}=e;return{...t,clientId:s}},DEFAULT:(e,t)=>t};return{unsubscribe:(()=>{let e=!1,s=!1,n=!1;return(0,o.subscribe)((function(){const l=(0,o.select)("core/editor"),r=(0,o.select)("core/edit-post");if(!l||!r)return;
// Check if the block exists.
if(!d())return;const i=(0,o.select)(t).getIsSavingStructure(),a=l.isSavingPost()&&!l.isAutosavingPost();a&&(s=!0);const c=r.isSavingMetaBoxes();c&&(n=!0),e||a||c||!s||!n?e&&!i&&(
// Call finishPostSave when structure has finished saving.
e=!1,(0,o.dispatch)(t).finishPostSave()):(
// Start saving structure when post has finished saving.
e=!0,s=!1,n=!1,(0,o.dispatch)(t).startPostSave())}))})(),store:(0,o.registerStore)(t,{reducer:(0,r/* .createReducerFromActionMap */.lA)({..._,...null==h?void 0:h.reducers},{serverStructure:null,editorStructure:null,isSavingStructure:!1,hasUnsavedServerUpdates:!1,hasUnsavedEditorChanges:!1,clientId:null}),actions:{...g,...null==h?void 0:h.actions},selectors:{hasUnsavedServerUpdates:e=>{let{hasUnsavedServerUpdates:t}=e;return t},hasUnsavedEditorChanges:e=>{let{hasUnsavedEditorChanges:t}=e;return t},getIsSavingStructure:e=>{let{isSavingStructure:t}=e;return t},getServerStructure:e=>{let{serverStructure:t}=e;return t},getEditorStructure:e=>{let{editorStructure:t}=e;return t},getBlock:e=>{let{clientId:t}=e;return t},...null==h?void 0:h.selectors},controls:{...l.controls,...null==h?void 0:h.controls}})}}
/***/},
/***/99196:
/***/e=>{"use strict";e.exports=window.React}
/***/,
/***/92819:
/***/e=>{"use strict";e.exports=window.lodash}
/***/,
/***/86989:
/***/e=>{"use strict";e.exports=window.wp.apiFetch}
/***/,
/***/52175:
/***/e=>{"use strict";e.exports=window.wp.blockEditor}
/***/,
/***/4981:
/***/e=>{"use strict";e.exports=window.wp.blocks}
/***/,
/***/55609:
/***/e=>{"use strict";e.exports=window.wp.components}
/***/,
/***/94333:
/***/e=>{"use strict";e.exports=window.wp.compose}
/***/,
/***/9818:
/***/e=>{"use strict";e.exports=window.wp.data}
/***/,
/***/23418:
/***/e=>{"use strict";e.exports=window.wp.dataControls}
/***/,
/***/72067:
/***/e=>{"use strict";e.exports=window.wp.editPost}
/***/,
/***/12238:
/***/e=>{"use strict";e.exports=window.wp.editor}
/***/,
/***/69307:
/***/e=>{"use strict";e.exports=window.wp.element}
/***/,
/***/92694:
/***/e=>{"use strict";e.exports=window.wp.hooks}
/***/,
/***/22629:
/***/e=>{"use strict";e.exports=window.wp.htmlEntities}
/***/,
/***/65736:
/***/e=>{"use strict";e.exports=window.wp.i18n}
/***/,
/***/39630:
/***/e=>{"use strict";e.exports=window.wp.keycodes}
/***/,
/***/70444:
/***/e=>{"use strict";e.exports=window.wp.primitives}
/***/,
/***/29512:
/***/e=>{"use strict";e.exports=window.wp.tokenList}
/***/,
/***/96483:
/***/e=>{"use strict";e.exports=window.wp.url}
/***/,
/***/90005:
/***/(e,t)=>{var s;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/* global define */!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=r(e,o(s)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=r(t,s));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(s=function(){return l}.apply(t,[]))||(e.exports=s)}()}
/***/,
/***/25773:
/***/(e,t,s)=>{"use strict";
/* harmony export */function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},n.apply(this,arguments)}
/***/s.d(t,{
/* harmony export */Z:()=>/* binding */n
/* harmony export */})},
/***/37231:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/course-outline-lesson","title":"Lesson","description":"Where your course content lives.","category":"sensei-lms","textdomain":"sensei-lms","keywords":["course","lesson"],"parent":["sensei-lms/course-outline","sensei-lms/course-outline-module"],"attributes":{"id":{"type":"integer"},"title":{"type":"string","default":""},"initialContent":{"type":"string","default":""},"draft":{"type":"boolean","default":true},"backgroundColor":{"type":"string"},"customBackgroundColor":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"},"fontSize":{"type":"number"},"isExample":{"type":"boolean","default":false},"placeholder":{"type":"string"}},"supports":{"html":false,"customClassName":true}}')}
/***/,
/***/86057:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/course-outline-module","title":"Module","description":"Group related lessons together.","category":"sensei-lms","textdomain":"sensei-lms","keywords":["module","course module","group","lessons"],"parent":["sensei-lms/course-outline"],"supports":{"html":false},"attributes":{"id":{"type":"integer"},"title":{"type":"string","default":""},"description":{"type":"string","default":""},"teacher":{"type":"string","default":""},"teacherId":{"type":"string","default":""},"lastTitle":{"type":"string","default":""},"slug":{"type":"string","default":""},"mainColor":{"type":"string"},"customMainColor":{"type":"string"},"defaultMainColor":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"},"defaultTextColor":{"type":"string"},"borderColor":{"type":"string"},"customBorderColor":{"type":"string"},"borderColorValue":{"type":"string"},"defaultBorderColor":{"type":"string"},"defaultBorderColorValue":{"type":"string"},"className":{"type":"string"},"customClassName":{"type":"string"},"borderedSelected":{"type":"boolean"}}}')}
/***/,
/***/9200:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/course-outline","title":"Course Outline","description":"Manage your Sensei LMS course outline.","category":"sensei-lms","textdomain":"sensei-lms","keywords":["course","lessons","modules","outline","structure"],"supports":{"html":false,"multiple":false,"defaultStylePicker":false},"attributes":{"id":{"type":"integer"},"collapsibleModules":{"type":"boolean","default":true},"moduleBorder":{"type":"boolean","default":true},"isPreview":{"type":"boolean"}}}')}
/***/
/******/},t={};
/************************************************************************/
/******/ // The module cache
/******/
/******/
/******/ // The require function
/******/function s(n){
/******/ // Check if module is in cache
/******/var l=t[n];
/******/if(void 0!==l)
/******/return l.exports;
/******/
/******/ // Create a new module (and put it into the cache)
/******/var o=t[n]={
/******/ // no module.id needed
/******/ // no module.loaded needed
/******/exports:{}
/******/};
/******/
/******/ // Execute the module function
/******/
/******/
/******/ // Return the exports of the module
/******/return e[n](o,o.exports,s),o.exports;
/******/}
/******/
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/
/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/s.n=e=>{
/******/var t=e&&e.__esModule?
/******/()=>e.default
/******/:()=>e
/******/;
/******/return s.d(t,{a:t}),t;
/******/},
/******/ // define getter functions for harmony exports
/******/s.d=(e,t)=>{
/******/for(var n in t)
/******/s.o(t,n)&&!s.o(e,n)&&
/******/Object.defineProperty(e,n,{enumerable:!0,get:t[n]})
/******/;
/******/},
/******/s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)
/******/,
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(()=>{"use strict";
/* harmony import */var e=s(53227),t=s(75913);
/* harmony import */
/**
 * Internal dependencies
 */
(0,e/* ["default"] */.Z)([t/* .OutlineBlock */.He,t/* .ModuleBlock */.iT,t/* .LessonBlock */.G$])})()})
/******/();