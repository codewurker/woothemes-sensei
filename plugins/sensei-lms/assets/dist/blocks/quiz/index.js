/******/(()=>{// webpackBootstrap
/******/var e={
/***/98965:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n,l,r=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const a=function(e){
return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),n||(n=r.createElement("path",{d:"M13 7h-2v6h2V7zm0 8h-2v2h2v-2z"})),l||(l=r.createElement("path",{d:"M12 4.75a7.25 7.25 0 1 0 0 14.5 7.25 7.25 0 0 0 0-14.5zM3.25 12a8.75 8.75 0 1 1 17.5 0 8.75 8.75 0 0 1-17.5 0z"})))};
/***/},
/***/24280:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n,l,r=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const a=function(e){
return r.createElement("svg",o({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.929 18.5a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0-3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"})),l||(l=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.276 4.5a1 1 0 0 0-.987.836L9.93 7.5h4l-.361-2.164a1 1 0 0 0-.986-.836h-1.306Zm1.306 16a1 1 0 0 0 .986-.836l.36-2.164h-4l.361 2.164a1 1 0 0 0 .987.836h1.306ZM18.53 7.934a1 1 0 0 0-1.217-.436l-2.055.77 2 3.464 1.694-1.395a1 1 0 0 0 .23-1.272l-.652-1.13ZM5.326 17.065a1 1 0 0 0 1.217.436l2.055-.77-2-3.463-1.694 1.394a1 1 0 0 0-.23 1.272l.652 1.131ZM4.675 9.066a1 1 0 0 0 .23 1.272l1.694 1.394 2-3.464-2.055-.77a1 1 0 0 0-1.217.437l-.652 1.13Zm14.509 6.869a1 1 0 0 0-.23-1.272l-1.695-1.395-2 3.464 2.055.77a1 1 0 0 0 1.217-.436l.653-1.131Z",fill:"currentColor"})))};
/***/},
/***/33731:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n,l,r=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const a=function(e){
return r.createElement("svg",o({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("circle",{cx:12,cy:12,r:12,fill:"#43AF99"})),l||(l=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.835 15.38c.3-.23.179-.474.6-.563-.02.194.146.391.251.563-.109-.367-.002-.536.08-.72.347-.785-.662-1.293-1.35-1.418.235-.164.399-.327.694-.355a2.377 2.377 0 0 0-1.058.23c-1.112.531-1.993-.523-1.41-1.48.31-.51.664-.519.982-.865.077.178.103.372.075.564a.919.919 0 0 0 .049-.664c-.104-.336-.4-.338-.456-.821-.012-.101-.105.056-.263-.077-.038-.032-.113-.09-.163-.064-.085.044-.18.008-.232.034-.083.041-.109-.045-.2.016-.16.107-.178-.013-.332.005-.193.023-.32.261-.43.144-.102-.108-.206.075-.28.075-.05 0-.311.317-.426.028-.086-.216-.28.206-.382.063-.033-.046-.123.108-.18-.044-.014-.035 0-.078-.108-.027-.215.099-.138-.06-.207-.144-.083-.103-.113-.103-.068-.27.036-.133-.019-.33.2-.364.055-.008.107-.005.184-.148.096-.18.231-.093.207-.175-.036-.119.143-.28.226-.355.11-.103.254-.252.306-.396a.63.63 0 0 1 .102-.141c.081-.084.105-.003.227-.045.088-.03.02.053.106-.07.028-.038.105-.001.19-.039.259-.112.283-.11.347-.371.012-.05.025-.088.08-.083.109.01.134-.052.2-.05.061.001.083-.03.115-.068.18-.216.277-.055.357-.072.06-.012.022-.142.184-.102.23.057.155-.05.303-.015.174.041.186.19.306.225.143.042.211.198.307.196.337-.005.235.23.448.323-.16-.161.012-.421-.352-.455-.08-.007-.11-.127-.23-.183-.146-.067-.13-.21-.394-.27.068-.04.089.005.13-.073.058-.11.09-.046.113-.113.02-.063.006-.099.165-.155.165-.06.325-.195.472-.188.13.006.185-.08.177-.19-.008-.112-.033-.267.222-.22.153.029.15.003.15-.1-.002-.102.04-.165.174-.16.098.002.194-.003.231-.117.03-.091.207-.114.302-.148.317-.114.361.05.447-.095.07-.117.196-.317.337-.175.028.029.054.05.15-.056.08-.088.27-.2.337-.048.027.06.086.121.138.044a.08.08 0 0 1 .053-.039c.05-.01.079-.024.104-.036.218-.101.314-.095.213.125-.142.316.792-.192.532.151-.095.126.538.197.63.254.05.032.048.059.144.077.271.05.267.026.284.243.007.098.107.043.107.168 0 .535.472.266.549.399.012.022.032.042.079.042.149 0 .157-.03.224.089.027.047.05.072.127.096.12.037.112.05.068.138-.054.104.03.102.138.112.1.01.148.062.216.138.11.122.284.156.43.227.084.04.002.14.143.243.104.077.156.066.016.165-.59.418.22.305.446.694.051.087.118.195.216.295.225.23.1.293.221.437.07.083.015.063.13.137.272.175-.105.292-.319.212-.097-.035-.166-.085-.147-.025.016.049-.01.083-.052.12-.125.112.123.068.181.06.181-.025.664-.076.66.093-.005.22.136.27.25.284.185.024.238.057.34.226.092.152.145.07.288.205.097.093.217.258.02.282-.047.005-.099 0-.12.017a.411.411 0 0 1-.14.066c-.295.09.14.136.246.113.093-.02.209-.05.3-.027.057.015.062.08.244.107.06.01.036.099.006.16-.104.214.191.1.16.263-.017.093.11.245-.067.248-.057.001-.117-.015-.115.034.004.105-.165-.03-.317.115-.056.054-.19.092-.272-.009-.032-.038-.07-.069-.218-.023-.144.046-.242.204-.306-.04-.017-.064-.05-.065-.142-.097-.125-.043-.114-.258-.297-.12a.24.24 0 0 1-.214.039c-.144-.037-.303.012-.317-.096-.021-.179-.191-.305-.377-.296-.147.008-.278.034-.355-.137.057.195.207.208.382.208.144 0 .23.075.255.225.045.265.204.099.406.223.1.06.17.159.21.273.042.118.37-.024.282.258-.037.122-.107.168-.242.266-.4.294-.5.004-.618.239-.062.121-.063.031-.196.09-.22.098-.36-.128-.522-.045-.182.094-.168-.08-.352.037-.152.097-.308-.074-.38.192-.063.227-.322.232-.44.11-.189-.194-.132.229-.362.054-.123-.091-.213.043-.392.045-.33.005-.489-.282-.65-.107-.192.206-.331-.032-.334-.242-.003-.216-.777-.144-1.185-.256-.225-.062-.932.013-.702-.35-.372.39.456.366.682.455.136.053.245.095.377.114.13.296.214.617.227 1.007.043-.214.053-.433.028-.649-.043-.383.242.19.276.272.184.45-.022 1.278-.488 1.526a2.957 2.957 0 0 0-.562-.99c.256.392.616 1.192.327 1.65a1.023 1.023 0 0 1-.55-.483c.077.333.413.702.818.58.707-.213.704.233 1.641.307.682.111 1.654 0 2.118.037.254.02 1.32.197 1.315.465-.02 1.105-.438 1.164-1.539 1.268-.64.06-1.134.085-1.823.11-1.54.058-3.391.06-4.868 0-.724-.03-1.072-.036-1.841-.137-.769-.1-1.19-.363-1.178-1.187.005-.304.905-.594 1.2-.628.347-.039.901.005 1.405-.116.527-.127.747-.21 1.135-.508Zm5.347-6.052c-.167-.042-.051-.138-.339-.014-.17.073-.194-.13-.365-.094-.172.036-.242-.125-.499-.166-.318-.05-.088-.133-.592-.032-.097.02-.179-.09-.481-.052-.355.046-.23.084-.445-.115-.272-.251-.488-.082-.767-.184.216.166.368.019.622.221-.242.138-.523.802-.962.844.478.107.709.354 1.148.413.504.068.882.118 1.151.531.301.463.44.196.874.168.275-.017.282-.185.328-.362.063-.245.126-.256.31-.289.213-.037.163-.092.107-.156-.15-.172.019-.207.146-.244.222-.064.042-.075.042-.166-.278-.09-.063-.217.092-.273.169.105.242.087.317.073.109-.021.181.03.273-.028-.135.014-.163-.037-.278-.02-.051.007-.112.01-.219-.054-.18-.107-.27.048-.463 0Zm-2.28 1.64-1.09-.545c-1.316-.657-1.915.313-2.337 1.376l-.766.73c.549-.338.996-.714 1.574-.71.092 0 1.516.484 1.286-.092-.04-.104.09-.052.125-.201.04-.17.055-.141.195-.033.089.069.211.113.174-.048-.017-.072-.04-.137.28-.004.15.062.095-.064.303-.09.29-.034.228-.31.364-.349.076-.022.152.058.295-.077.05-.046.11-.089.232-.057-.143-.073-.22-.014-.292.03-.146.089-.204-.037-.343.07Zm-2.23-1.923c.16-.02.32-.036.482-.046a.13.13 0 0 0 .074-.06.111.111 0 0 0 .007-.09.268.268 0 0 1 .147-.206l-.002-.003c-.258.001-.466.1-.73.211-.052.022-.024.111-.118.213a.26.26 0 0 1-.201.235.136.136 0 0 0-.09.046.113.113 0 0 0-.026.092.252.252 0 0 1-.277.061c-.2-.077-.35-.065-.448.036a.39.39 0 0 1 .398.014c.134.066.3.031.39-.082a.132.132 0 0 1 .126-.098.421.421 0 0 0 .268-.323Z",fill:"#fff"})))};
/***/},
/***/45889:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n,l,r=s(99196);
/* harmony import */function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}
/* harmony default export */const a=function(e){
return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),n||(n=r.createElement("path",{d:"M12.408 7.277A2.999 2.999 0 0 0 9 10.25h1.5c0-.677.375-1.14.886-1.37.512-.228 1.11-.198 1.614.253.504.45.6 1.04.43 1.574-.171.534-.592.958-1.264 1.033l.021-.002a1.034 1.034 0 0 0-.937.99V14h1.5v-.95c1.02-.28 1.817-.979 2.107-1.888a2.998 2.998 0 0 0-2.449-3.885z"})),l||(l=r.createElement("path",{d:"M6 4c-1.096 0-2 .904-2 2v12c0 1.096.904 2 2 2h12c1.096 0 2-.904 2-2V6c0-1.096-.904-2-2-2H6zm0 1.5h12c.284 0 .5.216.5.5v12a.49.49 0 0 1-.5.5H6a.49.49 0 0 1-.5-.5V6c0-.284.216-.5.5-.5zm5.25 9.5v1.5h1.5V15h-1.5z"})))};
/***/},
/***/82691:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n,l,r,o=s(99196);
/* harmony import */function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a.apply(this,arguments)}
/* harmony default export */const i=function(e){
return o.createElement("svg",a({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=o.createElement("path",{fill:"transparent",stroke:"currentColor",strokeWidth:1.5,d:"M21 8v11c0 1.105-.894 2-1.999 2H6"})),l||(l=o.createElement("rect",{x:3.75,y:3.75,width:13.5,height:13.5,rx:.875,stroke:"currentColor",strokeWidth:1.5,fill:"transparent"})),r||(r=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 9a1.5 1.5 0 0 0-3 0H7.5a3 3 0 1 1 3.75 2.905v.845h-1.5V11.5c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 9Zm-2.25 4.75v1.5h1.5v-1.5h-1.5Z"})))};
/***/},
/***/36414:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>l
/* harmony export */});
/* harmony import */var n=s(69307);
/* harmony import */
/* harmony default export */const l=(0,n.forwardRef)((
/**
 * WordPress dependencies
 */
/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */
/**
 * Return an SVG icon.
 *
 * @param {IconProps}                                 props icon is the SVG component to render
 *                                                          size is a number specifiying the icon size in pixels
 *                                                          Other props will be passed to wrapped SVG component
 * @param {import('react').ForwardedRef<HTMLElement>} ref   The forwarded ref to the SVG element.
 *
 * @return {JSX.Element}  Icon component
 */
function({icon:e,size:t=24,...s},l){return(0,n.cloneElement)(e,{width:t,height:t,...s,ref:l})}));
//# sourceMappingURL=index.js.map
/***/},
/***/80454:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const r=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));
/* harmony default export */}
//# sourceMappingURL=check.js.map
/***/,
/***/19316:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const r=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));
/* harmony default export */}
//# sourceMappingURL=chevron-down.js.map
/***/,
/***/12585:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const r=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));
/* harmony default export */}
//# sourceMappingURL=chevron-up.js.map
/***/,
/***/93851:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const r=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));
/* harmony default export */}
//# sourceMappingURL=info.js.map
/***/,
/***/70528:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const r=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"}));
/* harmony default export */}
//# sourceMappingURL=plus.js.map
/***/,
/***/99854:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(99196),l=s(70444);
/* harmony import */
/**
 * WordPress dependencies
 */
const r=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}));
/* harmony default export */}
//# sourceMappingURL=search.js.map
/***/,
/***/91442:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(90005),o=s.n(r),a=s(55609);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Input control component.
 *
 * It can use or be replaced by the
 * WordPress [InputControl]{@link https://github.com/WordPress/gutenberg/tree/trunk/packages/components/src/input-control} when it's stable.
 *
 * @param {Object}   props             Component props.
 * @param {string}   [props.className] Additional classnames for the input.
 * @param {string}   [props.id]        Component id used to connect label and input - required if label is set.
 * @param {string}   [props.label]     Input label.
 * @param {number}   [props.value]     Input value.
 * @param {string}   [props.help]      Help text.
 * @param {string}   [props.iconRight] Icon right.
 * @param {Function} [props.onChange]  Change function.
 */
const i=e=>{let{className:t,id:s,label:r,value:i,help:c,iconRight:u,onChange:d,...m}=e;return(0,l.createElement)(a.BaseControl,{id:s,label:r,help:c},(0,l.createElement)("div",{className:"sensei-input-control"},(0,l.createElement)("input",(0,n/* ["default"] */.Z)({className:o()("sensei-input-control__input",{"sensei-input-control__input--with-icon-right":u},t),type:"text",id:s,value:null===i?"":i,onChange:e=>d(e.target.value)},m)),u&&(0,l.createElement)("span",{className:"sensei-input-control__icon"},(0,l.createElement)(a.Icon,{icon:u}))))};
/* harmony default export */}
/***/,
/***/80768:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(90005),o=s.n(r),a=s(55609),i=s(65736);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Number control component.
 *
 * @param {Object}   props                     Component props.
 * @param {string}   [props.className]         Additional classnames for the input.
 * @param {string}   [props.id]                Component id used to connect label and input - required if label is set.
 * @param {string}   [props.label]             Input label.
 * @param {number}   [props.value]             Input value.
 * @param {string}   [props.help]              Help text.
 * @param {boolean}  [props.allowReset=false]  Whether reset is allowed.
 * @param {string}   [props.resetLabel]        Reset button custom label.
 * @param {Function} props.onChange            Change function, which receives number as argument.
 * @param {string}   props.suffix              Input suffix.
 * @param {boolean}  props.hideLabelFromVision Hides label.
 */
const c=e=>{let{className:t,id:s,label:r,value:c,help:u,allowReset:d=!1,resetLabel:m,onChange:p,suffix:g,hideLabelFromVision:_,...h}=e;return(0,l.createElement)(a.BaseControl,{id:s,label:r,help:u,hideLabelFromVision:_},(0,l.createElement)("div",{className:"sensei-number-control"},(0,l.createElement)("div",{className:"sensei-number-control__input-container"},(0,l.createElement)("input",(0,n/* ["default"] */.Z)({className:o()("sensei-number-control__input components-text-control__input",t),type:"number",id:s,onChange:e=>{p(parseInt(e.target.value,10)||h.min||0)},value:null===c?"":c},h)),g&&(0,l.createElement)("span",{className:"sensei-number-control__input-suffix"},g)),d&&(0,l.createElement)(a.Button,{className:"sensei-number-control__button",isSmall:!0,isSecondary:!0,onClick:()=>p(null)},m||(0,i.__)("Reset","sensei-lms"))))};
/* harmony default export */}
/***/,
/***/81042:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(90005),o=s.n(r),a=s(55609),i=s(80454);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * @typedef {Object} DropdownOption
 *
 * @property {string} label Option label.
 * @property {string} value Option value.
 */
/**
 * Dropdown for the editor toolbar.
 *
 * @param {Object}           props
 * @param {DropdownOption[]} props.options          Dropdown options.
 * @param {string}           [props.optionsLabel]   Options label.
 * @param {Object}           props.icon             Icon for the toolbar.
 * @param {string}           props.value            Current dropdown value.
 * @param {Function}         props.onChange         Dropdown change callback, which receive the new value as argument.
 * @param {Object}           props.toggleProps      Props passed to the toggle element.
 * @param {Object}           props.popoverProps     Props passed to the popover component.
 * @param {Function}         props.getMenuItemProps Render function for a menu item. Should return a props object.
 */
const c=e=>{let{options:t,optionsLabel:s,icon:r,value:c,onChange:u,toggleProps:d,getMenuItemProps:m,popoverProps:p,...g}=e;const _=t.find((e=>c===e.value));return(0,l.createElement)(a.Dropdown,(0,n/* ["default"] */.Z)({className:"sensei-toolbar-dropdown",popoverProps:{isAlternate:!0,position:"bottom right left",focusOnMount:!0,...p,className:o()(null==p?void 0:p.className,"sensei-toolbar-dropdown__popover")},renderToggle:e=>{let{isOpen:t,onToggle:s}=e;return(0,l.createElement)(a.Button,(0,n/* ["default"] */.Z)({onClick:s,icon:r,"aria-expanded":t,"aria-haspopup":"true"},d,{children:null!=d&&d.children?d.children(_):null==_?void 0:_.label}))},renderContent:e=>{let{onClose:r}=e;return(0,l.createElement)(a.NavigableMenu,{role:"menu",stopNavigationEvents:!0},(0,l.createElement)(a.MenuGroup,{label:s},t.map((e=>{const t=e.value===(null==_?void 0:_.value),s=null==m?void 0:m(e);return(0,l.createElement)(a.MenuItem,(0,n/* ["default"] */.Z)({key:e.value,role:"menuitemradio",isSelected:t,icon:t?i/* ["default"] */.Z:null,className:o()("sensei-toolbar-dropdown__option",{"is-selected":t},null==s?void 0:s.className),onClick:()=>{u(e.value),r()},children:e.label},s))}))))}},g))};
/* harmony default export */}
/***/,
/***/2434:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(69307),l=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Question block file upload answer component.
 */
const r=()=>(0,n.createElement)("div",{className:"wp-block-button is-style-outline sensei-lms-question-block__answer sensei-lms-question-block__answer--file-upload"},(0,n.createElement)("div",{className:"wp-block-button__link wp-element-button"},(0,l.__)("Choose File","sensei-lms")));
/* harmony default export */}
/***/,
/***/72892:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736),o=s(65436);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question block gap fill answer component.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes
 * @param {string}   props.attributes.before Text before the gap.
 * @param {string}   props.attributes.after  Text after the gap.
 * @param {string[]} props.attributes.gap    Right answers.
 * @param {Function} props.setAttributes
 * @param {boolean}  props.hasSelected       Is the question block selected.
 */
const a=e=>{let{attributes:{before:t,after:s,gap:a},setAttributes:i,hasSelected:u}=e;return(0,n.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--gap-fill"},(0,n.createElement)("li",null,(0,n.createElement)(o/* ["default"] */.Z,{className:"sensei-lms-question-block__answer--gap-fill__text",placeholder:(0,r.__)("Text before the gap","sensei-lms"),value:t,onChange:e=>i({before:e})})),(0,n.createElement)("li",{className:"sensei-lms-question-block__answer--gap-fill__right-answers",onBlur:e=>{let{target:t}=e;null!=t&&t.value&&(i({gap:[...null!=a?a:[],t.value]}),c(t,""))}},(0,n.createElement)(l.FormTokenField,{className:"sensei-lms-question-block__text-input-placeholder",value:a||[],label:!1,onChange:e=>i({gap:e})}),u&&(0,n.createElement)("div",{className:"sensei-lms-question-block__answer--gap-fill__hint"},(0,r.__)("Add right answers. Separate with commas or the Enter key.","sensei-lms"))),(0,n.createElement)("li",null,(0,n.createElement)(o/* ["default"] */.Z,{className:"sensei-lms-question-block__answer--gap-fill__text",placeholder:(0,r.__)("Text after the gap","sensei-lms"),value:s,onChange:e=>i({after:e})})))};
/**
 * Read-only answer component gap fill question block.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes
 * @param {string}   props.attributes.before Text before the gap.
 * @param {string}   props.attributes.after  Text after the gap.
 * @param {string[]} props.attributes.gap    Right answers.
 */a.view=e=>{let{attributes:{before:t,after:s,gap:l}}=e;return(0,n.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--gap-fill"},(0,n.createElement)("li",null,t),(0,n.createElement)("li",{className:"sensei-lms-question-block__answer--gap-fill__right-answers sensei-lms-question-block__text-input-placeholder"},l.map((e=>(0,n.createElement)("span",{key:e,className:"sensei-lms-question-block__answer--gap-fill__token"},e)))),(0,n.createElement)("li",null,s))};
/* harmony default export */const i=a,c=(e,t)=>{delete e.value,e.value=t,e.dispatchEvent(new window.Event("change",{bubbles:!0}))};
/**
 * Update input value, making sure React event handlers are triggered.
 *
 * @param {HTMLInputElement} node       Input element.
 * @param {string}           inputValue New input value.
 */}
/***/,
/***/69395:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>g
/* harmony export */});
/* unused harmony export unfilteredQuestionTypes */
/* harmony import */var n=s(65736),l=s(92694),r=s(2434),o=s(72892),a=s(30958),i=s(66830),c=s(53949),u=s(21145),d=s(33216);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * @typedef QuestionType
 *
 * @property {string}   title       Question type name.
 * @property {string}   description Question type description.
 * @property {Function} edit        Editor component.
 * @property {boolean}  feedback    Question type can have answer feedback.
 * @property {Function} validate    Validation callback.
 * @property {Object}   messages    Message string.s
 */
/**
 * Question type definitions.
 *
 * @type {Object.<string, QuestionType>}
 */
const m={"multiple-choice":{title:(0,n.__)("Multiple Choice","sensei-lms"),description:(0,n.__)("Select from a list of options.","sensei-lms"),edit:i/* ["default"] */.Z,view:i/* ["default"].view */.Z.view,settings:[d/* .QuestionMultipleChoiceSettings */.F0],feedback:!0,validate:function(){let{answers:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{noAnswers:e.filter((e=>e.label)).length<2,noRightAnswer:!e.some((e=>e.correct&&e.label)),noRightAnswerWhitespace:!e.some((e=>e.correct&&e.label.trim())),noWrongAnswer:!e.some((e=>!e.correct&&e.label)),noWrongAnswerWhitespace:!e.some((e=>!e.correct&&e.label.trim()))}},messages:{noAnswers:(0,n.__)("Add at least one right and one wrong answer.","sensei-lms"),noRightAnswer:(0,n.__)("Add a right answer to this question.","sensei-lms"),noRightAnswerWhitespace:(0,n.__)("The value of the right answer can not be blank space.","sensei-lms"),noWrongAnswer:(0,n.__)("Add a wrong answer to this question. Value can not be blank space.","sensei-lms"),noWrongAnswerWhitespace:(0,n.__)("The value of the wrong answer can not be blank space.","sensei-lms")}},boolean:{title:(0,n.__)("True/False","sensei-lms"),description:(0,n.__)("Select whether a statement is true or false.","sensei-lms"),edit:u/* ["default"] */.Z,view:u/* ["default"].view */.Z.view,feedback:!0,settings:[]},"gap-fill":{title:(0,n.__)("Gap Fill","sensei-lms"),description:(0,n.__)("Fill in the blank.","sensei-lms"),edit:o/* ["default"] */.Z,view:o/* ["default"].view */.Z.view,feedback:!0,settings:[],validate:function(){let{before:e,after:t,gap:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{noGap:!(null!=s&&s.filter((e=>""!==e)).length),noGapWhitespace:!(null!=s&&s.filter((e=>""!==e.trim())).length),noBeforeAndNoAfter:!e&&!t,noBeforeAndNoAfterWhitespace:!(null!=e&&e.trim()||null!=t&&t.trim())}},messages:{noGap:(0,n.__)("Add a right answer to this question.","sensei-lms"),noGapWhitespace:(0,n.__)("The value of a right answer can not be blank space.","sensei-lms"),noBeforeAndNoAfter:(0,n.__)("Add text before or after the gap. Value can not be blank space.","sensei-lms"),noBeforeAndNoAfterWhitespace:(0,n.__)("Value of the text before or after the gap can not be blank space.","sensei-lms")}},"single-line":{title:(0,n.__)("Single Line","sensei-lms"),description:(0,n.__)("Short answer to an open-ended question.","sensei-lms"),edit:c/* ["default"] */.Z,view:c/* ["default"] */.Z,settings:[d/* .QuestionGradingNotesSettings */.Zw]},"multi-line":{title:(0,n.__)("Multi Line","sensei-lms"),description:(0,n.__)("Long answer to an open-ended question.","sensei-lms"),edit:a/* ["default"] */.Z,view:a/* ["default"] */.Z,settings:[d/* .QuestionGradingNotesSettings */.Zw]},"file-upload":{title:(0,n.__)("File Upload","sensei-lms"),description:(0,n.__)("Upload a file or document.","sensei-lms"),edit:r/* ["default"] */.Z,view:r/* ["default"] */.Z,settings:[d/* .QuestionGradingNotesSettings */.Zw]}},p={QuestionGradingNotesSettings:d/* .QuestionGradingNotesSettings */.Zw},g=(0,l.applyFilters)("sensei-lms.Question.questionTypes",m,p);
// Commonly used core settings for use in custom question types.
}
/***/,
/***/30958:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>l
/* harmony export */});
/* harmony import */var n=s(69307);
/* harmony import */
/**
 * Question block multi-line answer component.
 */
const l=()=>(0,n.createElement)("div",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--multi-line"},(0,n.createElement)("div",{className:"sensei-lms-question-block__text-input-placeholder multi-line"}));
/* harmony default export */}
/***/,
/***/43937:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(55609),o=s(65736),a=s(3295),i=s(56480);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Answer option in a multiple choice type question block.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes         Answer attributes.
 * @param {string}   props.attributes.label   Answer title.
 * @param {boolean}  props.attributes.correct Is this a right answer.
 * @param {Function} props.setAttributes      Update answer attributes.
 * @param {Function} props.onEnter            Add a new answer after this.
 * @param {Function} props.onRemove           Remove this answer.
 * @param {boolean}  props.hasFocus           Should this answer receive focus.
 * @param {boolean}  props.hasSelected        Is the question block selected.
 * @param {boolean}  props.isCheckbox         Should display as a checkbox
 */
const c=e=>{const{attributes:{label:t,correct:s},setAttributes:c,hasFocus:u,hasSelected:d,isCheckbox:m,...p}=e,g=(0,l.useRef)(null);(0,l.useEffect)((()=>{if(u){var e;const t=(null===(e=g.current)||void 0===e?void 0:e.textarea)||g.current;null==t||t.focus()}}),[u,g]);return(0,l.createElement)("div",{className:"sensei-lms-question-block__multiple-choice-answer-option"},(0,l.createElement)(i/* .OptionToggle */.n,{isChecked:s,isCheckbox:m}),(0,l.createElement)(a/* ["default"] */.Z,(0,n/* ["default"] */.Z)({ref:g,placeholder:(0,o.__)("Add Answer","sensei-lms"),className:"sensei-lms-question-block__multiple-choice-answer-option__input",onChange:e=>c({label:e}),value:t},p)),d&&(0,l.createElement)("div",{className:"sensei-lms-question-block__answer--multiple-choice__toggle__wrapper"},(0,l.createElement)(r.Button,{isPrimary:!0,className:"sensei-lms-question-block__answer--multiple-choice__toggle",onClick:()=>c({correct:!s})},s&&(0,o.__)("Right","sensei-lms"),!s&&(0,o.__)("Wrong","sensei-lms"))))};
/* harmony default export */}
/***/,
/***/66830:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(90005),r=s.n(l),o=s(43937),a=s(56480);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Default answer options for new blocks.
 */
const i=[{label:"",correct:!0},{label:"",correct:!1}],c=e=>e.filter((e=>e.correct)).length>1
/**
 * Answer component for question blocks with multiple choice type.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes
 * @param {Function} props.setAttributes
 * @param {Array}    props.attributes.answers Answers.
 */,u=e=>{var t;const{setAttributes:s,hasSelected:l}=e;let{attributes:{answers:r=[]}}=e;0===r.length&&(r=i);const a=c(r),d=!(null!==(t=r[r.length-1])&&void 0!==t&&t.label),m=[...r];l&&!d&&m.push({label:"",correct:!1})
/**
   * Add a new answer option.
   *
   * @param {number} index Answer position
   */;const[p,g]=(0,n.useState)(null);
/**
   * Remove an answer option.
   *
   * @param {number} index Answer position
   */return(0,n.createElement)(u.Options,{answers:m},((e,t)=>(0,n.createElement)(o/* ["default"] */.Z,{hasFocus:t===p,isCheckbox:a,attributes:e,setAttributes:e=>((e,t)=>{{const n=[...r];n[e]={...n[e],...t},s({answers:n})}})(t,e),onEnter:()=>(e=>{const t=[...r];t.splice(e+1,0,{label:"",correct:!1}),s({answers:t}),g(e+1)})(t),onRemove:()=>(e=>{
// Do not allow the user to remove all the answers.
if(1===r.length)return;g(e-1);const t=[...r];t.splice(e,1),s({answers:t})})(t),hasSelected:l})))};
/**
 * Check if there are more than one right answers.
 *
 * @param {Array} answers
 */
/**
 * Render a list of answer options.
 *
 * @param {Object}   props
 * @param {Array}    props.answers  Answer list.
 * @param {Function} props.children Answer render function
 */
u.Options=e=>{let{answers:t,children:s}=e;return(0,n.createElement)("ol",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--multiple-choice"},t.map(((e,t)=>(0,n.createElement)("li",{key:t,className:r()("sensei-lms-question-block__answer--multiple-choice__option",{"is-draft":!e.label})},s(e,t)))))},
/**
 * Read-only multiple choice answer component.
 *
 * @param {Object} props
 * @param {Object} props.attributes
 * @param {Array}  props.attributes.answers Answers.
 */
u.view=e=>{let{attributes:{answers:t=[]}}=e;const s=c(t);return(0,n.createElement)(u.Options,{answers:t},(e=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a/* .OptionToggle */.n,{isChecked:e.correct,isCheckbox:s}),e.label)))};
/* harmony default export */const d=u;
/***/},
/***/56480:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */n:()=>/* binding */i
/* harmony export */});
/* unused harmony export InputToggle */
/* harmony import */var n=s(25773),l=s(69307),r=s(90005),o=s.n(r),a=s(80454);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Toggle component using divs.
 *
 * @param {Object}  props            Component props.
 * @param {string}  props.className  Class name for the wrapper.
 * @param {boolean} props.isChecked  Whether it's checked.
 * @param {boolean} props.isCheckbox Whether it's a checkbox.
 * @param {Object}  props.input      Input component.
 * @param {Object}  props.children   Component children.
 */
const i=e=>{let{className:t,isChecked:s,isCheckbox:r,input:i,children:c,...u}=e;return(0,l.createElement)("div",(0,n/* ["default"] */.Z)({className:o()("sensei-lms-question-block__option-toggle",t)},u),i,(0,l.createElement)("div",{className:o()("sensei-lms-question-block__option-toggle__control",{"is-checked":s,"is-checkbox":r})},r&&a/* ["default"] */.Z),c)};
/**
 * Toggle component using input.
 *
 * @param {Object} props      Component props.
 * @param {string} props.type Input toggle type (`checkbox` or `radio`).
 */}
/***/,
/***/53949:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(69307),l=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Question block single-line answer component.
 *
 * @param {Object} props
 * @param {Object} props.children
 */
const r=e=>{let{children:t}=e;return(0,n.createElement)("div",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--single-line"},(0,n.createElement)("small",{className:"sensei-lms-question-block__input-label"},(0,l.__)("Answer:","sensei-lms")),(0,n.createElement)("div",{className:"sensei-lms-question-block__text-input-placeholder"},t))};
/* harmony default export */}
/***/,
/***/21145:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736),o=s(56480);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Answer component for question blocks with true/false type.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes
 * @param {boolean}  props.attributes.correct The correct answer.
 * @param {Function} props.setAttributes
 * @param {boolean}  props.hasSelected        Is question block selected.
 */
const a=e=>{let{attributes:{correct:t=!0},setAttributes:s,hasSelected:a}=e;const i=[{label:(0,r.__)("True","sensei-lms"),value:!0},{label:(0,r.__)("False","sensei-lms"),value:!1}];return(0,n.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--true-false"},i.map((e=>{let{label:i,value:c}=e;return(0,n.createElement)("li",{key:c,className:"sensei-lms-question-block__answer--true-false__option"},(0,n.createElement)(o/* .OptionToggle */.n,{isChecked:t===c},(0,n.createElement)("span",null,i)),a&&(0,n.createElement)("div",{className:"sensei-lms-question-block__answer--multiple-choice__toggle__wrapper"},(0,n.createElement)(l.Button,{isPrimary:!0,className:"sensei-lms-question-block__answer--true-false__toggle",onClick:()=>s({correct:c===t?!c:c})},t===c&&(0,r.__)("Right","sensei-lms"),t!==c&&(0,r.__)("Wrong","sensei-lms"))))})))};
/**
 * Read-only answer component true/false question block.
 *
 * @param {Object}  props
 * @param {Object}  props.attributes
 * @param {boolean} props.attributes.correct The correct answer.
 */a.view=e=>{let{attributes:{correct:t=!0}}=e;const s=[{label:(0,r.__)("True","sensei-lms"),value:!0},{label:(0,r.__)("False","sensei-lms"),value:!1}];return(0,n.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--true-false"},s.map((e=>{let{label:s,value:l}=e;return(0,n.createElement)("li",{key:l,className:"sensei-lms-question-block__answer--true-false__option"},(0,n.createElement)(o/* .OptionToggle */.n,{isChecked:t===l},(0,n.createElement)("span",null,s)))})))};
/* harmony default export */const i=a;
/***/},
/***/35385:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */F:()=>/* binding */d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(36414),r=s(12585),o=s(19316),a=s(65736),i=s(90005),c=s.n(i),u=s(32505);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Toggle control for showing answer feedback blocks.
 */
const d=()=>{const{answerFeedback:{showAnswerFeedback:e,toggleAnswerFeedback:t},options:{hideAnswerFeedback:s}}=(0,n.useContext)(u/* .QuestionContext */.G);return s?"":(0,n.createElement)("div",{className:c()("sensei-lms-question-block__answer-feedback-toggle",{"is-visible":e})},(0,n.createElement)("button",{className:"sensei-lms-question-block__answer-feedback-toggle__header",onClick:()=>t(!e)},(0,a.__)("Answer Feedback","sensei-lms"),(0,n.createElement)(l/* ["default"] */.Z,{className:"sensei-lms-question-block__answer-feedback-toggle__icon",icon:e?r/* ["default"] */.Z:o/* ["default"] */.Z})),(0,n.createElement)("div",{className:"sensei-lms-question-block__answer-feedback-toggle__help"},(0,a.__)("Show feedback once the question is answered.","sensei-lms")))};
/***/},
/***/42978:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(65736),o=s(90005),a=s.n(o),i=s(32505);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Internal dependencies
 */
const c={correct:{title:(0,r.__)("Correct","sensei-lms"),placeholder:(0,r.__)("Show a message when the question is answered correctly. Type / to choose a block.","sensei-lms")},incorrect:{title:(0,r.__)("Incorrect","sensei-lms"),placeholder:(0,r.__)("Show a message when the question is answered incorrectly. Type / to choose a block.","sensei-lms")}},u=e=>{let{type:t}=e;const{title:s,placeholder:r}=c[t],o=(0,n.useContext)(i/* .QuestionContext */.G),{hideAnswerFeedback:u}=o.options;return u?"":(0,n.createElement)("div",{className:a()("sensei-lms-question__answer-feedback",`sensei-lms-question__answer-feedback--${t}`)},(0,n.createElement)("div",{className:"sensei-lms-question__answer-feedback__header"},(0,n.createElement)("span",{className:"sensei-lms-question__answer-feedback__icon"}),(0,n.createElement)("span",null,s)),(0,n.createElement)("div",{className:"sensei-lms-question__answer-feedback__content"},(0,n.createElement)(l.InnerBlocks,{template:[["core/paragraph",{placeholder:r}]],templateInsertUpdatesSelection:!1,templateLock:!1})))};
/**
 * Answer Feedback control.
 *
 * @param {Object} props
 * @param {string} props.type correct or incorrect
 */}
/***/,
/***/1647:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */p:()=>/* binding */c
/* harmony export */,h:()=>/* binding */u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(65736),o=s(42978),a=s(45889);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const i={parent:["sensei-lms/quiz-question"],category:"sensei-lms",supports:{html:!1},attributes:{id:{type:"integer"}}},c={...i,name:"sensei-lms/quiz-question-feedback-correct",title:(0,r.__)("Correct Answer Feedback","sensei-lms"),icon:a/* ["default"] */.Z,description:(0,r.__)("Display correct answer feedback.","sensei-lms"),edit:e=>(0,o/* ["default"] */.Z)({...e,type:"correct"}),save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)},u={...i,name:"sensei-lms/quiz-question-feedback-incorrect",title:(0,r.__)("Incorrect Answer Feedback","sensei-lms"),icon:a/* ["default"] */.Z,description:(0,r.__)("Display incorrect answer feedback.","sensei-lms"),edit:e=>(0,o/* ["default"] */.Z)({...e,type:"incorrect"}),save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)};
/**
 * Correct Answer Feedback block definition.
 */}
/***/,
/***/26943:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>g
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(65736),o=s(94333),a=s(25137),i=s(9608),c=s(88308),u=s(80688),d=s(90677),m=s(30598),p=s(31835);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Quiz category question block editor.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes              Block attributes.
 * @param {Object}   props.attributes.categoryName Category name.
 * @param {Function} props.setAttributes           Set block attributes.
 */
const g=(0,o.compose)(u/* .withBlockMeta */.vf,(0,d/* .withBlockValidation */.z)(m/* .validateCategoryQuestionBlock */.g))((e=>{var t,s;const{attributes:{options:{number:o=1,category:u}},clientId:d,setAttributes:g}=e,_=(0,a/* .useQuestionNumber */.Q)(d),[,h]=(0,i/* .useQuestionCategories */.J)(),v=o&&1!==o?`${_} - ${_+o-1}`:_,b=(0,l.createElement)("h2",{className:"sensei-lms-question-block__index"},v,"."),E=null!==(t=null===(s=h(u))||void 0===s?void 0:s.name)&&void 0!==t?t:e.attributes.categoryName,k=E===e.attributes.categoryName;return(0,l.useEffect)((()=>{E&&!k&&g({categoryName:E})}),[E,k,g]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(c/* ["default"] */.Z,e),(0,l.createElement)("div",{className:"sensei-lms-question-block sensei-lms-category-question-block "+(u?"":"is-draft")},b,(0,l.createElement)("h2",{className:"sensei-lms-question-block__title"},E?(0,l.createElement)("strong",null,E):(0,r.__)("Category Question","sensei-lms"),E&&o>0&&" ("+(0,r.sprintf)(
// translators: placeholder is number of questions to show from category.
(0,r._n)("%d question","%d questions",o,"sensei-lms"),o)+")")),(0,l.createElement)(p/* .QuestionValidationNotice */.me,(0,n/* ["default"] */.Z)({},e,{getErrorMessages:m/* .getCategoryQuestionBlockValidationErrorMessages */.h})))}));
/* harmony default export */}
/***/,
/***/88308:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(55609),o=s(65736),a=s(86989),i=s.n(a),c=s(80768),u=s(9608);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Calculate the number of questions that are available in a category.
 *
 * @param {number}   categoryId The category id.
 * @param {Function} onError    Called when an error happens.
 *
 * @return {number|boolean} The number of questions in a category or false if unknown.
 */
const d=e=>{var t,s;let{attributes:{options:a={}},setAttributes:d}=e;const m=function(e){return d({...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options:{...a,...e}})},[p,g]=(0,u/* .useQuestionCategories */.J)(),[_,h]=(0,n.useState)(null),v=((e,t)=>{const[s,l]=(0,n.useState)({});return(0,n.useEffect)((()=>{e&&!s.hasOwnProperty(e)&&i()({path:`/wp/v2/questions?question-category=${e}`,method:"GET",parse:!1}).then((t=>{s[e]=+t.headers.get("X-WP-Total"),l({...s})})).catch((e=>{e.json().then((e=>t(e.message)))}))}),[e,s,t]),!!s.hasOwnProperty(e)&&s[e]})(a.category,h),b=[{value:"",label:""},...(p||[]).map((e=>({value:e.id,label:e.name})))];return(0,n.createElement)(l.InspectorControls,null,(0,n.createElement)(r.PanelBody,{title:(0,o.__)("Category Question Settings","sensei-lms"),initialOpen:!0},!b.length&&(0,n.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,o.__)("No question categories exist.","sensei-lms")),b.length>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.SelectControl,{label:(0,o.__)("Category","sensei-lms"),options:b,value:null!==(t=a.category)&&void 0!==t?t:"",onChange:e=>{var t;const s=g(+e);m({category:null!==(t=+e)&&void 0!==t?t:null},{categoryName:null==s?void 0:s.name}),h(null)}}),(0,n.createElement)(c/* ["default"] */.Z,{label:(0,o.__)("Number of Questions","sensei-lms"),min:1,step:1,value:null!==(s=a.number)&&void 0!==s?s:1,onChange:e=>e&&m({number:e||1})}),null!==_&&(0,n.createElement)(r.Notice,{status:"error",isDismissible:!1},(0,o.sprintf)(
// translators: The underlying error message.
(0,o.__)("An error occurred while retrieving questions: %s","sensei-lms"),_)),!1!==v&&null===_&&a.number>v&&(0,n.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,o.sprintf)(
// translators: Placeholder is number of questions in category.
(0,o._n)("The selected category has %d question.","The selected category has %d questions.",v,"sensei-lms"),v)))))};
/**
 * Category question block settings controls.
 *
 * @param {Object}   props                    Block props.
 * @param {Object}   props.attributes         Block attributes.
 * @param {Object}   props.attributes.options Block options attribute.
 * @param {Function} props.setAttributes      Update block attributes.
 */}
/***/,
/***/30598:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */g:()=>/* binding */l
/* harmony export */,h:()=>/* binding */r
/* harmony export */});
/* harmony import */var n=s(55220);
/**
 * Internal dependencies
 */
/**
 * Validate category question block.
 *
 * @param {Object} attributes Block attributes.
 * @return {Array} Validation errors.
 */const l=e=>{const{options:t}=e;return{noCategory:!((null==t?void 0:t.category)>0)}},r=e=>e.map((e=>n/* ["default"].messages */.Z.messages[e]))
/***/;
/**
 * Get messages for the validation errors.
 *
 * @param {string} errors Error codes.
 * @return {string} Error message.
 */},
/***/55220:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(65736),o=s(26943),a=s(38842),i=s(45889);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Quiz category question block definition.
 */
/* harmony default export */const c={...a,metadata:a,icon:i/* ["default"] */.Z,usesContext:["sensei-lms/quizId"],example:{attributes:{categoryName:(0,r.__)("Example Category","sensei-lms")}},edit:o/* ["default"] */.Z,save:()=>(0,n.createElement)(l.InnerBlocks.Content,null),messages:{noCategory:(0,r.__)("Assign a category to this question.","sensei-lms")}};
/***/},
/***/17843:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */TO:()=>/* binding */i
/* harmony export */,gS:()=>/* binding */c
/* harmony export */,yR:()=>/* binding */u
/* harmony export */,uw:()=>/* binding */d
/* harmony export */,mY:()=>/* binding */m
/* harmony export */,tv:()=>/* binding */p
/* harmony export */});
/* harmony import */var n=s(4981),l=s(9818),r=s(98399),o=s(55220),a=s(92819);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * External dependencies
 */
/**
 * Quiz settings and questions data.
 *
 * @typedef {Object} QuizStructure
 * @property {Object}         settings  Quiz settings.
 * @property {QuizQuestion[]} questions Questions.
 */
/**
 * Quiz question data.
 *
 * @typedef {Object} QuizQuestion
 * @property {number} id          Question ID.
 * @property {string} type        Question type
 * @property {string} title       Question title
 * @property {string} description Question description blocks
 * @property {Object} answers     Question answer settings
 * @property {Object} options     Question options.
 */
/**
 * Quiz category question data.
 *
 * @typedef {Object} QuizCategoryQuestion
 * @property {number} id               Question ID.
 * @property {string} type             Question type
 * @property {Object} options          Question settings
 * @property {number} options.category Category for question.
 * @property {number} options.number   Number of questions to show from category.
 */
/**
 * Create blocks based on the structure, keeping existing block attributes.
 *
 * Matches blocks based on question ID.
 *
 * @param {QuizQuestion[]} structure Quiz questions.
 * @param {Object[]}       blocks    Existing blocks.
 * @return {Object[]} Updated blocks.
 */
function i(e,t){return e&&0!==e.length?(e||[]).map((e=>{const{description:s,...r}=e;let o=t?d(t,e):null;if(o){o.attributes={...o.attributes,...r};const e=s&&(0,n.rawHandler)({HTML:s})||[];(0,l.dispatch)("core/block-editor").replaceInnerBlocks(o.clientId,e)}else o=u(e);return o})):[(0,n.createBlock)("sensei-lms/quiz-question",{})]}
/**
 * Manually run our deprecated migrations for the question block.
 *
 * @param {Object} attributes  Block attributes.
 * @param {Array}  innerBlocks Inner blocks.
 * @return {Array} Tuple of attributes and innerBlocks
 */
/**
 * Convert blocks to question structure.
 *
 * @param {Object[]} blocks Blocks.
 *
 * @return {QuizQuestion[]} Question structure
 */
function c(e){const t=null==e?void 0:e.map((e=>{const t=(0,a.omit)(e.attributes,["className"]);return"category-question"===e.attributes.type?t:{...t,description:(0,n.getBlockContent)(e)}}));if(0===t.length)return t;const s=t.pop();return p(s)||t.push(s),t}
/**
 * Create a new question block.
 *
 * @param {Object} question Question item.
 *
 * @return {QuizQuestion} Block.
 */function u(e){if("category-question"===e.type)return(0,n.createBlock)(o/* ["default"].name */.Z.name,e,[]);const[t,s]=function(e,t){return r/* ["default"].deprecated.forEach */.Z.deprecated.forEach((s=>{
// Check our flag for deprecations that should run here.
s.onProgrammaticCreation&&s.isEligible(e,t)&&([e,t]=s.migrate(e,t))})),[e,t]}(e,e.description&&(0,n.rawHandler)({HTML:e.description})||[]);return(0,n.createBlock)(r/* ["default"].name */.Z.name,t,s)}
/**
 * Find a question block based on question ID, or title if ID is missing.
 *
 * @param {Array}                             blocks
 * @param {QuizQuestion|QuizCategoryQuestion} item
 */const d=(e,t)=>{let{id:s,title:n,options:l}=t;const r=null==l?void 0:l.category;return e.find((e=>{var t,l;let{attributes:o}=e;return s===o.id||!o.id&&o.title&&o.title===n||!o.id&&(null===(t=o.options)||void 0===t?void 0:t.category)&&(null===(l=o.options)||void 0===l?void 0:l.category)===r}))},m=(e,t)=>{const s=(0,a.mapKeys)(e,((e,s)=>t(s)));return(0,a.mapValues)(s,(e=>(0,a.isObject)(e)?m(e,t):e))},p=e=>"category-question"===e.type?!e.options.category:!e.title;
/**
 * Normalize an object by applying a mapping function to it's keys, including nested ones.
 *
 * @param {Object}   options     Options object to normalize.
 * @param {Function} mapFunction Function to apply.
 */}
/***/,
/***/55354:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(54194),o=s(95073),a=s(45889);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question answers block.
 */
/* harmony default export */const i={...o,metadata:o,icon:a/* ["default"] */.Z,edit:r/* ["default"] */.Z,save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)};
/***/},
/***/54194:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(69307),l=s(35385),r=s(32505),o=s(52175);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question Description control.
 *
 */
const a=()=>{const{answer:e,setAttributes:t,AnswerBlock:s,hasSelected:a,canHaveFeedback:i}=(0,n.useContext)(r/* .QuestionContext */.G),c=(0,o.useBlockProps)({className:"sensei-lms-question-answers-block"});return(0,n.createElement)("div",c,(null==s?void 0:s.edit)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.edit,{attributes:e,setAttributes:s=>t({answer:{...e,...s}}),hasSelected:a}),i&&a&&(0,n.createElement)(l/* .AnswerFeedbackToggle */.F,null)))};
/* harmony default export */}
/***/,
/***/98399:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(65736),o=s(44702),a=s(19954),i=s(37629),c=s(45889);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Quiz question block definition.
 */
/* harmony default export */const u={...i,metadata:i,icon:c/* ["default"] */.Z,usesContext:["sensei-lms/quizId"],deprecated:a/* ["default"] */.Z,edit:o/* ["default"] */.Z,save:()=>(0,n.createElement)(l.InnerBlocks.Content,null),messages:{noTitle:(0,r.__)("Add a title to this question.","sensei-lms")}};
/***/},
/***/31835:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Ud:()=>/* binding */c
/* harmony export */,me:()=>/* binding */u
/* harmony export */});
/* unused harmony export BlockValidationNotice */
/* harmony import */var n=s(69307),l=s(55609),r=s(65736),o=s(36414),a=s(93851),i=s(98965);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Display a notice about the question being shared across quizzes.
 */
const c=()=>(0,n.createElement)("div",{className:"sensei-lms-question-block__notice"},(0,n.createElement)(o/* ["default"] */.Z,{icon:a/* ["default"] */.Z}),(0,n.createElement)(l.Tooltip,{text:(0,r.__)("Any updates made to this question will also update it in any other quiz that includes it.","sensei-lms")},(0,n.createElement)("span",null,(0,r.__)("Shared Question","sensei-lms"))))
/**
 * Display validation notice for the question block if there are errors.
 *
 * @param {Object}   props
 * @param {Object}   props.meta
 * @param {Object}   props.attributes
 * @param {string}   props.attributes.type           Question type.
 * @param {Array}    props.meta.validationErrors     Validation errors  codes
 * @param {boolean}  props.meta.showValidationErrors Display validation errors.
 * @param {Function} props.getErrorMessages          Get validation error messages.
 */,u=e=>{let{attributes:{type:t},meta:{validationErrors:s,showValidationErrors:l},getErrorMessages:r}=e;if(!l||null==s||!s.length)return null;const o=r(s,t);return(0,n.createElement)(d,{errors:o})},d=e=>{let{errors:t=[]}=e;if(!t||!t.length)return null;const s=t[0];return(0,n.createElement)(l.Notice,{isDismissible:!1,status:"warning",className:"sensei-lms-block-validation-notice"},(0,n.createElement)(i/* ["default"] */.Z,{className:"sensei-lms-block-validation-notice__icon"}),s)}}
/***/,
/***/32505:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */G:()=>/* binding */l
/* harmony export */});
/* harmony import */var n=s(69307);
/* harmony import */
/**
 * WordPress dependencies
 */
const l=(0,n.createContext)({});
/***/},
/***/19954:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(4981),o=s(92819),a=s(1647),i=s(32365),c=s(55354),u=s(37629);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Helper method to get a related block for each type of media.
 *
 * @param {Object}   media       Question media.
 * @param {number}   media.id    Media attachment id.
 * @param {string}   media.url   Media attachment url.
 * @param {string}   media.type  Media attachment type.
 * @param {Function} media.title Media attachment title.
 */
const d=[{onProgrammaticCreation:!0,isEligible(e,t){var s;let n=!0;return null!==(s=e.options)&&void 0!==s&&s.answerFeedback&&(n=!0),t.map((e=>([i/* ["default"].name */.Z.name,a/* .answerFeedbackCorrectBlock.name */.p.name,a/* .answerFeedbackIncorrectBlock.name */.h.name].includes(e.name)&&(n=!1),!0))),n},attributes:{...u.attributes},migrate(e,t){var s;const n=[];
// Shift the description into the new question description block container.
return n.push((0,r.createBlock)(i/* ["default"].name */.Z.name,{},t),(0,r.createBlock)(c/* ["default"].name */.Z.name,{})),
// Replace the answerFeedback attribute with dedicated blocks.
null!==(s=e.options)&&void 0!==s&&s.answerFeedback&&(n.push((0,r.createBlock)(a/* .answerFeedbackCorrectBlock.name */.p.name,{},[(0,r.createBlock)("core/paragraph",{content:e.options.answerFeedback})])),n.push((0,r.createBlock)(a/* .answerFeedbackIncorrectBlock.name */.h.name,{},[(0,r.createBlock)("core/paragraph",{content:e.options.answerFeedback})]))),[{...e,options:(0,o.omit)(e.options,"answerFeedback")},n]},save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)},{onProgrammaticCreation:!0,isEligible(e){var t;return e.media||"file-upload"===e.type&&!(null===(t=e.options)||void 0===t||!t.studentHelp)},attributes:{...u.attributes,media:{type:"object"}},migrate(e,t){var s;const l=[...t];
// Add the media to the description (if it exists).
return e.media&&l.push((e=>{switch(e.type){case"image":return(0,r.createBlock)("core/image",{id:e.id,url:e.url});case"audio":return(0,r.createBlock)("core/audio",{id:e.id,src:e.url});case"video":return(0,r.createBlock)("core/video",{id:e.id,src:e.url});default:const t=(0,n.createElement)("a",{href:e.url},e.title);return(0,r.createBlock)("core/paragraph",{content:(0,n.renderToString)(t)})}})(e.media)),
// Add the student help text to the description (if it exists).
"file-upload"===e.type&&null!==(s=e.options)&&void 0!==s&&s.studentHelp&&l.push((0,r.createBlock)("core/paragraph",{content:e.options.studentHelp})),[{...(0,o.omit)(e,"media"),options:(0,o.omit)(e.options,"studentHelp")},l]},save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)}];
/* harmony default export */}
/***/,
/***/44702:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>x
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(52175),o=s(9818),a=s(94333),i=s(65736),c=s(92694),u=s(90677),d=s(1647),m=s(32365),p=s(55354),g=s(25137),_=s(3295),h=s(80688),v=s(61831),b=s(69395),E=s(31835),k=s(32505),w=s(61209),f=s(2889),y=s(88166),q=s(28900),C=s(81622),S=s(24558),Z=s(90005),B=s.n(Z);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * External dependencies
 */
let N=Object.entries(b/* ["default"] */.Z).map((e=>{let[t,s]=e;return{...s,label:s.title,value:t}}));
/**
 * Filters the available question type options.
 *
 * @since 4.1.0
 *
 * @param {Array} options The available question type options.
 * @return {Array} The filtered question type options.
 */N=(0,c.applyFilters)("senseiQuestionTypeToolbarOptions",N);
/**
 * Format the question grade as `X points`.
 *
 * @param {number} grade Question grade.
 * @return {string} Grade text.
 */
const x=(0,a.compose)(h/* .withBlockMeta */.vf,(0,u/* .withBlockValidation */.z)(f/* .validateQuestionBlock */.O))((e=>{var t;const{attributes:{title:s,type:a,answer:c={},options:u,shared:h,editable:Z=!0},setAttributes:x,clientId:A,context:P}=e,{removeBlock:T,selectBlock:z}=(0,o.useDispatch)("core/block-editor"),I=(0,l.useCallback)((()=>{const e=(0,o.select)("core/block-editor").getBlocks(A);e.length&&z(e[0].clientId)}),[A,z]),R=(0,g/* .useQuestionNumber */.Q)(A),F=a&&b/* ["default"] */.Z[a],O=null==F?void 0:F.feedback,M=(0,v/* .useHasSelected */.g9)(e),Q=P&&!("sensei-lms/quizId"in P),V=s||M||Q,U=!Q&&(0,l.createElement)("h2",{className:"sensei-lms-question-block__index"},R,"."),D=e.meta.showValidationErrors&&(null===(t=e.meta.validationErrors)||void 0===t?void 0:t.length),H=(0,l.createElement)("div",{className:"sensei-lms-question-block__grade grade"},(G=u.grade,
// Translators: placeholder is the grade for the questions.
(0,i.sprintf)((0,i._n)("%d point","%d points",G,"sensei-lms"),G)));var G;
/**
 * Quiz question block editor.
 *
 * @param {Object}   props
 * @param {Object}   props.attributes       Block attributes.
 * @param {Object}   props.attributes.title Question title.
 * @param {Function} props.setAttributes    Set block attributes.
 * @param {Object}   props.meta             Block metadata.
 */const[L,j]=(0,l.useState)(!1),W=(0,l.useMemo)((()=>({answer:c,setAttributes:x,AnswerBlock:F,hasSelected:M,canHaveFeedback:O,answerFeedback:{showAnswerFeedback:L,toggleAnswerFeedback:j},options:u})),[F,c,M,x,L,O,u]),$=(0,l.useMemo)((()=>[[m/* ["default"].name */.Z.name,{}],[p/* ["default"].name */.Z.name,{}],...O?[[d/* .answerFeedbackCorrectBlock.name */.p.name,{}],[d/* .answerFeedbackIncorrectBlock.name */.h.name,{}]]:[]]),[O]),K=(0,r.useBlockProps)({className:B()("sensei-lms-question-block",{"is-draft":!s,"is-invalid":D,"show-answer-feedback":L})});return Z?(0,l.createElement)("div",K,(0,l.createElement)("div",{className:"sensei-lms-question-block__header"},U,Q&&(0,l.createElement)(S/* ["default"] */.Z,e),(0,l.createElement)("h2",{className:"sensei-lms-question-block__title"},(0,l.createElement)(_/* ["default"] */.Z,{placeholder:(0,i.__)("Question Title","sensei-lms"),value:s,onChange:e=>x({title:e}),onEnter:I,onRemove:()=>T(A)})),F.subtitle&&(0,l.createElement)(F.subtitle,{isQuestionSelected:M}),V&&H),M&&h&&(0,l.createElement)(E/* .SharedQuestionNotice */.Ud,null),V&&(0,l.createElement)(k/* .QuestionContext.Provider */.G.Provider,{value:W},(0,l.createElement)(r.InnerBlocks,{template:$,templateInsertUpdatesSelection:!1,templateLock:"all",renderAppender:null})),(0,l.createElement)(E/* .QuestionValidationNotice */.me,(0,n/* ["default"] */.Z)({},e,{getErrorMessages:f/* .getQuestionBlockValidationErrorMessages */.b})),(0,l.createElement)(r.BlockControls,null,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(C/* .QuestionTypeToolbar */.C,{value:a,onSelect:e=>x({type:e}),options:N}),(0,l.createElement)(w/* .QuestionGradeToolbar */.G,{value:u.grade,onChange:e=>x({options:{...u,grade:e}})}))),(0,l.createElement)(q/* ["default"] */.Z,(0,n/* ["default"] */.Z)({controls:null==F?void 0:F.settings},e))):(0,l.createElement)(y/* ["default"] */.Z,(0,n/* ["default"] */.Z)({},e,{questionGrade:H,questionIndex:U,AnswerBlock:F}))}))}
/***/,
/***/94366:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */y:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(65736),o=s(70942),a=s(80768);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question Grade control. Number spinner with points suffix.
 *
 * @param {Object} props NumberControl props.
 */
const i=e=>{const t=(0,l.useMemo)((()=>(0,o/* ["default"] */.Z)()),[]);return(0,l.createElement)(a/* ["default"] */.Z,(0,n/* ["default"] */.Z)({id:t,min:0,step:1},e,{suffix:(0,r._n)("Point","Points",e.value,"sensei-lms")}))};
/***/},
/***/61209:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */G:()=>/* binding */o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(94366);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question grade toolbar control.
 *
 * @param {Object}   props
 * @param {number}   props.value    Grade value.
 * @param {Function} props.onChange Grade setter.
 */
const o=e=>{let{value:t,onChange:s}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.ToolbarGroup,{className:"sensei-lms-question-block__grade-toolbar"},(0,n.createElement)(r/* .QuestionGradeControl */.y,{value:t,onChange:s})))};
/***/},
/***/28900:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(52175),o=s(55609),a=s(65736),i=s(33216);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question block settings controls.
 *
 * @param {Object}     props                    Block props.
 * @param {Function[]} props.controls           Additional setting controls.
 * @param {Object}     props.attributes         Block attributes.
 * @param {Object}     props.attributes.options Block options attribute.
 * @param {Function}   props.setAttributes      Update block attributes.
 */
const c=e=>{let{controls:t=[],attributes:{options:s={}},setAttributes:c,...u}=e;const d=e=>c({options:{...s,...e}});return(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(o.PanelBody,{title:(0,a.__)("Question settings","sensei-lms"),initialOpen:!0},[i/* .QuestionGradeSettings */.rd,...t].map((e=>(0,l.createElement)(e,(0,n/* ["default"] */.Z)({key:e},u,{options:s,setOptions:d})))),(0,l.createElement)(o.ToggleControl,{label:(0,a.__)("Hide Answer Feedback","sensei-lms"),checked:"yes"===s.hideAnswerFeedback,onChange:e=>d({hideAnswerFeedback:e?"yes":""}),help:(0,a.__)("Do not show any feedback when the student answers this question.","sensei-lms")})))};
/* harmony default export */}
/***/,
/***/81622:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */C:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(92694),o=s(65736),a=s(81042);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question type selector toolbar control.
 *
 * @param {Object}   props
 * @param {string}   props.value    Selected type.
 * @param {Function} props.onSelect Selection callback.
 * @param {Array}    props.options  Question options.
 */
const i=e=>{let{value:t,onSelect:s,options:i}=e;return(0,n.createElement)(l.Toolbar,{className:"sensei-lms-question-block__type-selector__toolbar"},(0,n.createElement)(a/* ["default"] */.Z,{className:"sensei-lms-question-block__type-selector",label:(0,o.__)("Question Type","sensei-lms"),options:i,value:t,onChange:e=>s(e),optionsLabel:(0,o.__)("Question Type","sensei-lms"),popoverProps:{className:"sensei-lms-question-block__type-selector__popover"},toggleProps:{children:e=>(0,n.createElement)("b",null,null==e?void 0:e.title)},getMenuItemProps:e=>{let t=(0,n.createElement)("div",null,(0,n.createElement)("strong",null," ",e.title),(0,n.createElement)("div",{className:"sensei-lms-question-block__type-selector__option__description"},e.description));
/**
       * Filters the children of the menu item.
       *
       * @since 4.1.0
       *
       * @param {JSX.Element} children Menu element children.
       * @param {Object}      option   The question type option.
       * @return {JSX.Element} Retuns the filtered children for the menu item.
       */t=(0,r.applyFilters)("senseiQuestionTypeToolbarOptionChildren",t,e);const s={};return s.children=t,e.disabled&&(s.onClick=()=>{}),s}}))};
/***/},
/***/2889:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */O:()=>/* binding */r
/* harmony export */,b:()=>/* binding */o
/* harmony export */});
/* harmony import */var n=s(98399),l=s(69395);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Validate question block
 *
 * @param {Object} attributes Block attributes.
 * @return {Array} Validation errors.
 */
const r=e=>{var t;const{id:s,type:n,title:r,answer:o}=e,a=n&&l/* ["default"] */.Z[n],i=(null===(t=a.validate)||void 0===t?void 0:t.call(a,o))||{},c=null==r?void 0:r.length;return!c&&!o&&!s?{}:{noTitle:!c,...i}},o=(e,t)=>e.map((e=>{var s,r;return(null===l/* ["default"] */.Z||void 0===l/* ["default"] */.Z||null===(s=l/* ["default"] */.Z[t])||void 0===s||null===(r=s.messages)||void 0===r?void 0:r[e])||n/* ["default"].messages */.Z.messages[e]}))
/***/;
/**
 * Get messages for the validation errors.
 *
 * @param {string} errors       Error codes.
 * @param {string} questionType Question type.
 * @return {string} Error message.
 */},
/***/88166:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>u
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(4981),o=s(55609),a=s(9818),i=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Read-only question block.
 *
 * @param {Object}  props
 * @param {string}  props.clientId
 * @param {Object}  props.attributes
 * @param {string}  props.attributes.title    Question title.
 * @param {Object}  props.attributes.answer   Answer attributes.
 * @param {boolean} props.attributes.editable Is editing enabled.
 * @param {Element} props.questionIndex       Index element.
 * @param {Element} props.questionGrade       Grade label element.
 * @param {Element} props.AnswerBlock         Answer component config.
 */
const c=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.BlockControls,null,(0,n.createElement)(o.Toolbar,null,(0,n.createElement)(o.ToolbarButton,{disabled:!0},(0,i.__)("Locked","sensei-lms")))),(0,n.createElement)(l.InspectorControls,null,(0,n.createElement)(o.PanelBody,{title:(0,i.__)("Question Details","sensei-lms"),initialOpen:!0},(0,n.createElement)("div",null,(0,i.__)("You are not allowed to edit this question.","sensei-lms")))))
/* harmony default export */,u=e=>{let{clientId:t,attributes:{title:s,answer:l,editable:o},questionIndex:i,questionGrade:u,AnswerBlock:d}=e;const m=(0,a.useSelect)((e=>e("core/block-editor").getBlock(t)),[t]);return(0,n.createElement)("div",{className:"sensei-lms-question-block"},i,(0,n.createElement)("h2",{className:"sensei-lms-question-block__title"},s),u,(0,n.createElement)(n.RawHTML,null,(0,r.getBlockContent)(m)),(null==d?void 0:d.view)&&(0,n.createElement)(d.view,{attributes:l}),!o&&(0,n.createElement)(c,null))};
/**
 * Display toolbar and sidebar notices that the question is not editable.
 */}
/***/,
/***/33216:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Zw:()=>/* reexport safe */n.Z
/* harmony export */,rd:()=>/* reexport safe */l.Z
/* harmony export */,F0:()=>/* reexport safe */r.Z
/* harmony export */});
/* harmony import */var n=s(47811),l=s(86160),r=s(82010);
/* harmony import */}
/***/,
/***/86160:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(65736),r=s(94366);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question block grade settings.
 *
 * @param {Object}   props
 * @param {Object}   props.options
 * @param {number}   props.options.grade Question grade.
 * @param {Function} props.setOptions
 */
const o=e=>{let{options:{grade:t=1},setOptions:s}=e;return(0,n.createElement)(r/* .QuestionGradeControl */.y,{label:(0,l.__)("Grade","sensei-lms"),value:t,onChange:e=>s({grade:null!=e?e:1}),allowReset:!0})};
/* harmony default export */}
/***/,
/***/47811:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Question block grading notes settings control.
 *
 * @param {Object}   props
 * @param {Object}   props.options
 * @param {string}   props.options.teacherNotes Notes for teacher when grading.
 * @param {Function} props.setOptions
 */
const o=e=>{let{options:{teacherNotes:t},setOptions:s}=e;return(0,n.createElement)(l.TextareaControl,{label:(0,r.__)("Grading Notes","sensei-lms"),onChange:e=>s({teacherNotes:e}),value:t||"",help:(0,r.__)("Displayed to the teacher when grading the question.","sensei-lms")})};
/* harmony default export */}
/***/,
/***/82010:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Question block settings for multiple choice questions.
 *
 * @param {Object}   props
 * @param {Object}   props.options             Multiple choice question options.
 * @param {boolean}  props.options.randomOrder Display options in random order.
 * @param {Function} props.setOptions          Sets the options.
 */
const o=e=>{let{options:{randomOrder:t=!1},setOptions:s}=e;return(0,n.createElement)(l.CheckboxControl,{label:(0,r.__)("Random Order","sensei-lms"),checked:t,onChange:e=>s({randomOrder:e})})};
/* harmony default export */}
/***/,
/***/24558:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736),o=s(72067),a=s(61831);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Additional controls for a question block in the single question editor.
 *
 * @param {Object} props Question block props.
 */
const i=e=>{const{meta:{validationErrors:t,showValidationErrors:s},setMeta:i}=e,c=(0,n.useCallback)((function(){i({showValidationErrors:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]})}),[i]);if((0,a/* .usePostSavingEffect */.H3)((()=>c(!1)),[c]),null==t||!t.length)return null;const u=(0,n.createElement)(l.Notice,{isDismissible:!1,status:"warning",className:"sensei-lms-quiz-block__pre-publish-validation__notice",actions:s?[]:[{label:(0,r.__)("View issues","sensei-lms"),onClick:()=>c(!0),className:"is-link"}]},(0,r.__)("This question is incomplete.","sensei-lms"));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.PluginPostStatusInfo,null,u),(0,n.createElement)(o.PluginPrePublishPanel,{title:(0,r.__)("Validation","sensei-lms"),initialOpen:!0},(0,n.createElement)(a/* .Effect */.Qm,{onMount:c}),u,(0,n.createElement)("p",null,(0,r.__)("Incomplete questions added to a quiz won't be displayed to the student.","sensei-lms"))))};
/* harmony default export */}
/***/,
/***/9608:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */J:()=>/* binding */o
/* harmony export */});
/* harmony import */var n=s(9818),l=s(69307),r=s(92819);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Get the question categories.
 *
 * @return {Object[]} Term objects.
 */
const o=()=>{const e=(0,n.useSelect)((e=>{const t=e("core").getEntityRecords("taxonomy","question-category",{per_page:-1});return null!=t?t:[]}),[]),t=(0,l.useMemo)((()=>(e||[]).map((e=>({...e,name:unescape(e.name)})))),[e]),s=(0,l.useMemo)((()=>(0,r.keyBy)(null!=t?t:[],"id")),[t]);return[t,e=>{var t;return!(!s||0===s.length)&&(null!==(t=s[e])&&void 0!==t&&t)}]};
/***/},
/***/32365:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(73564),o=s(89627),a=s(45889);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question description block.
 */
/* harmony default export */const i={...o,metadata:o,icon:a/* ["default"] */.Z,usesContext:["sensei-lms/quizId"],edit:r/* ["default"] */.Z,save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)};
/***/},
/***/73564:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(94333),o=s(65736),a=s(80688);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Question Description control.
 */
const i=(0,r.compose)(a/* .withBlockMeta */.vf)((()=>{const e=(0,l.useBlockProps)({className:"sensei-lms-question-description-block"});return(0,n.createElement)("div",e,(0,n.createElement)(l.InnerBlocks,{template:[["core/paragraph",{placeholder:(0,o.__)("Add question description or type / to choose a block.","sensei-lms")}]],templateInsertUpdatesSelection:!1,templateLock:!1}))}));
/* harmony default export */}
/***/,
/***/25137:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Q:()=>/* binding */l
/* harmony export */});
/* harmony import */var n=s(9818);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Get the current number (order) of the question block in a quiz.
 *
 * @param {string} clientId Block Client Id.
 * @return {number} Block index
 */
const l=e=>(0,n.useSelect)((t=>{const s=t("core/block-editor"),n=s.getBlockRootClientId(e);return(s.getBlocks(n)||[]).slice(0,s.getBlockIndex(e,n))}),[e]).reduce(((e,t)=>{var s;return e+("category-question"===t.attributes.type&&(null===(s=t.attributes.options)||void 0===s?void 0:s.number)||1)}),0)+1;
/***/},
/***/97698:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(82691),o=s(13400),a=s(75744);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Quiz block definition.
 */
const i={...a,metadata:a,icon:r/* ["default"] */.Z,providesContext:{"sensei-lms/quizId":"id"},edit:o/* ["default"] */.Z,save:()=>(0,n.createElement)(l.InnerBlocks.Content,null)};
/* harmony default export */}
/***/,
/***/39986:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */K:()=>/* binding */r
/* harmony export */});
/* harmony import */var n=s(9818),l=s(17843);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Get the next question index.
 *
 * @param {string} clientId The client ID.
 *
 * @return {number} Next question index.
 */
const r=e=>{const t=(0,n.useSelect)((t=>t("core/block-editor").getBlocks(e)),[]),s=t.length&&t[t.length-1];return s&&(0,l/* .isQuestionEmpty */.tv)(s.attributes)?t.length-1:t.length};
/***/},
/***/87632:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */I:()=>/* binding */g
/* harmony export */,K:()=>/* binding */_
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(55609),o=s(65736),a=s(80768),i=s(81042);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const c="single",u="multi",d=[{label:(0,o.__)("Single page","sensei-lms"),value:c},{label:(0,o.__)("Multi-page","sensei-lms"),value:u}],m=e=>t=>{e({paginationNumber:t===u?1:null})}
/**
 * A component which contains a NumberControl and the 'per page' accompanying text.
 *
 * @param {Object}   props                  Component props.
 * @param {Object}   props.settings         Pagination settings object.
 * @param {Function} props.updatePagination Update pagination options function.
 */,p=e=>{let{settings:t,updatePagination:s,...r}=e;const{paginationNumber:i}=t;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a/* ["default"] */.Z,(0,n/* ["default"] */.Z)({label:(0,o.__)("Number of Questions","sensei-lms"),min:1,step:1,hideLabelFromVision:!0,suffix:(0,o._n)("question","questions",i,"sensei-lms"),value:i,onChange:e=>s({paginationNumber:e})},r)),(0,l.createElement)("span",null,(0,o.__)("per page","sensei-lms")))},g=e=>{let{settings:t,updatePagination:s}=e;const{paginationNumber:n,showProgressBar:i,progressBarRadius:g,progressBarHeight:_}=t;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.PanelBody,{title:(0,o.__)("Pagination","sensei-lms"),initialOpen:!0},(0,l.createElement)(r.PanelRow,{className:"sensei-lms-quiz-block-settings__pagination"},(0,l.createElement)(r.SelectControl,{label:(0,o.__)("Pagination","sensei-lms"),hideLabelFromVision:!0,value:null===n?c:u,options:d,onChange:m(s)})),null!==n&&(0,l.createElement)(r.PanelRow,{className:"sensei-lms-quiz-block-settings__question-count"},(0,l.createElement)(p,{settings:t,updatePagination:s})),null!==n&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.ToggleControl,{checked:i,label:(0,o.__)("Show Progress Bar","sensei-lms"),value:g,onChange:e=>s({showProgressBar:e})})),(0,l.createElement)(r.PanelRow,{className:"sensei-lms-quiz-block-settings__progress-bar"},(0,l.createElement)(a/* ["default"] */.Z,{label:(0,o.__)("Radius","sensei-lms"),min:1,step:1,suffix:(0,o.__)("PX","sensei-lms"),value:g,onChange:e=>s({progressBarRadius:e})}),(0,l.createElement)(a/* ["default"] */.Z,{label:(0,o.__)("Height","sensei-lms"),min:1,step:1,suffix:(0,o.__)("PX","sensei-lms"),value:_,onChange:e=>s({progressBarHeight:e})})))))},_=e=>{let{settings:t,updatePagination:s}=e;const{paginationNumber:n}=t;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.Toolbar,null,(0,l.createElement)(i/* ["default"] */.Z,{options:d,optionsLabel:(0,o.__)("Quiz pagination","sensei-lms"),value:null===n?c:u,onChange:m(s)})),null!==n&&(0,l.createElement)(r.ToolbarGroup,{className:"sensei-lms-quiz-block__toolbar-group"},(0,l.createElement)(p,{settings:t,updatePagination:s})))}}
/***/,
/***/1933:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Questions actions.
 *
 * @param {Object}   props
 * @param {number[]} props.selectedQuestionIds    Selected question IDs.
 * @param {Object}   props.setSelectedQuestionIds Selected question IDs state setter.
 * @param {Function} props.onAdd                  Callback to add existing questions.
 * @param {Function} props.closeModal             Close the modal.
 * @param {Function} props.setErrorAddingSelected Set when there has been an error adding selection.
 */
const o=e=>{let{selectedQuestionIds:t,setSelectedQuestionIds:s,onAdd:o,closeModal:a,setErrorAddingSelected:i}=e;const[c,u]=(0,n.useState)(!1),d=0===t.length?(0,r.__)("Add Selected","sensei-lms"):(0,r.sprintf)(/* translators: Number of selected questions. */
(0,r.__)("Add Selected (%s)","sensei-lms"),t.length);return(0,n.createElement)("ul",{className:"sensei-lms-quiz-block__questions-modal__actions"},t.length>0&&(0,n.createElement)("li",null,(0,n.createElement)(l.Button,{isTertiary:!0,onClick:()=>{s([])}},(0,r.__)("Clear Selected","sensei-lms"))),(0,n.createElement)("li",null,(0,n.createElement)(l.Button,{disabled:c,onClick:()=>{u(!0),o(t).then(a).catch((()=>{i(!0),u(!1)}))},isPrimary:!0},d)))};
/* harmony default export */}
/***/,
/***/37635:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(99854),o=s(65736),a=s(91442),i=s(69395),c=s(43166),u=s(92819);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * External dependencies
 */
/**
 * Questions filter.
 *
 * @param {Object}   props
 * @param {Array}    props.questionCategories Question categories.
 * @param {Object}   props.filters            Filters object.
 * @param {Function} props.setFilters         Filters state setter.
 */
const d=e=>{let{questionCategories:t,filters:s,setFilters:d}=e;const{searchValue:m}=(0,n.useState)(s.search),p=(0,c/* .useQuestionTypes */.j)(),g=(e,t)=>(0,u.debounce)((t=>{d((s=>({...s,[e]:t})))}),t),_=[{value:"",label:(0,o.__)("Type","sensei-lms")},...(p||[]).map((e=>{var t;return{value:e.id,label:null===(t=i/* ["default"] */.Z[e.slug])||void 0===t?void 0:t.title}}))],h=[{value:"",label:(0,o.__)("Category","sensei-lms")},...(t||[]).map((e=>({value:e.id,label:e.name})))];return(0,n.createElement)("ul",{className:"sensei-lms-quiz-block__questions-modal__filters"},(0,n.createElement)("li",null,(0,n.createElement)(l.SelectControl,{options:_,value:s["question-type"],onChange:g("question-type",0)})),(0,n.createElement)("li",null,(0,n.createElement)(l.SelectControl,{options:h,value:s["question-category"],onChange:g("question-category",0)})),(0,n.createElement)("li",null,(0,n.createElement)(a/* ["default"] */.Z,{className:"sensei-lms-quiz-block__questions-modal__search-input",placeholder:(0,o.__)("Search questions","sensei-lms"),iconRight:r/* ["default"] */.Z,value:m,onChange:g("search",400)})))};
/* harmony default export */}
/***/,
/***/72318:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736),o=s(37635),a=s(12842),i=s(1933),c=s(9608),u=s(21069);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Questions modal content.
 *
 * @param {Object}   props
 * @param {string}   props.clientId Quiz block ID.
 * @param {Function} props.onClose  Close callback.
 */
const d=e=>{let{clientId:t,onClose:s}=e;const d=(0,u/* .useAddExistingQuestions */.j)(t),[m,p]=(0,n.useState)({search:"","question-type":"","question-category":""}),[g,_]=(0,n.useState)(!1),[h,v]=(0,n.useState)([]),[b]=(0,c/* .useQuestionCategories */.J)();return(0,n.createElement)(l.Modal,{className:"sensei-lms-quiz-block__questions-modal",title:(0,r.__)("Questions","sensei-lms"),onRequestClose:s},g&&(0,n.createElement)(l.Notice,{status:"error",isDismissible:!1,className:"sensei-lms-quiz-block__questions-modal__notice"},(0,r.__)("Unable to add the selected question(s). Please make sure you are still logged in and try again.","sensei-lms")),(0,n.createElement)(o/* ["default"] */.Z,{questionCategories:b,filters:m,setFilters:p}),(0,n.createElement)(a/* ["default"] */.Z,{clientId:t,questionCategories:b,filters:m,selectedQuestionIds:h,setSelectedQuestionIds:v}),(0,n.createElement)(i/* ["default"] */.Z,{selectedQuestionIds:h,setSelectedQuestionIds:v,onAdd:d,closeModal:s,setErrorAddingSelected:_}))};
/* harmony default export */}
/***/,
/***/12842:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(69307),l=s(92819),r=s(9818),o=s(55609),a=s(65736),i=s(69395);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Questions for selection.
 *
 * @param {Object}   props
 * @param {string}   props.clientId               Quiz block ID.
 * @param {Array}    props.questionCategories     Question categories.
 * @param {Object}   props.filters                Filters object.
 * @param {number[]} props.selectedQuestionIds    Seleted question IDs.
 * @param {Object}   props.setSelectedQuestionIds Seleted question IDs state setter.
 */
const c=e=>{let{clientId:t,questionCategories:s,filters:c,selectedQuestionIds:u,setSelectedQuestionIds:d}=e;
// Ids of the already added questions.
const m=(0,r.useSelect)((e=>e("core/block-editor").getBlocks(t))).map((e=>{var t;return null===(t=e.attributes)||void 0===t?void 0:t.id}));
// Questions by current filter.
let p=(0,r.useSelect)((e=>e("core").getEntityRecords("postType","question",{per_page:100,...(0,l.omitBy)(c,(e=>""===e))})),[c]);if(!p||!s)return(0,n.createElement)("div",{className:"sensei-lms-quiz-block__questions-modal__questions sensei-lms-quiz-block__questions-modal__questions--loading"},(0,n.createElement)(o.Spinner,null));
// Filter out already added questions.
p=p.filter((e=>!m.includes(e.id)));const g=(0,l.keyBy)(s,"id"),_=p.length>0&&p.every((e=>u.includes(e.id))),h=e=>t=>{d(t?t=>[...t,e]:t=>t.filter((t=>t!==e)))};return(0,n.createElement)("div",{className:"sensei-lms-quiz-block__questions-modal__questions"},(0,n.createElement)("table",{className:"sensei-lms-quiz-block__questions-modal__table"},(0,n.createElement)("thead",null,(0,n.createElement)("tr",null,(0,n.createElement)("th",{className:"sensei-lms-quiz-block__questions-modal__question-checkbox"},(0,n.createElement)(o.CheckboxControl,{title:(0,a.__)("Toggle all visible questions selection.","sensei-lms"),checked:_,onChange:e=>{const t=p.map((e=>e.id));d((s=>e?(0,l.uniq)([...s,...t]):s.filter((e=>!t.includes(e)))))}})),(0,n.createElement)("th",null,(0,a.__)("Question","sensei-lms")),(0,n.createElement)("th",null,(0,a.__)("Type","sensei-lms")),(0,n.createElement)("th",null,(0,a.__)("Category","sensei-lms")))),(0,n.createElement)("tbody",null,0===p.length?(0,n.createElement)("tr",null,(0,n.createElement)("td",{colSpan:"4"},(0,n.createElement)("p",null,(0,a.__)("No questions found.","sensei-lms")))):p.map((e=>{var t;const s=null===(t=i/* ["default"] */.Z[e["question-type-slug"]])||void 0===t?void 0:t.title,l=e["question-category"].map((e=>{var t;return null===(t=g[e])||void 0===t?void 0:t.name})).join(", "),r=e.id,a=e.title.raw;return(0,n.createElement)("tr",{key:e.id},(0,n.createElement)("td",null,(0,n.createElement)(o.CheckboxControl,{id:`question-${r}`,title:a,checked:u.includes(r),onChange:h(r)})),(0,n.createElement)("td",{className:"sensei-lms-quiz-block__questions-modal__question-title"},(0,n.createElement)("label",{htmlFor:`question-${r}`,title:a},a)),(0,n.createElement)("td",null,s),(0,n.createElement)("td",null,l))})))))};
/* harmony default export */}
/***/,
/***/93856:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>p
/* harmony export */});
/* harmony import */var n=s(69307),l=s(4981),r=s(9818),o=s(65736),a=s(82691),i=s(98399),c=s(55220),u=s(39986),d=s(92239),m=s(92694);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Quiz block inserter for adding new or existing questions.
 *
 * @param {Object}   props
 * @param {string}   props.clientId  Quiz block ID.
 * @param {Function} props.openModal Open modal callback.
 */
const p=e=>{let{clientId:t,openModal:s}=e;const{insertBlock:p}=(0,r.useDispatch)("core/block-editor"),g=(0,u/* .useNextQuestionIndex */.K)(t),_=e=>{p((0,l.createBlock)(e.name),g,t,!0)},h=(0,m.applyFilters)("sensei-lms.Quiz.appender-controls",[{id:"new-question",title:(0,o.__)("New Question","sensei-lms"),icon:i/* ["default"].icon */.Z.icon,onClick:()=>_(i/* ["default"] */.Z)},{id:"category-question",title:(0,o.__)("Category Question(s)","sensei-lms"),icon:a/* ["default"] */.Z,onClick:()=>_(c/* ["default"] */.Z)},{id:"existing-question",title:(0,o.__)("Existing Question(s)","sensei-lms"),icon:a/* ["default"] */.Z,onClick:s}]),v=(0,o.__)("Add new or existing question(s)","sensei-lms");return(0,n.createElement)(d/* ["default"] */.Z,{controls:h,text:v,label:v})};
/* harmony default export */}
/***/,
/***/13400:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>E
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(65736),o=s(80688),a=s(75245),i=s(98399),c=s(37895),u=s(17932),d=s(93856),m=s(72318),p=s(17801),g=s(81421),_=s(17843),h=s(78977),v=s(55609);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const b=["sensei-lms/quiz-question","sensei-lms/quiz-category-question"],E=(0,o/* .withBlockMetaProvider */.n_)((e=>{var t,s;const{clientId:o}=e;(0,c/* .useQuizStructure */.R)(e),(0,a/* .useAutoInserter */.l)({name:i/* ["default"].name */.Z.name,selectFirstBlock:!e.attributes.isPostTemplate,isEmptyBlock:_/* .isQuestionEmpty */.tv},e),(0,g/* .useUpdateQuizHasQuestionsMeta */.E)(o);const[E,k]=(0,n.useState)(!1),w=(0,n.useCallback)((()=>(0,n.createElement)(d/* ["default"] */.Z,{clientId:o,openModal:()=>k(!0)})),[o]),f=null==e||null===(t=e.attributes)||void 0===t||null===(s=t.options)||void 0===s?void 0:s.pagination,y=(null==f?void 0:f.paginationNumber)&&(null==f?void 0:f.showProgressBar),q=(0,l.useBlockProps)();return(0,n.createElement)("div",q,(0,n.createElement)(u/* ["default"] */.Z,e),(0,n.createElement)("div",{className:"sensei-lms-quiz-block__separator"},(0,n.createElement)(v.Slot,{name:"SenseiQuizHeader"}),(0,n.createElement)("span",null,(0,n.createElement)("span",null,(0,r.__)("Lesson Quiz","sensei-lms")))),(0,n.createElement)(v.Slot,{name:"SenseiQuizBlockTop"}),y&&(0,n.createElement)(h/* ["default"] */.Z,{pagination:f}),(0,n.createElement)(l.InnerBlocks,{allowedBlocks:b,templateInsertUpdatesSelection:!1,renderAppender:w}),E&&(0,n.createElement)(m/* ["default"] */.Z,{clientId:o,onClose:()=>k(!1)
/* Temporary solution. See https://github.com/WordPress/gutenberg/pull/29911 */}),(0,n.createElement)("div",{className:"sensei-lms-quiz-block__separator"}),(0,n.createElement)(p/* ["default"] */.Z,e))}));
/**
 * Quiz block editor.
 *
 * @param {Object} props
 */}
/***/,
/***/78977:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(65736),r=s(42484);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Progress bar in lesson edit view.
 *
 * @param {Object} props
 */
const o=e=>{const{pagination:t}=e,s={style:{...(null==t?void 0:t.progressBarColor)&&{backgroundColor:t.progressBarColor}}},o={style:{...(null==t?void 0:t.progressBarBackground)&&{backgroundColor:t.progressBarBackground},...(null==t?void 0:t.progressBarHeight)&&{height:t.progressBarHeight},...(null==t?void 0:t.progressBarRadius)&&{borderRadius:t.progressBarRadius}}};return(0,n.createElement)(r/* ["default"] */.Z,{totalCount:10,completedCount:2,wrapperAttributes:{className:"sensei-lms-quiz-block__progress-bar wp-block"},barAttributes:s,label:(0,l.__)("questions","sensei-lms"),barWrapperAttributes:o})};
/* harmony default export */}
/***/,
/***/17801:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>_
/* harmony export */});
/* harmony import */var n=s(69307),l=s(52175),r=s(55609),o=s(9818),a=s(92694),i=s(65736),c=s(80768),u=s(17843),d=s(87632),m=s(43235),p=s(14151),g=s(24280);
/* harmony import */
/* eslint-disable camelcase */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Quiz settings.
 *
 * @param {Object}   props                    Block props.
 * @param {Object}   props.attributes         Block attributes
 * @param {Object}   props.attributes.options Current setting options.
 * @param {Function} props.setAttributes      Set attributes function.
 * @param {string}   props.clientId           Block ID.
 */
const _=e=>{let{attributes:{options:t},setAttributes:s,clientId:_}=e;const{passRequired:h,quizPassmark:v,autoGrade:b,allowRetakes:E,randomQuestionOrder:k,showQuestions:w,failedShowAnswerFeedback:f,failedShowCorrectAnswers:y,failedIndicateIncorrect:q,buttonTextColor:C,buttonBackgroundColor:S,pagination:Z}=t,B=e=>n=>s({options:{...t,[e]:n}})
// Update the pagination options function used for block settings.
,N=e=>s({options:{...t,pagination:{...Z,...e}}}),x=(0,p/* .useOpenQuizSettings */.V)(_),A=(0,o.useSelect)((e=>e("core/block-editor").getBlock(_).innerBlocks.filter((e=>!(0,u/* .isQuestionEmpty */.tv)(e.attributes)))),[_]).reduce(((e,t)=>e+("category-question"===t.attributes.type?t.attributes.options.number:1)),0),P=(0,a.applyFilters)("senseiQuizTimerHide",!1);return(0,n.useEffect)((()=>{w>A&&s({options:{...t,showQuestions:A}})}),[t,A,s,w]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"sensei-lms-quiz-block__settings-quick-nav"},(0,n.createElement)(r.Button,{onClick:x,icon:g/* ["default"] */.Z},(0,i.__)("Quiz settings","sensei-lms"))),(0,n.createElement)(l.InspectorControls,null,(0,n.createElement)("div",{className:"sensei-lms-quiz-block__settings-wrapper"},(0,n.createElement)(r.PanelBody,{title:(0,i.__)("Quiz settings","sensei-lms"),initialOpen:!0},(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ToggleControl,{checked:h,onChange:B("passRequired"),label:(0,i.__)("Pass Required","sensei-lms")})),h&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.RangeControl,{label:(0,i.__)("Passing Grade (%)","sensei-lms"),value:v,onChange:B("quizPassmark"),min:0,max:100,initialPosition:100})),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)("div",null,(0,n.createElement)(r.BaseControl,{id:"sensei-lms-quiz-block-failed-feedback-options",className:"sensei-lms-subsection-control",help:(0,i.__)("What students see when reviewing their quiz after grading.","sensei-lms")},(0,n.createElement)("h3",null,(0,i.__)("If student does not pass quiz","sensei-lms"))),(0,n.createElement)(r.ToggleControl,{checked:q,onChange:B("failedIndicateIncorrect"),label:(0,i.__)("Indicate which questions are incorrect.","sensei-lms")}),(0,n.createElement)(r.ToggleControl,{checked:y,onChange:B("failedShowCorrectAnswers"),label:(0,i.__)("Show correct answers.","sensei-lms")}),(0,n.createElement)(r.ToggleControl,{checked:f,onChange:B("failedShowAnswerFeedback"),label:(0,i.__)("Show Answer Feedback text.","sensei-lms")}))),(0,n.createElement)("hr",null)),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ToggleControl,{checked:b,onChange:B("autoGrade"),label:(0,i.__)("Auto Grade","sensei-lms"),help:(0,i.__)("Automatically grade Multiple Choice, True/False and Gap Fill questions that have a non-zero point value.","sensei-lms")})),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ToggleControl,{checked:E,onChange:B("allowRetakes"),label:(0,i.__)("Allow Retakes","sensei-lms")})),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ToggleControl,{checked:k,onChange:B("randomQuestionOrder"),label:(0,i.__)("Random Question Order","sensei-lms")})),k&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(c/* ["default"] */.Z,{id:"sensei-quiz-settings-show-questions",label:(0,i.__)("Number of Questions","sensei-lms"),help:(0,i.__)("Display a random selection of questions.","sensei-lms"),allowReset:!0,resetLabel:(0,i.__)("All","sensei-lms"),min:0,max:A,step:1,value:w,placeholder:(0,i.__)("All","sensei-lms"),onChange:B("showQuestions")}))),(0,n.createElement)(r.Slot,{name:"SenseiQuizSettings"}),!P&&(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(m/* ["default"] */.Z,null))),(0,n.createElement)(d/* .PaginationSidebarSettings */.I,{settings:Z,updatePagination:N}),(0,n.createElement)(l.PanelColorSettings,{title:(0,i.__)("Color settings","sensei-lms"),initialOpen:!1,colorSettings:[{value:C||void 0,onChange:B("buttonTextColor"),label:(0,i.__)("Button text color","sensei-lms")},{value:S||void 0,onChange:B("buttonBackgroundColor"),label:(0,i.__)("Button background color","sensei-lms")},{value:(null==Z?void 0:Z.progressBarColor)||void 0,onChange:e=>N({progressBarColor:e}),label:(0,i.__)("Progress bar color","sensei-lms")},{value:(null==Z?void 0:Z.progressBarBackground)||void 0,onChange:e=>N({progressBarBackground:e}),label:(0,i.__)("Progress bar background color","sensei-lms")}]}))),(0,n.createElement)(l.BlockControls,null,(0,n.createElement)(d/* .PaginationToolbarSettings */.K,{settings:Z,updatePagination:N})))};
/* harmony default export */}
/***/,
/***/43235:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(65736);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Quiz block inserter for adding new or existing questions.
 */
const o=()=>(0,n.createElement)("div",{className:"sensei-lms-quiz-block-settings__quiz-timer-promo"},(0,n.createElement)(l.ToggleControl,{disabled:!0,label:(0,r.__)("Quiz Timer","sensei-lms"),help:(0,r.__)("The quiz timer enables you to control how much time a student has to complete the quiz.","sensei-lms")}),(0,n.createElement)("p",null,(0,n.createElement)(l.ExternalLink,{href:"https://senseilms.com/sensei-pro/?utm_source=plugin_sensei&utm_medium=upsell&utm_campaign=quiz_timer"},(0,r.__)("Upgrade to Sensei Pro","sensei-lms"))));
/* harmony default export */}
/***/,
/***/17932:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>d
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(9818),o=s(72067),a=s(65736),i=s(80688),c=s(61831);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Notice about incomplete questions in the quiz.
 *
 * @param {Object}   props
 * @param {number}   props.count   Incomplete question count.
 * @param {Function} props.onClick Callback for notice action.
 */
const u=e=>{let{count:t,onClick:s}=e;return(0,n.createElement)("div",null,(0,n.createElement)(l.Notice,{isDismissible:!1,status:"warning",className:"sensei-lms-quiz-block__pre-publish-validation__notice",actions:[{label:(0,a.__)("View issues","sensei-lms"),onClick:s,className:"is-link"}]},(0,a.sprintf)(
// Translators: placeholder is the numer of incomplete questions.
(0,a._n)("There is %d incomplete question in this lesson's quiz.","There are %d incomplete questions in this lesson's quiz.",t,"sensei-lms"),t)))},d=e=>{let{clientId:t,setMeta:s}=e;const l=(0,r.useSelect)((e=>{const s=e("core/block-editor").getBlocks(t),n=e(i/* .BLOCK_META_STORE */.fv).getMultipleBlockMeta(s.map((e=>e.clientId)),"validationErrors");return s.map((e=>({...e,errors:n[e.clientId]}))).filter((e=>{var t;return null===(t=e.errors)||void 0===t?void 0:t.length}))}),[t]),d=(0,n.useCallback)((function(){s({showValidationErrors:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]})}),[s]),{selectBlock:m}=(0,r.useDispatch)("core/block-editor");if((0,c/* .usePostSavingEffect */.H3)((()=>d(!1)),[d]),!l.length)return null;const p=(0,n.createElement)(u,{onClick:()=>{l.length&&(d(!0),m(l[0].clientId))},count:l.length});return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.PluginPostStatusInfo,null,p),(0,n.createElement)(o.PluginPrePublishPanel,{title:(0,a.__)("Lesson Quiz","sensei-lms"),initialOpen:!0},(0,n.createElement)(c/* .Effect */.Qm,{onMount:d}),p,(0,n.createElement)("p",null,(0,a.__)("Incomplete questions won't be displayed to the student when taking the quiz.","sensei-lms"))))};
/**
 * Collect and act on validation results for the questions in the quiz.
 *
 * Displays notices in the pre-publish and post status panels if there are incomplete questions.
 *
 * @param {Object}   props
 * @param {string}   props.clientId
 * @param {Function} props.setMeta
 */}
/***/,
/***/21069:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */j:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(9818),l=s(86989),r=s.n(l),o=s(17843),a=s(39986);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const i=e=>{const t=(0,n.select)("core/block-editor").getBlocks(e),{insertBlock:s}=(0,n.useDispatch)("core/block-editor"),l=(0,a/* .useNextQuestionIndex */.K)(e);return n=>{const a=n.filter((e=>0===t.length||!(0,o/* .findQuestionBlock */.uw)(t,{id:e})));if(0===a.length)return Promise.resolve({});
// Put this before the auto-block.
let i=l;return r()({path:"/sensei-internal/v1/question-options?question_ids="+a.join(","),method:"GET"}).then((t=>{Array.isArray(t)&&t.length>0&&t.forEach((t=>{s((0,o/* .createQuestionBlock */.yR)(t),i,e,!1),i++}))}))}};
/**
 * Add existing questions to the quiz block.
 *
 * @param {string} clientId The quiz block client id.
 * @return {Function} Function that takes an array of question IDs and returns a Promise.
 */}
/***/,
/***/14151:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */V:()=>/* binding */l
/* harmony export */});
/* harmony import */var n=s(9818);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Returns a callback which opens the quiz settings.
 *
 * @param {string} clientId The quiz block client id.
 *
 * @return {Function} A callback which opens the quiz settings.
 */
const l=e=>{const{openGeneralSidebar:t}=(0,n.useDispatch)("core/edit-post"),{selectBlock:s}=(0,n.useDispatch)("core/block-editor");return()=>{s(e),t("edit-post/block")}};
/***/},
/***/43166:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */j:()=>/* binding */o
/* harmony export */});
/* harmony import */var n=s(86989),l=s.n(n),r=s(69307);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Get the question types.
 *
 * @return {Object[]} Term objects.
 */
const o=()=>{const[e,t]=(0,r.useState)([]);return(0,r.useEffect)((()=>{l()({path:"/wp/v2/question-type?per_page=-1"}).then(t)}),[t]),e};
/***/},
/***/81421:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */E:()=>/* binding */i
/* harmony export */});
/* harmony import */var n=s(69307),l=s(9818),r=s(52175),o=s(12238),a=s(17843);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Monitor for questions and disable the lesson quiz when none have been added.
 *
 * @param {string} clientId The quiz block client id.
 */
const i=e=>{const t="_quiz_has_questions",s=(0,l.select)(r.store).getBlocks(e).filter((e=>!(0,a/* .isQuestionEmpty */.tv)(e.attributes))),{editedValue:i}=(0,l.useSelect)((e=>({editedValue:e(o.store).getEditedPostAttribute("meta")[t]}))),{editPost:c}=(0,l.useDispatch)(o.store),u=(0,n.useCallback)((e=>c({meta:{[t]:e?1:0}})),[c]);
// It doesn't use the `useSelect` to get the blocks from the main registry.
// It avoids getting the blocks from the preview thumbnails.
// Monitor for valid questions.
(0,n.useEffect)((()=>{!i&&s.length&&u(!0),i&&!s.length&&u(!1)}),[s.length,i,u]),
// Monitor for quiz block removal.
(0,n.useEffect)((()=>()=>{u(!1)}),[u])};
/***/},
/***/37895:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */R:()=>/* binding */d
/* harmony export */});
/* unused harmony export QUIZ_STORE */
/* harmony import */var n=s(92819),l=s(9818),r=s(69307),o=s(65736),a=s(23728),i=s(17843);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
const c="sensei/quiz-structure",u=["categories","shared","options.studentHelp","media","categoryName","lock"];
/**
 * Syncronize this block with quiz data.
 *
 * @param {Object} props
 * @param {string} props.clientId Block ID.
 */
function d(e){let{clientId:t}=e;const{setBlock:s,loadStructure:n}=(0,l.useDispatch)(c);(0,r.useEffect)((()=>(s(t),n(),()=>{s(null)})),[s,n,t])}(0,a/* .registerStructureStore */.x)({storeName:c,*getEndpoint(){return`lesson-quiz/${yield(0,l.select)("core/editor").getCurrentPostId()}?context=edit`},
/**
   * Update Quiz block with settings and questions.
   *
   * @param {Object} structure Quiz structure.
   */
*updateBlock(e){var t;const s=yield(0,l.select)(c).getBlock();if(!s||!e)return;if(!(yield(0,l.select)("core/block-editor").getBlock(s)))return;if(yield(0,l.dispatch)("core/block-editor").updateBlockAttributes(s,{options:(0,i/* .normalizeAttributes */.mY)(e.options,n.camelCase)}),null===(t=e.questions)||void 0===t||!t.length)return;const r=yield(0,l.select)("core/block-editor").getBlocks(s);yield(0,l.dispatch)("core/block-editor").replaceInnerBlocks(s,(0,i/* .syncQuestionBlocks */.TO)(e.questions,r),!1)},
/**
   * Checks if quiz block exists.
   */
blockExists(){const e=(0,l.select)(c).getBlock();return!!(0,l.select)("core/block-editor").getBlock(e)},
/**
   * Parse question blocks and quiz settings from Quiz block.
   *
   * @throws {Object} Quiz structure.
   */
readBlock(){const e=(0,l.select)(c).getBlock();if(!e)return;const t=(0,l.select)("core/block-editor").getBlock(e);if(!t)return;const s=(0,i/* .normalizeAttributes */.mY)(t.attributes.options,n.snakeCase),r=(0,l.select)("core/editor").getCurrentPost(),o=(0,l.select)(c).getServerStructure(),a=(0,l.select)("core/block-editor").getBlocks(e);let d=[];if(0<a.length&&o){const e=(0,i/* .parseQuestionBlocks */.gS)(a),t=(0,n.keyBy)(o.questions,"id");d=e.map((e=>
// Avoid overriding non-editable question.
!1===e.editable?t[e.id]:(0,n.omit)(e,u)))}return{lesson_status:null==r?void 0:r.status,lesson_title:null==r?void 0:r.title,options:s,questions:d}},*fetchError(e){const t=(0,o.sprintf)(/* translators: Error message. */
(0,o.__)("Quiz settings and questions could not be loaded. %s","sensei-lms"),e.message);yield(0,l.dispatch)("core/notices").createErrorNotice(t,{id:"quiz-structure-save-error"})},
/**
   * Display save error notice.
   *
   * @param {Object} error
   */
*saveError(e){const t=(0,o.sprintf)(/* translators: Error message. */
(0,o.__)("Quiz settings and questions could not be updated. %s","sensei-lms"),e.message);yield(0,l.dispatch)("core/notices").createErrorNotice(t,{id:"quiz-structure-save-error"})},
/**
   * Clear error notices.
   */
clearError(){(0,l.dispatch)("core/notices").removeNotice("quiz-structure-save-error")},
/**
   * Remove derived elements from quiz response.
   *
   * @param {Object} structure The quiz response.
   *
   * @return {Object} The modified response.
   */
setServerStructure:e=>e?{...e,questions:e.questions.map((e=>(0,n.omit)(e,u)))}:{}})}
/***/,
/***/53227:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>a
/* harmony export */});
/* harmony import */var n=s(69307),l=s(92819),r=s(4981),o=s(33731);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Register Sensei blocks.
 *
 * @todo  Refactor how the metadata and settings are passed to `registerBlockType`.
 * @param {Array} blocks Blocks to be registered.
 */
const a=e=>{(0,r.updateCategory)("sensei-lms",{icon:(0,n.createElement)(o/* ["default"] */.Z,{width:"20",height:"20"})}),e.forEach((e=>{let{metadata:t,name:s,...n}=e;t&&(
// Remove the overlapping metadata keys from the settings object to make localization work.
// This is needed because only the metadata object is localized, but the overlapping keys will be overwritten by the settings object and the localization is lost.
n=(0,l.omit)(n,Object.keys(t))),
// The metadata object should be used for the `block.json` strings to be localized.
// See https://github.com/Automattic/sensei/pull/5782 for more details.
(0,r.registerBlockType)(t||s,n)}))};
/* harmony default export */}
/***/,
/***/80688:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */fv:()=>/* binding */u
/* harmony export */,n_:()=>/* binding */p
/* harmony export */,vf:()=>/* binding */_
/* harmony export */});
/* unused harmony exports useBlockMeta, useBlockMetaContext, setBlockMeta */
/* harmony import */var n=s(25773),l=s(69307),r=s(94333),o=s(9818),a=s(92819),i=s(20832);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Block metadata store definition.
 */
const c={reducer:(0,i/* .createReducerFromActionMap */.lA)({SET_BLOCK_META:(e,t)=>{let{clientId:s,metadata:n}=e;return{...t,[s]:{...t[s]||{},...n}}},CLEAR:(e,t)=>t?{...e,[t]:void 0}:{},DEFAULT:e=>e},{}),actions:{
/**
     * Set metadata for a block.
     *
     * Input is merged with existing metadata.
     *
     * @param {string} clientId Block ID.
     * @param {string} metadata Changed block metadata.
     */
setBlockMeta:(e,t)=>({type:"SET_BLOCK_META",clientId:e,metadata:t}),
/**
     * Clear metadata for the block or all blocks.
     *
     * @param {string} [clientId] Block ID, or null to clear all blocks.
     */
clear:function(){return{type:"CLEAR",clientId:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}},selectors:{
/**
     * Get metadata for a block.
     *
     * @param {Object} state
     * @param {string} clientId Block ID.
     * @param {string} [key]    Only return metadata for the given key.
     * @return {*} Block metadata.
     */
getBlockMeta:function(e,t){var s;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n?null===(s=e[t])||void 0===s?void 0:s[n]:e[t]},
/**
     * Get metadata for multiple blocks.
     *
     * @param {Object}   state
     * @param {string[]} clientIds Block ID.
     * @param {string}   [key]     Only return metadata for the given key.
     * @return {Object} Blocks metadata, indexed by block ID.
     */
getMultipleBlockMeta:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=null!=t&&t.length?(0,a.pick)(e,t):{...e};return s?(0,a.mapValues)(n,s):n}}},u=(0,i/* .createStore */.MT)("sensei/block-metadata",c),d=(0,l.createContext)({}),m=e=>{const t=(0,o.useSelect)((t=>t(u).getBlockMeta(e)),[e]),{setBlockMeta:s}=(0,o.useDispatch)(u),n=g(),r=(0,l.useCallback)((t=>s(e,t)),[e,s]);return[(0,l.useMemo)((()=>({...n,...t})),[t,n]),r]},p=(0,r.createHigherOrderComponent)((e=>_((t=>{const[s]=m(t.clientId);return(0,l.createElement)(d.Provider,{value:s},(0,l.createElement)(e,t))}))),"withBlockMetaProvider"),g=()=>(0,l.useContext)(d)
/**
 * Attach metadata store to the block.
 * Provides the following props:
 *
 * @property {Object}   meta    Block metadata.
 * @property {Function} setMeta Block metadata setter.
 */,_=(0,r.createHigherOrderComponent)((e=>t=>{const[s,r]=m(t.clientId);return(0,l.createElement)(e,(0,n/* ["default"] */.Z)({},t,{meta:s,setMeta:r}))}),"withBlockMeta");
/**
 * Block metadata store.
 *
 * @type {string|Object}
 */}
/***/,
/***/90677:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */z:()=>/* binding */r
/* harmony export */});
/* unused harmony export useBlockValidation */
/* harmony import */var n=s(69307),l=s(94333);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Validate block attributes. Requires block metadata.
 *
 * @param {Function} validateBlock    Validate function.
 * @param {Object}   props
 * @param {string}   props.attributes Block attributes.
 * @param {Function} props.setMeta    Block meta setter.
 */
const r=e=>(0,l.createHigherOrderComponent)((t=>s=>(((e,t)=>{let{attributes:s,setMeta:l}=t;(0,n.useEffect)((()=>{const t=o(e(s));l({validationErrors:t})}),[e,s,l])})(e,s),(0,n.createElement)(t,s))),"withBlockValidation")
/**
 * Get errors from validation result.
 *
 * @param {Object} result Validation result.
 * @return {Array} Items that have failed validation.
 */,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).filter((e=>{let[,t]=e;return t})).map((e=>{let[t]=e;return t}))};
/**
 * Validate block attributes. Requires block metadata.
 *
 * @param {Function} validateBlock Validate function.
 */}
/***/,
/***/42484:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>/* reexport safe */n.Z
/* harmony export */});
/* harmony import */var n=s(50100);
/* harmony import */s(31833)}
/***/,
/***/31833:
/***/(e,t,s)=>{"use strict";
/* harmony import */s(69307),s(52175),s(55609),s(65736)
/* harmony import */}
/***/,
/***/50100:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(90005),o=s.n(r),a=s(65736),i=s(52175);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Progress bar component.
 *
 * @param {Object}  props
 * @param {number}  props.totalCount              Total count for progress bar.
 * @param {number}  props.completedCount          Number of completed.
 * @param {boolean} props.hidePercentage          Hide completed percentage.
 * @param {Object}  props.wrapperAttributes       Wrapper HTML attributes.
 * @param {Object}  props.barWrapperAttributes    Bar wrapper HTML attributes.
 * @param {string}  props.countersClassName       Counters class name.
 * @param {string}  props.completedCountClassName Completed count class name.
 * @param {Object}  props.barAttributes           Bar HTML attributes.
 * @param {boolean} props.hideDefault             Hide default settings for edit view only.
 * @param {boolean} props.label                   Label.
 */
const c=e=>{let{totalCount:t,completedCount:s,hidePercentage:r,wrapperAttributes:c,barWrapperAttributes:u,barAttributes:d,countersClassName:m,completedCountClassName:p,hideDefault:g,label:_}=e;const h=Math.round(s/t*100)||0,v=Math.max(g?0:3,h),b=(0,i.useBlockProps)(c);return(0,l.createElement)("div",b,(0,l.createElement)("section",{className:o()("sensei-progress-bar__heading",m)},(0,l.createElement)("div",{className:o()("sensei-progress-bar__label",p)},(0,a.sprintf)(
// translators: Placeholder %1$d is the completed progress count, %2$d is the total count and %3$s is the label for progress bar.
(0,a.__)("%1$d of %2$d %3$s completed","sensei-lms"),s,t,_||""),!r&&` (${h}%)`)),(0,l.createElement)("div",(0,n/* ["default"] */.Z)({role:"progressbar","aria-valuenow":h,"aria-valuemin":"0","aria-valuemax":"100"},u,{className:o()("sensei-progress-bar__bar",null==u?void 0:u.className)}),(0,l.createElement)("div",(0,n/* ["default"] */.Z)({},d,{className:o()("sensei-progress-bar__progress",null==d?void 0:d.className),style:{...(null==d?void 0:d.style)&&d.style,width:`${v}%`}}))))};
/* harmony default export */}
/***/,
/***/3295:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>n
/* harmony export */});
/**
 * Internal dependencies
 */
/* harmony default export */const n=s(65436).Z;
/***/},
/***/65436:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>c
/* harmony export */});
/* harmony import */var n=s(25773),l=s(69307),r=s(90005),o=s.n(r),a=s(52175),i=s(39630);
/* harmony import */
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Single line input component, used for the editor only.
 *
 * @param {Object}   props           Component props.
 * @param {Function} props.onChange  Change callback.
 * @param {Function} props.onKeyDown Keydown callback.
 * @param {Function} props.onEnter   Called on Enter.
 * @param {Function} props.onRemove  Called on Backspace when value is empty.
 * @param {string}   props.value     Input value.
 * @param {Object}   ref             Input element ref.
 */
const c=(0,l.forwardRef)(((e,t)=>{let{onChange:s,onKeyDown:r,value:c,onEnter:u,onRemove:d,...m}=e;
/**
   * Handle change.
   *
   * @param {string} nextValue Change value.
   */return(0,l.createElement)(a.PlainText,(0,n/* ["default"] */.Z)({ref:t,value:c,onChange:e=>{s(e.replace(/\n/g,""))},onKeyDown:e=>{switch(r&&r(e),e.keyCode){case i.ENTER:e.preventDefault(),u&&u(e);break;case i.BACKSPACE:!d||null!=c&&c.length||(e.preventDefault(),d())}}},m,{className:o()("sensei-lms-single-line-input",m.className)}))}));
/* harmony default export */}
/***/,
/***/75245:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */l:()=>/* binding */a
/* harmony export */});
/* harmony import */var n=s(4981),l=s(9818),r=s(69307),o=s(92819);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * External dependencies
 */
/**
 * Insert an empty inner block to the end of the block when it's selected.
 *
 * @param {Object}   opts
 * @param {string}   opts.name             Block to be inserted.
 * @param {boolean}  opts.selectFirstBlock Select inserted block if it's the first one.
 * @param {Object}   opts.attributes       Attributes of a new block.
 * @param {Function} opts.isEmptyBlock     Callback to check if block is empty.
 * @param {Object}   parentProps           Block properties.
 */
const a=(e,t)=>{let{name:s,attributes:a={},selectFirstBlock:i=!1,isEmptyBlock:c}=e;const{clientId:u}=t,{__unstableMarkNextChangeAsNotPersistent:d=o.noop,insertBlock:m}=(0,l.useDispatch)("core/block-editor"),p=(0,l.useSelect)((e=>e("core/block-editor").getBlocks(u))),g=0===p.length,_=(0,r.useCallback)((()=>{const e=(0,n.createBlock)(s,a),t=g&&i;d(),m(e,void 0,u,t)}),[d,m,u,s,a,g,i]),h=p.length&&p[p.length-1],v=h&&c(h.attributes);
// console.log( 'dentro', useDispatch );
(0,r.useEffect)((()=>{v||_()}),[v,_])};
/***/},
/***/92239:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>o
/* harmony export */});
/* harmony import */var n=s(69307),l=s(55609),r=s(70528);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * A custom appender. It is a plus button with some text and pops a dropdown when clicked.
 *
 * @param {Object} props          Component properties.
 * @param {Array}  props.controls DropdownMenu controls.
 * @param {string} props.text     Text to display.
 * @param {string} props.label    Button label.
 */
const o=e=>{let{controls:t,text:s,label:o}=e;return(0,n.createElement)("div",{className:"sensei-lms-text-appender block-editor-default-block-appender"},(0,n.createElement)(l.DropdownMenu,{icon:r/* ["default"] */.Z,toggleProps:{className:"block-editor-inserter__toggle",onMouseDown:e=>e.preventDefault()},label:o,controls:t,popoverProps:{position:"bottom center"},menuProps:{className:"sensei-lms-text-appender__menu"}}),(0,n.createElement)("p",{className:"sensei-lms-text-appender__placeholder","data-placeholder":s}))};
/* harmony default export */}
/***/,
/***/16400:
/***/(e,t,s)=>{"use strict";
/* unused harmony export preloadedDataUsedOnceMiddleware */
/* harmony import */var n=s(96483),l=s(86989);
/* harmony import */s.n(l)().use(
/**
 * WordPress dependencies
 */
/**
 * Use data preloaded with createPreloadingMiddleware only once.
 */
function(){const e={};return(t,s)=>("string"!=typeof t.path||"GET"!==t.method&&t.method||(e[t.path]?t.path=(0,n.addQueryArgs)(t.path,{__skip_preload:1}):e[t.path]=!0),s(t))}())}
/***/,
/***/20832:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */lA:()=>/* binding */l
/* harmony export */,MT:()=>/* binding */r
/* harmony export */});
/* unused harmony export composeFetchAction */
/* harmony import */var n=s(9818);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Compose an action creator with the given start, success and error actions.
 *
 * @param {string}   startAction   Start action type.
 * @param {Function} fetchFn       The action creator to be wrapped. Should return the resolved data.
 * @param {string}   successAction Success action type.
 * @param {string}   errorAction   Error action type.
 * @return {Function} The wrapped action creator.
 */
const l=(e,t)=>function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return(e[n.type]||e.DEFAULT)(n,s)},r=(e,t)=>{if(n.createReduxStore){const s=(0,n.createReduxStore)(e,t);return(0,n.register)(s),s}return(0,n.registerStore)(e,t),e};
/**
 * Create reducer from a map of action type keys and reducer function.
 *
 * @example
 *  createSimpleReducer({ SAMPLE_ACTION: ( { actionProperty }, state ) => ({ ...state, actionProperty }) )
 *
 * @param {Object} reducers     Map of action type - reducer functions.
 * @param {Object} defaultState Default state.
 *
 * @return {Function} Store reducer.
 */}
/***/,
/***/61831:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */g9:()=>/* binding */r
/* harmony export */,Qm:()=>/* binding */o
/* harmony export */,H3:()=>/* binding */a
/* harmony export */});
/* harmony import */var n=s(9818),l=s(69307);
/* harmony import */
/**
 * WordPress dependencies
 */
/**
 * Are the block or any of it's descendants selected.
 *
 * @param {Object}  props
 * @param {boolean} props.isSelected Block selected
 * @param {string}  props.clientId   Block ID
 * @return {boolean} Selection state
 */
const r=e=>{let{isSelected:t,clientId:s}=e;return(0,n.useSelect)((e=>e("core/block-editor").hasSelectedInnerBlock(s,!0)),[s])||t},o=e=>{let{onMount:t}=e;return(0,l.useEffect)((()=>{t()}),[t]),null},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=(0,n.useSelect)((e=>e("core/editor").isSavingPost()&&!e("core/editor").isAutosavingPost()));(0,l.useEffect)((()=>{s&&e();
// eslint-disable-next-line react-hooks/exhaustive-deps
}),[s,...t])};
/**
 * Run callback when component is mounted.
 *
 * @param {Object}   props
 * @param {Function} props.onMount
 */}
/***/,
/***/23728:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */x:()=>/* binding */a
/* harmony export */});
/* harmony import */var n=s(92819),l=s(23418),r=s(9818),o=s(20832);
/* harmony import */s(16400);
/**
 * External dependencies
 */
/**
 * WordPress dependencies
 */
/**
 * Internal dependencies
 */
/**
 * Register structure store and subscribe to block editor save.
 *
 * @param {Object}   opts
 * @param {string}   opts.storeName          Name of store.
 * @param {Function} opts.getEndpoint        REST API endpoint.
 * @param {Function} opts.saveError          Handler for displaying save errors.
 * @param {Function} opts.fetchError         Handler for displaying fetch errors.
 * @param {Function} opts.clearError         Handler for clearing errors.
 * @param {Function} opts.updateBlock        Update block with given structure.
 * @param {Function} opts.blockExists        Check if block exists.
 * @param {Function} opts.readBlock          Extract structure from block.
 * @param {Function} opts.setServerStructure Set the server structure which is used to track differences.
 */
function a(e){let{storeName:t,getEndpoint:s,saveError:a,fetchError:i,clearError:c,updateBlock:u,blockExists:d,readBlock:m,setServerStructure:p,...g}=e;const _={
/**
     * Fetch structure data from REST API.
     */
*loadStructure(){try{const e=yield*s(),t=yield(0,l.apiFetch)({path:`/sensei-internal/v1/${e}`,method:"GET"});yield _.setResult(t)}catch(e){yield null==i?void 0:i(e)}},
/**
     * Persist editor's structure to the REST API.
     */
*saveStructure(){const e=yield(0,r.select)(t).getEditorStructure();try{const t=yield*s(),n=yield(0,l.apiFetch)({path:`/sensei-internal/v1/${t}`,method:"POST",data:e});yield _.setResult(n)}catch(e){yield null==a?void 0:a(e)}},
/**
     * Set fetched structure.
     *
     * @param {Array} serverStructure
     */
*setResult(e){yield _.setServerStructure(e),yield u(e)},
/**
     * Keep last fetched server state for comparison.
     *
     * @param {Array} serverStructure
     */
setServerStructure:e=>({type:"SET_SERVER_STRUCTURE",serverStructure:e}),
/**
     * Keep last editor state.
     *
     * @param {Array} editorStructure
     */
setEditorStructure:e=>({type:"SET_EDITOR_STRUCTURE",editorStructure:e}),
/**
     * Initiate saving the post.
     */
*savePost(){yield{type:"SAVE_POST"},yield(0,r.dispatch)("core/editor").savePost()},
/**
     * Post is saving. Save the structure too if it has changed.
     */
*startPostSave(){yield{type:"START_SAVE"};const e=m();yield _.setEditorStructure(e),yield null==c?void 0:c(),e&&((0,r.select)(t).hasUnsavedEditorChanges()&&(yield*_.saveStructure()),yield{type:"FINISH_SAVE"})},
/**
     * Finished saving post and structure.
     * Check if either needs to be saved again due to new changes.
     */
*finishPostSave(){yield{type:"FINISH_POST_SAVE"};const{hasUnsavedServerUpdates:e}=(0,r.select)(t);e()&&(yield*_.savePost())},
/**
     * Set linked block.
     *
     * @param {string} clientId Block ID.
     */
*setBlock(e){yield{type:"SET_BLOCK",clientId:e}}},h={SET_SERVER_STRUCTURE:(e,t)=>{let{serverStructure:s}=e;const l=!t.editorStructure,r=p?p(s):s,o=!l&&!(0,n.isEqual)(r,t.editorStructure);return{...t,serverStructure:r,hasUnsavedServerUpdates:o,hasUnsavedEditorChanges:!1}},SET_EDITOR_STRUCTURE:(e,t)=>{let{editorStructure:s}=e;const l=!(0,n.isEqual)(t.serverStructure,s);return{...t,editorStructure:s,hasUnsavedEditorChanges:l&&!!s}},START_SAVE:(e,t)=>({...t,isSavingStructure:!0}),FINISH_SAVE:(e,t)=>({...t,isSavingStructure:!1}),SAVE_POST:(e,t)=>({...t,hasUnsavedServerUpdates:!1}),SET_BLOCK:(e,t)=>{let{clientId:s}=e;return{...t,clientId:s}},DEFAULT:(e,t)=>t};return{unsubscribe:(()=>{let e=!1,s=!1,n=!1;return(0,r.subscribe)((function(){const l=(0,r.select)("core/editor"),o=(0,r.select)("core/edit-post");if(!l||!o)return;
// Check if the block exists.
if(!d())return;const a=(0,r.select)(t).getIsSavingStructure(),i=l.isSavingPost()&&!l.isAutosavingPost();i&&(s=!0);const c=o.isSavingMetaBoxes();c&&(n=!0),e||i||c||!s||!n?e&&!a&&(
// Call finishPostSave when structure has finished saving.
e=!1,(0,r.dispatch)(t).finishPostSave()):(
// Start saving structure when post has finished saving.
e=!0,s=!1,n=!1,(0,r.dispatch)(t).startPostSave())}))})(),store:(0,r.registerStore)(t,{reducer:(0,o/* .createReducerFromActionMap */.lA)({...h,...null==g?void 0:g.reducers},{serverStructure:null,editorStructure:null,isSavingStructure:!1,hasUnsavedServerUpdates:!1,hasUnsavedEditorChanges:!1,clientId:null}),actions:{..._,...null==g?void 0:g.actions},selectors:{hasUnsavedServerUpdates:e=>{let{hasUnsavedServerUpdates:t}=e;return t},hasUnsavedEditorChanges:e=>{let{hasUnsavedEditorChanges:t}=e;return t},getIsSavingStructure:e=>{let{isSavingStructure:t}=e;return t},getServerStructure:e=>{let{serverStructure:t}=e;return t},getEditorStructure:e=>{let{editorStructure:t}=e;return t},getBlock:e=>{let{clientId:t}=e;return t},...null==g?void 0:g.selectors},controls:{...l.controls,...null==g?void 0:g.controls}})}}
/***/},
/***/47369:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});for(
/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */
var n=[],l=0;l<256;++l)n[l]=(l+256).toString(16).substr(1);
/* harmony default export */const r=function(e,t){var s=t||0,l=n;// join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4
return[l[e[s++]],l[e[s++]],l[e[s++]],l[e[s++]],"-",l[e[s++]],l[e[s++]],"-",l[e[s++]],l[e[s++]],"-",l[e[s++]],l[e[s++]],"-",l[e[s++]],l[e[s++]],l[e[s++]],l[e[s++]],l[e[s++]],l[e[s++]]].join("")};
/***/},
/***/3135:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>/* binding */r
/* harmony export */});
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
// getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
// find the complete implementation of crypto (msCrypto) on IE11.
var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),l=new Uint8Array(16);// eslint-disable-line no-undef
function r(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(l)}
/***/},
/***/70942:
/***/(e,t,s)=>{"use strict";
/* harmony export */s.d(t,{
/* harmony export */Z:()=>r
/* harmony export */});
/* harmony import */var n=s(3135),l=s(47369);
/* harmony import */
/* harmony default export */const r=function(e,t,s){var r=t&&s||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n/* ["default"] */.Z)();// Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
// Copy bytes to buffer, if provided
if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[r+a]=o[a];return t||(0,l/* ["default"] */.Z)(o)};
/***/},
/***/99196:
/***/e=>{"use strict";e.exports=window.React}
/***/,
/***/92819:
/***/e=>{"use strict";e.exports=window.lodash}
/***/,
/***/86989:
/***/e=>{"use strict";e.exports=window.wp.apiFetch}
/***/,
/***/52175:
/***/e=>{"use strict";e.exports=window.wp.blockEditor}
/***/,
/***/4981:
/***/e=>{"use strict";e.exports=window.wp.blocks}
/***/,
/***/55609:
/***/e=>{"use strict";e.exports=window.wp.components}
/***/,
/***/94333:
/***/e=>{"use strict";e.exports=window.wp.compose}
/***/,
/***/9818:
/***/e=>{"use strict";e.exports=window.wp.data}
/***/,
/***/23418:
/***/e=>{"use strict";e.exports=window.wp.dataControls}
/***/,
/***/72067:
/***/e=>{"use strict";e.exports=window.wp.editPost}
/***/,
/***/12238:
/***/e=>{"use strict";e.exports=window.wp.editor}
/***/,
/***/69307:
/***/e=>{"use strict";e.exports=window.wp.element}
/***/,
/***/92694:
/***/e=>{"use strict";e.exports=window.wp.hooks}
/***/,
/***/65736:
/***/e=>{"use strict";e.exports=window.wp.i18n}
/***/,
/***/39630:
/***/e=>{"use strict";e.exports=window.wp.keycodes}
/***/,
/***/70444:
/***/e=>{"use strict";e.exports=window.wp.primitives}
/***/,
/***/96483:
/***/e=>{"use strict";e.exports=window.wp.url}
/***/,
/***/90005:
/***/(e,t)=>{var s;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/* global define */!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=o(e,r(s)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=o(t,s));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(s=function(){return l}.apply(t,[]))||(e.exports=s)}()}
/***/,
/***/25773:
/***/(e,t,s)=>{"use strict";
/* harmony export */function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},n.apply(this,arguments)}
/***/s.d(t,{
/* harmony export */Z:()=>/* binding */n
/* harmony export */})},
/***/38842:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/quiz-category-question","title":"Category Question","description":"Pull questions from a question category.","parent":["sensei-lms/quiz"],"category":"sensei-lms","textdomain":"sensei-lms","supports":{"html":false},"attributes":{"id":{"type":"integer"},"type":{"type":"string","default":"category-question"},"categoryName":{"type":"string"},"options":{"type":"object","default":{"category":null,"number":1}}}}')}
/***/,
/***/95073:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/question-answers","apiVersion":2,"title":"Answers","description":"Question Answers.","parent":["sensei-lms/quiz-question"],"category":"sensei-lms","textdomain":"sensei-lms","supports":{"html":false},"attributes":{}}')}
/***/,
/***/37629:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/quiz-question","title":"Question","apiVersion":2,"description":"The building block of all quizzes.","parent":["sensei-lms/quiz"],"category":"sensei-lms","textdomain":"sensei-lms","supports":{"html":false},"example":{"attributes":{"title":"What are power chords?","answer":{"answers":[{"label":"  A chord consisting of a root note of the chord and a 5th","correct":true},{"label":"  A chord playing on an electric guitar","correct":false}]}}},"attributes":{"id":{"type":"integer"},"title":{"type":"string"},"type":{"type":"string","default":"multiple-choice"},"answer":{"type":"object"},"options":{"type":"object","default":{"grade":1,"hideAnswerFeedback":""}},"editable":{"type":"boolean","default":true,"source":false}}}')}
/***/,
/***/89627:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/question-description","apiVersion":2,"title":"Description","description":"Question Description.","parent":["sensei-lms/quiz-question"],"category":"sensei-lms","textdomain":"sensei-lms","supports":{"html":false},"attributes":{"id":{"type":"integer"}}}')}
/***/,
/***/75744:
/***/e=>{"use strict";e.exports=JSON.parse('{"name":"sensei-lms/quiz","title":"Quiz","apiVersion":2,"description":"Evaluate progress and strengthen understanding of course concepts.","category":"sensei-lms","textdomain":"sensei-lms","keywords":["exam","questions","test","assessment","evaluation"],"supports":{"html":false,"multiple":false},"attributes":{"id":{"type":"integer"},"options":{"type":"object","default":{"passRequired":false,"quizPassmark":0,"autoGrade":true,"allowRetakes":true,"randomQuestionOrder":false,"showQuestions":null,"failedShowAnswerFeedback":false,"failedShowCorrectAnswers":false,"failedIndicateIncorrect":false,"buttonTextColor":null,"buttonBackgroundColor":null,"pagination":{}}},"isPostTemplate":{"type":"boolean","default":false}},"example":{"innerBlocks":[{"name":"sensei-lms/quiz-question","attributes":{"title":"What are power chords?","answer":{"answers":[{"label":"  A chord consisting of a root note of the chord and a 5th","correct":true},{"label":"  A chord playing on an electric guitar","correct":false}]}}},{"name":"sensei-lms/quiz-question","attributes":{"title":"What part of the guitar do you adjust when tuning it?","answer":{"answers":[{"label":"  The Tuning Pegs","correct":true},{"label":"  The Fretboard","correct":false},{"label":"  The Neck","correct":false}]}}}]}}')}
/***/
/******/},t={};
/************************************************************************/
/******/ // The module cache
/******/
/******/
/******/ // The require function
/******/function s(n){
/******/ // Check if module is in cache
/******/var l=t[n];
/******/if(void 0!==l)
/******/return l.exports;
/******/
/******/ // Create a new module (and put it into the cache)
/******/var r=t[n]={
/******/ // no module.id needed
/******/ // no module.loaded needed
/******/exports:{}
/******/};
/******/
/******/ // Execute the module function
/******/
/******/
/******/ // Return the exports of the module
/******/return e[n](r,r.exports,s),r.exports;
/******/}
/******/
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/
/******/ // getDefaultExport function for compatibility with non-harmony modules
/******/s.n=e=>{
/******/var t=e&&e.__esModule?
/******/()=>e.default
/******/:()=>e
/******/;
/******/return s.d(t,{a:t}),t;
/******/},
/******/ // define getter functions for harmony exports
/******/s.d=(e,t)=>{
/******/for(var n in t)
/******/s.o(t,n)&&!s.o(e,n)&&
/******/Object.defineProperty(e,n,{enumerable:!0,get:t[n]})
/******/;
/******/},
/******/s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)
/******/,
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(()=>{"use strict";
/* harmony import */var e=s(53227),t=s(1647),n=s(32365),l=s(55354),r=s(98399),o=s(55220),a=s(97698);
/* harmony import */s(37895);
/**
 * Internal dependencies
 */
const i=[a/* ["default"] */.Z,r/* ["default"] */.Z,o/* ["default"] */.Z,n/* ["default"] */.Z,t/* .answerFeedbackCorrectBlock */.p,t/* .answerFeedbackIncorrectBlock */.h,l/* ["default"] */.Z];(0,e/* ["default"] */.Z)(i)})()})
/******/();